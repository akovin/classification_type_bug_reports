1163874690,How to automate the Symantec VIP access code using cypress?,"### What would you like?

How can we automate the Symantec vip access code using cypress? For okta login we already have npm package as cypress-otp- https://www.npmjs.com/package/cypress-otp. But for symantec vip how we are going to automate? I have gone thru this link but this is not accepting the credentials id for VIP access - https://docs.cypress.io/guides/guides/web-security#Form-Submission-Redirects. How cypress would get to know that this code is for my userid and password?

### Why is this needed?

To automate the Symantec VIP

### Other

_No response_",question
899538735,Cy.intercept() doesn't catch request to GET png,"So I'm having problems calling cy.intercept() on a GET png file. 
I can't expose the real test environment but have reproduced with a call to trello home page.

Apologies in advance if this is due to some error on my part - I did put out a mayday call on the gitter forum but got no reply ;-)

### Current behavior
Call to cy.intercept() fails for a GET png file - get error 'No request ever occurred' on subsequent cy.wait()

### Desired behavior
cy.intercept()/cy.wait() should catch the call to GET .png file

### Test code to reproduce
```
describe('Reproduce GET png issue', () => {

    it('should open trello homepage - stub hero.png', () => {

        cy.intercept(
            'GET', '*/hero.png',
            {
                statusCode: 200,
                fixture: 'testStub.png'
            }).as('testStub');

        cy.visit('https://trello.com');
        cy.wait('@testStub');

        cy.get('h1').contains('Trello helps teams move work forward.').should('be.visible');
    });
});
```

![image](https://user-images.githubusercontent.com/57501449/119333419-1e9c4a80-bc8a-11eb-806d-9a57789a9aa9.png)

![image](https://user-images.githubusercontent.com/57501449/119333639-60c58c00-bc8a-11eb-994f-d341a8bc57ae.png)

### Versions
cypress 7.3.0
chrome 90.0
windows 10 pro

",question
876372253,The variables of level above are nullified  on the test case after using the cy.visit command,"Reproducibility: Always
Env: Win10x64 v: 17134
**Steps**
1. Make a test case
2. Create variables of level above 
3. Collect data from first test case
4. Create second test case
5. Use the cy.visit command
6. Use the variable of level above
7. Observe
**Act**: The data of variable is nullified
**Exp**: The data of variable remained the same

**Example:**
let collect;
describe('RegistrationTestSuiteOnsite', () => {
    it('changes state', () => {
    cy.visit(""http://www.google.com/"")
    collect = ""Name of Nubia""   
    cy.log(collect) 
    });
    it('changes state1', () => {
    cy.visit(""http://mailinator.com"")
    cy.log(collect)   
    });
    });

**Attachtments**
    
![JYVw48e3p8](https://user-images.githubusercontent.com/74537180/117137192-04b9c700-adb2-11eb-957e-02de1f6fccba.png)
",question
851020100,Assert on HTML contents always fails if HTML includes a symbol,"### Current behavior

There is an element 
```
<span>
&radic;y
</span>
```
 .. i.e. square root of y.

The assertion

    cy.get('span').should('have.html', ""&radic;y"");

fails.

![image](https://user-images.githubusercontent.com/11148387/113665287-83392100-96ad-11eb-8ef5-0ea09b03d426.png)

This is Cypress 6.6.0.

It is unclear how (or if) it is possible to make this assertion work. It seems to work fine with other HTML content.
",question
786798452,Check for file and directory names,"<!-- üëã Use the template below to request a feature. 

Have a question? Start a new discussion üëâ https://github.com/cypress-io/cypress/discussions

Please be patient and we will respond as soon as we can. üôè -->

### What would you like?
<!-- A clear description of the feature or enhancement wanted in Cypress -->

Today I ran into an issue when I released a new version of my app to thousands of users. 

I added some new directories with php files into my app and all worked fine on my test machine. 

But, for some users the update broke their website. 

The reason was, that I named one folder with a capital letter like so `Example` instead of `example`.

My autoloader was working fine on my system because it is not capitalization sensitive. But other servers don't ignore capitalization and throw errors. 

Is there a way in Cypress to test all my file and folder structure for capitalization? 

If not, could you add this feature?

Thanks



",question
785308726,Cy.Intercept() not working correctly falsely intercepting ,"<!-- üëã Use the template below to report a bug. Fill in as much info as possible. 

Have a question? Start a new discussion üëâ https://github.com/cypress-io/cypress/discussions

As an open source project with a small maintainer team, it may take some time for your issue to be addressed. Please be patient and we will respond as soon as we can. üôè -->

### Current behavior
Im trying to stub a password reset request, in order to have it available for continuous testing and not send out repeated emails.


I run the script in cypress tool and it comes up successfully stubbed but then the email is still getting through! I'm not sure what i did wrong. 
### Desired behavior
I want it to stop the request from going through, i just want to verify it is being sent. Will Cypress not stop automatically or do I have to pass a response to the request?

### Test code to reproduce
<!-- Provide test code that we can copy, paste, and run on our machine to see the issue. -->
`
 it('Reset Pass works', () => {
        cy.intercept('GET', '/api/v1/*')
        cy.intercept('POST', '/api/v1/auth/resetPassword/', req => {
            console.log('POST email sent', req)
        }).as('Reset')
        cy.intercept('https://app.passiv.com/app/reset-password').as('redirect')
        cy.contains('Reset').click()
        cy.get('input').click().type('asutherland8219@gmail.com')
        cy.get('button').contains('Reset').click()
    

    })
`


<!-- You could also provide a repo that we can clone and run. You can fork üëâ https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork. -->

### Versions

<!-- Cypress version, last known working Cypress version (if applicable), Browser and version, Operating System, CI Provider, etc -->
Using most up to date cypress,  linux manjaro and firefox 


![image](https://user-images.githubusercontent.com/60415557/104487859-feee6a80-55a3-11eb-95b7-898c8361f750.png)
",question
785273508,Intercept - unable to modify request body before sending to destination,"<!-- üëã Use the template below to report a bug. Fill in as much info as possible. 

Have a question? Start a new discussion üëâ https://github.com/cypress-io/cypress/discussions

As an open source project with a small maintainer team, it may take some time for your issue to be addressed. Please be patient and we will respond as soon as we can. üôè -->

### Current behavior
<!-- A description including screenshots, stack traces, DEBUG logs, etc. üëâ https://on.cypress.io/troubleshooting -->

In the runner, I can see that the request has been stubbed and in the console I can see that the body has been modified by the stub, but in the actual request payload it still contains the unmodified value.

Stub
![image](https://user-images.githubusercontent.com/13355055/104482598-f41fdf80-557b-11eb-91cc-47bddd031f8e.png)

Payload
![image](https://user-images.githubusercontent.com/13355055/104482689-131e7180-557c-11eb-9392-284ab9055f8c.png)


### Desired behavior
<!-- Remember, we are not familiar with the application you're testing, so please provide a clear description of what should happen.-->

Payload should contain the value as shown here:
![image](https://user-images.githubusercontent.com/13355055/104482917-60024800-557c-11eb-9cb0-81c7cc1e0837.png)


### Test code to reproduce
<!-- Provide test code that we can copy, paste, and run on our machine to see the issue. -->

```
    it(""/// Not Working ///: displays an error if a request is submitted with count < 0"", () => {

        cy.intercept('POST', 'http://localhost:3002/count', (req) => {
            // set the request body to something different before it's sent to the destination
            req.body = '-1';
        }).as('count')

        cy.getByTestId(id.submit).click(); // invokes post request

        cy.wait('@count').then(xhr => {
            // this asserts correctly (as expected)
            expect(xhr.request.body).to.equal(""-1"")
        })

        cy.getByTestId(id.error).should('be.visible'); // should display if value < 0
    });
```


<!-- You could also provide a repo that we can clone and run. You can fork üëâ https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork. -->

### Versions

<!-- Cypress version, last known working Cypress version (if applicable), Browser and version, Operating System, CI Provider, etc -->
Applies to 6.2.0 and 6.2.1",question
784541094,cy.wrap() makes methods loose reference,"### Current behavior
When you set a method inside a object using another variable,
it seems that cy.wrap() will loose track of it.
But if you set a method inside the object itself,
cy.wrap will be able to call the method

### Desired behavior
I'm not extremely familiar with Cypress (or any Javascript), 
but i believe that i should be able call methods inside objects as in both examples

### Test code to reproduce

```js
const bar = () => {
    // this represents a method
};

// This object will throw undefined when trying to use its methods
let ObjectListError = {
    entry = { propertyStr: ""foo"", propertyInt: 1, propertyFunc: bar}
}

// This object will work properly
let ObjectList = {
    entry = { propertyStr: ""foo"", propertyInt: 1, propertyFunc: () => {
            // this represents a method
        }}
}

When('Wraping objects', () => {
    cy.wrap(ObjectList.entry).as('ObjectList')
    cy.wrap(ObjectListError.entry).as('ObjectListError')
})

Then('Using properties from objects', () => {
    cy.get('@ObjectList').then($object=>{
        cy.log($object);
        // This will show that propertyFunc is a function
        // { propertyStr: ""foo"", propertyInt: 1, propertyFunc: function(){ }}
        // $object.propertyFunc() will work as intended
    })
    
    cy.get('@ObjectListError').then($object=>{
        cy.log($object);
        // This will show that propertyFunc as undefined
        // { propertyStr: ""foo"", propertyInt: 1, propertyFunc: undefined}
        // $object.propertyFunc() will throw an error
    })
})
```

### Versions
Cypress Version 6.1.0
-From what i've read in the changelog, this ""bug"" is still present in 6.2.0 and 6.2.1
",question
771136594,find API is not timing out up to defaultCommandTimeout,"<!-- üëã Use the template below to report a bug. Fill in as much info as possible. 

Have a question? Start a new discussion üëâ https://github.com/cypress-io/cypress/discussions

As an open source project with a small maintainer team, it may take some time for your issue to be addressed. Please be patient and we will respond as soon as we can. üôè -->

### Current behavior
<!-- A description including screenshots, stack traces, DEBUG logs, etc. üëâ https://on.cypress.io/troubleshooting -->
It seems like `find` command isn't waiting until `defaultCommandTimeout` or `{timeout: ####}` to expire.

<img width=""1018"" alt=""image"" src=""https://user-images.githubusercontent.com/2043287/102655911-e9faf480-4127-11eb-82ec-b9f2ee6f8d86.png"">


### Desired behavior
<!-- Remember, we are not familiar with the application you're testing, so please provide a clear description of what should happen.-->

### Test code to reproduce
<!-- Provide test code that we can copy, paste, and run on our machine to see the issue. -->

> export function clickIfExist(element) {
  const date = new Date()
  cy.get('body').then((body) => {
    cy.log(`Before find: ${date.getTime()}`)
    if (body.find(element, {timeout: 20000}).length > 0) {
      cy.log(`Found it: ${date.getTime()}`)
      cy.log('Clicking element', element);
      cy.get(element).then(($button) => {
        if (($button).is(':visible')) {
          cy.wrap($button).click();
        }
        else {
          cy.log(`'${element}' is not visible`)
        }
      })
    } else {
      cy.log(`Didn't find it: ${date.getTime()}`)
      cy.log('Element not found, not clicking', element);
    }
  });
}

<!-- You could also provide a repo that we can clone and run. You can fork üëâ https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork. -->

### Versions

<!-- Cypress version, last known working Cypress version (if applicable), Browser and version, Operating System, CI Provider, etc -->

Cypress: 6.1.0
Chrome:  87.0.4280.88
Mac: 11.0.1",question
770998356,cy.wait() with alias cy.intercept() does not match child routes,"### Current behavior
when you use cy.intercept().as('some-alias') and then cy.wait() for that alias if a route has the same parent path as another alias the parent alias is always assigned and the child wait will fail

I believe this is similar to https://github.com/cypress-io/cypress/issues/9526 but my issue was happens reliably and only for parent/child routes but feel free to close this and answer there I posted comments there as well

### Desired behavior
child route should have its own alias recognized
### Test code to reproduce
I created a super simple reproduction on StackBlitz, you will have to run it locally though just do a ```npm start``` then ```npm run test```

https://stackblitz.com/edit/js-h7pfkz?file=package.json
### Versions
this happens on 6.0.1, 6.1.0 and 5.6.0 (with route2)
",question
762257196,"Migrated to cy.intercept, but need headers on every request now, because of CORS.","I migrated to cy.intercept, but have to add headers on every request now, because of CORS.

 // old code
 // cy.server();
 // cy.route('api/Settings/BuildInformation', 'fixture:Navigation/Settings/buildversion.json').as('buildversion');

// new code
    cy.intercept('api/Settings/BuildInformation', {
      **headers: { 'access-control-allow-origin': 'http://localhost:4200', 'Access-Control-Allow-Credentials': 'true' },**
      fixture: 'Navigation/Settings/buildversion'
    }).as('buildversion');


### What would you like?
It should be nice if you can add this headers at one place (like in an interceptor), instead of adding this headers line on every request.
And it is also impossible to use a feature file for headers.
header.json
_{
    ""access-control-allow-origin"": ""http://localhost:4200"",
    ""Access-Control-Allow-Credentials"": ""true""
}_

Code would then be:
cy.intercept('api/Settings/BuildInformation', {
      **headers: header,**
      fixture: 'Navigation/Settings/buildversion'
    }).as('buildversion');


### Why is this needed?
Less double code in Cypress tests.",question
761538697,before all hooks being called before anything else when all spec files are run sequentially,"### Current behavior
I currently have a before all hook at the beginning of each of my spec files, and when i run each spec file individually everything works as expected. However, when I click 'Run x integration specs' on the top right of the Cypress GUI, it seems all of the 'before all' hooks run sequentially, rather than only running within their specific spec files. 

### Desired behavior
I'd like it so that the 'before all' hooks only run within the scope of their spec files, and not all at once/sequentially before any of the actual content of each spec file is run. 

### Test code to reproduce
```
before(() => {
    cy.visit('https://www.google.com');
});

describe('tests for error', () => {
    it('test', () => {
        cy.contains('Google');
    });
});
```

Copy this code into two separate files and run them using the 'Run 2 integration specs' button on the top right of the Cypress GUI. You should see two before all statements before either of the 'contains' commands run.

### Versions
6.1.0
****",question
754394084,Cypress and Jest Typescript types collision,"### Current behavior
I can't find a setup which does a types check for both my Jest and Cypress tests at the same time without type collisions. I need to exclude the `cypress` folder from the TSC compiler to get it to work.

[The example in the documentation](https://github.com/cypress-io/cypress-and-jest-typescript-example) basically does the same: only the `src` folder is included in the root `tsconfig.json`, ignoring the `cypress` folder.

### Desired behavior
Being able to run `tsc` and not have type collisions while having the `cypress` and `src` folders included in the root `tsconfig.json`.

### Test code to reproduce
I made a small repo which illustrates the bug. You can find it [here](https://github.com/daviddelusenet/cypress-jest-typescript). Please follow the instructions in the README to replicate the bug.

### Versions
The latest and greatest of everything.

Please let me know if you need any more information, I'll be happy to provide it. Thanks in advance!
",question
744185125,How to return a list of objects from Cypress Custom Commands in type script,"I am using Cypress for my end to end Integration tests. I have a use case which involves returning a list of objects from Cypress Custom Commands and I have a difficulty in doing so. Here is my code pointer:

### index.ts

```ts
declare global {
    namespace Cypress {
        interface Chainable<Subject> {
            getTestDataFromElmoDynamoDB({locale, testType}): Cypress.Chainable<JQuery<expectedData[]>> // ??? not sure what return type should be given here.
        }
    }
}


Cypress.Commands.add('getTestDataFromDynamoDB', ({locale, testType}) => {
    // expectedData is an interface declared. My use case is to return the list of this type.
    let presetList: expectedData[] 
    cy.task('getTestDataFromDynamoDB', {
        locale: locale,
        testType: testType
    }).then((presetData: any) => {
        presetList = presetData;
        // the whole idea here is to return presetList from cypress task
        return cy.wrap(presetList) //??? not sure what should be written here
    })
})

```

### sampleSpec.ts

```ts
describe('The Sample Test', () => {

    it.only('DemoTest', () => {
        cy.getTestDataFromElmoDynamoDB({
            locale: env_parameters.env.locale,
            testType: ""ChangePlan""
        }).then((presetlist) => {
           // not sure on how to access the list here. Tried wrap and alias but no luck.
            presetList.forEach((preset: expectedData) => {
              //blah blah blah
            })
        })
    })
})
```

Did anyone work on similar use case before?

Thanks,
Saahith",question
737380713,Support to call cy.task/ custom command outside of 'it' block in cypress,"<!-- üëã Use the template below to report a bug. Fill in as much info as possible. 

As an open source project with a small maintainer team, it may take some time for your issue to be addressed. Please be patient and we will respond as soon as we can. üôè -->

### Use case
My widget based application has a use case where in we validate widget/UI page behavior for different customer types. We will have to run a single test for different customer types like A,B,C,D....This customer related test data (A,B,C,D) is stored in AWS DynamoDB and gets retrieved during run time. Is there any way I can run the same test for different test data retrieved on run time (using task) in Cypress?

### Current behavior
<!-- A description including screenshots, stack traces, DEBUG logs, etc. üëâ https://on.cypress.io/troubleshooting -->
- With the current limitations of cypress, cy.task or custom commands cannot be run outside of 'it' block.

### Desired behavior
<!-- Remember, we are not familiar with the application you're testing, so please provide a clear description of what should happen.-->
- I am looking for ways to get a way to run single test for different test data (A,B,C in above case). The test data is retrieved at run time from DynamoDB.

### Test code to reproduce
<!-- Provide test code that we can copy, paste, and run on our machine to see the issue. -->

## My Test Spec File
### Code Trace 1

// Comment
Note: The below code is not working because of variable undefined exception. As per my understanding, this is because of the way cypress runs its commands. 
In this example, I am waiting for my test data in before() block...but the line testDataList.forEach((...) executes before the 'before() {...}' block. 
As the variable testDataList will not be defined by that time, the exception is thrown. Please let me know if my understanding is incorrect or if there is an alternative to achieve the same task. 
FYI: I have tried the same code with beforeEach() block too.
// 
```js
let testDataList: string[]

before(() => {
        // this task needs two input parameters to retrieve test data from DynamoDB.
        cy.task('getTestDataFromDynamoDB', {
            locale: ""locale"", // sample value ""US""
            testType: ""testType"" // another query parameter required to retrieve test data from Dynamo DB
        }).then((testData: any) => {
            testDataList = testData
        })
})

describe('SampleTest', () => {
    testDataList.forEach((string) => {
        it('FeatureUnderTests', () => {
            // My Test steps involves clicking on few elements.
            cy.get('getElement1').click()
            cy.get('getElement2').click()
                ....
            cy.get('getElement3').click()
        })
    })
})

```


### Code Trace 2

//Note This doesn't work as cypress commands cannot be called out of 'it' block

// Comment/Description
Note: This doesn't work as cypress commands cannot be called out of 'it' block. I have tried calling the task from a custom command but the same limitation exists. If my test data is available before the test I would have done something like [A,B,C].forEach(() => { it(..)})...but in my case A,B,C gets retrieved at runtime from cy.task.
// 


```js
describe('SampleTest', () => {

    let testDataList: string[]

    cy.task('getTestDataFromDynamoDB', {
        locale: ""locale"", // sample value ""US""
        testType: ""testType"" // another query parameter required to retrieve test data from Dynamo DB
    }).then((testData: any) => {
        testDataList = testData
    }).then(() => {
        testDataList.forEach((preset) => {
            it('FeatureUnderTests', () => {
                // My Test steps involves clicking on few elements.
                cy.get('getElement1').click()
                cy.get('getElement2').click()
            ....
                cy.get('getElement3').click()
            })
        })
    })
})

```


### Code Trace 3 (which works)
// Comment
The below code works, but here single test is running for different test data....like running forEach block under a it block. I am not sure if this is the right way to solve my use case.
//

```js
describe('SampleTest', () => {
    let testDataList: string[]


beforeEach(() => {
        // this task needs two input parameters to retrieve test data from DynamoDB.
        cy.task('getTestDataFromDynamoDB', {
            locale: ""locale"", // sample value ""US""
            testType: ""testType"" // another query parameter required to retrieve test data from Dynamo DB
        }).then((testData: any) => {
            testDataList = testData
        })
})

    it('FeatureUnderTest', () => {
        testDataList.forEach((testData) => {
             // My Test steps involves clicking on few elements.
                cy.get('getElement1').click()
                cy.get('getElement2').click()
            ....
                cy.get('getElement3').click()
        })
    })
})
```



### Tasks Plugin file common to both code

// plugins/index.ts file

```ts
module.exports = (on, config) => {
    on('task', {
        getTestDataFromDynamoDB : async () => {
            // This task the logic of retrieving the test data from AWS dynamo DB.
        },
    })
}
```


<!-- You could also provide a repo that we can clone and run. You can fork üëâ https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork. -->

### Versions
- Checked this on cypress version : 5.4.0, Browser: Chrome, OS: Mac OS

<!-- Cypress version, last known working Cypress version (if applicable), Browser and version, Operating System, CI Provider, etc -->
",question
731731434,I want to save an element text/value in a variable to use in assertions later.,"Hi,

I want to be able to save an element text before closing popup modal to use it in assertions in later steps.
using alias in the beforeEach block doesn't work because the element is not visible/accessible yet.
Also using invoke('text') or .text() or set the value as env value leave the variable undefined because of the async behavior.

here's my code
```js
    let formatText; 
    cy.get(projectsPage.projectFormatList).eq(projectFormatIndex).find('span').then(($formatElement) => {
            formatText = $formatElement.text();
OR
            formatText = $formatElement.invoke('text');
            cy.get($formatElement).click();
        })

//After modal close and doing some required steps
    cy.get(projectsPage.projectFormat).should('have.text', formatText);
```

Is there anything that I miss? if not then I think this is a must have feature really.  ",question
723955106,Unable to open Chrome Dev tool for Debugging ,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior
<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior
<!-- A clear description of what you want to happen -->

### Test code to reproduce
<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions
<!-- Cypress, operating system, browser -->
",question
721638588,Cypress problems take value and compare it. Scope variable,"I have this HTML structure:

    <tr id=""post-7053"" class=""iedit author-other level-0 post-7053 type-poi status-publish hentry webmapp_category-corbezzolo"" data-id=""7053"">
       <th scope=""row"" class=""check-column"">
          <label class=""screen-reader-text"" for=""cb-select-7053"">
          Seleziona 594			</label>
          <input id=""cb-select-7053"" type=""checkbox"" name=""post[]"" value=""7053"">
          <div class=""locked-indicator"">
             <span class=""locked-indicator-icon"" aria-hidden=""true""></span>
             <span class=""screen-reader-text"">
             ‚Äú594‚Äù √® bloccato				</span>
          </div>
       </th>
       <td class=""5da0bb937bd9f column-5da0bb937bd9f has-row-actions column-primary column-postid"" data-colname=""ID"">7053

I have to take the value of an ID and compare it on another site:

i have to get the first table id i managed to get it with this cypress command:

      id = cy.get('tbody#the-list td').first().invoke('val')

only that when I go to compare the value of the variable id. it never enters the if branch. While if I put a value like 7156 or other it enters the if branch and makes the comparison.

below the test code:

    describe('Registration', () => {
        const email = 'nedo@go.br'
        const password = 'pedhu'
        var id
    
      it('create new Nedo', () => {
          cy.visit('https://test.nedo/wp-admin')
          cy.get('input[name=log]').type(email)
          cy.get('input[name=pwd]').type(password)
          cy.get('input#wp-submit').click()
    
          cy.visit('https://test.nedo/edit.php?post_type=nedo')
    
          id = cy.get('tbody#the-list td').first().invoke('val')
    
       })
    
       it('id', () => {
        cy.visit('https://nedostaging.z.hu/login')
        cy.get('input[name=email]').type('team@nedo.hi')
        cy.get('input[name=password]').type('nedo')
        cy.get('button').contains('Login').click()
        cy.get('#hometable > tbody > tr > td:nth-child(4)').each(($e, index, $list) => {
            const text = $e.text()
            cy.log(id)
            if (text.includes(id)) {//if I put a number instead of id it works
                assert.strictEqual(text, '{""id"":'+id+'}', 'id nedo ok')
            }
    
        })
    
      })





",question
717542431,Asserts and Errors not failing test within cy.route2,"
### Current behavior
I'm trying to get a download test to work. Am doing this by intercepting a graphql call (so the page load timeout issue does not occur) and while I am at it, I would like to verify stuff in the request. I found this page https://glebbahmutov.com/blog/smart-graphql-stubbing/ which is super helpful. However whenever I do an assert within the route handler function (and it fails) it does not fail the test. Sorry if this is already known about but the documentation in route2 seems to indicate that you can do assertions within there. To get around this I have to do .as('saveRequest') and then do cy.wait(). . .. several times until I hit the right request as there are lots of graphql calls going on which are only distinguishable by their operationName, once I find the one with the right operationName, then I can do the assertion I need to do in there.


### Desired behavior
As there are lots of graphql calls, it would be preferable to be able to do any required assertion within the route2 routeHandler instead.

### Test code to reproduce
```js
cy.route2(
        {
          method: 'POST',
          url: 'xxxxxxxx/graphql',
        },
        (req) => {
          const g = JSON.parse(req.body)
          if (g.operationName === 'xxxGraphqlOperationIWantToCheck') {
            expect(g.variables.someArray.length).to.equal(3); // Can see Cypress is failing this line, but the test is passing
            req.reply({
              body: {
                data: {},
              },
              headers: {
                'access-control-allow-origin': '*',
              },
            });
          }
        },
      )
```
<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions
Cypress 5.3.0
Mac
Chrome
",question
717304259,Feature Request: It would be nice to be able to change a variable in the middle on an it,"### Current behavior
At the moment you are not able to change variables in the middle of an it. `newTeamId` at `cy.url()` has the value `undefined`.

### Desired behavior

It would be nice if we had a command, something like ""cy.reloadVars"", so that we can make changes and check them any time during the test. When i do `cy.url()` i would like `newTeamId` to have the value that i get from the database, since i can't get it before the it beggins because the team is not created.

### Test code to reproduce
The scenario would be something like this:
```js
describe('create a team and check the url if it has the new team id', () => {
    let newTeamId: number;
    it('should create a team and check url', () => {
        cy.xpath('createTeamButton').click();
        // after creating the team, i make a request to the database to get the new team id and store it in newTeamId
        cy.url().should('contain', `/${newTeamId}`);
    })
})
```",question
708376728,Guidance on when to use Commands vs. generic functions,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior
<!-- A description including screenshots, stack traces, DEBUG logs, etc -->
Docs don't have much guidance on the boundaries of usage of Commands.

### Desired behavior
<!-- A clear description of what you want to happen -->

More guidance on when we should use Commands vs. exporting/importing generic functions.

### More description
<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->
Commands seem to be central to the Cypress development experience, but with commands being all in one namespace, there is an inherent concern with overusing them.

In documentation, there doesn't seem to be any guidance around the usage of commands, or what would warrant their usage over simply importing a defined function. It would be nice to get more guidance in this regard, as we don't want to have made a bad decision from the get-go on this matter.
",question
707252602,cypress dynamique selector ,"Hi, 

i'm working in a projet wich contients dynamique selector 

as you can see after each refresh the name of the class be changed.

**cy.get("".MuiToolbar-root-201 > :nth-child(1) > div > .MuiButtonBase-root-252 > .MuiButton-label-227 > .MuiSvgIcon-root-255"").click();

cy.get("".MuiToolbar-root-504 > :nth-child(1) > div > .MuiButtonBase-root-555 > .MuiButton-label-530 > .MuiSvgIcon-root-558"")**",question
706379420,"How to write data in cypress in text file ,line by line","I want to write some run-time values in a text file in cypress using cy.write() line-by-line. But my text file is writing only last value, actually it is getting ovveriden in the text-file. IN
![textfile](https://user-images.githubusercontent.com/65771070/93887605-8e75c200-fd04-11ea-957d-2784eb3a5d5d.PNG)
![writefileissue](https://user-images.githubusercontent.com/65771070/93887614-903f8580-fd04-11ea-846e-347f519135f1.PNG)

 this case how to move control in my text file to next line using the script?
Please see the below code and screen-shots. I want to get all values line-by-line in my txt file.
   var i = 0;   
              for(i=0;i<5;i++) 
             {
                  cy.get('.number').eq(2).then((xhr)  => {
                      cy.log(xhr.text())
                      cy.writeFile('cypress/fixtures/file1.txt',xhr.text())
                  })
             }          

           ",question
702033070,Support of older versions of currently supported browsers,"I still haven't gotten an answer to this question
""Edge, FF, Chome for Windows and Mac OS Safari, FF, Chome including all versions of each 6 months back.""
For example, is Edge ""legacy"" (not based on Chromium supported), older versions of FF(72, 73, 74, etc), older version of Chrome (75, 76, 77, 78, etc). Like I said we have a requirement to support all current browser and 6 months back
Please, let me know

Thanks

Jeff",question
701868489,firefoxGcInterval (Must Be Fixed Order),"### Current behavior:
**Message:** We found an invalid value in the file: `cypress.json`

Expected `firefoxGcInterval` to be a positive number or null or an object with ""openMode"" and ""runMode"" as keys and positive numbers or nulls as values. Instead the value was: `{""openMode"":0,""runMode"":0}`

**Stack trace:**
```
Error: We found an invalid value in the file: `cypress.json`

Expected `firefoxGcInterval` to be a positive number or null or an object with ""openMode"" and ""runMode"" as keys and positive numbers or nulls as values. Instead the value was: `{""openMode"":0,""runMode"":0}`
    at get (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/errors.js:963:15)
    at Object.throwErr [as throw] (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/errors.js:981:9)
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/config.js:292:26
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/config.js:282:18
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/lodash/lodash.js:4925:15
    at baseForOwn (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/lodash/lodash.js:2990:24)
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/lodash/lodash.js:4894:18
    at Function.forEach (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/lodash/lodash.js:9368:14)
    at validate (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/config.js:270:12)
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/lib/config.js:291:12
    at tryCatcher (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:547:31)
    at Promise._settlePromise (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:604:18)
    at Promise._settlePromise0 (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:649:10)
    at Promise._settlePromises (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:729:18)
    at Promise._fulfill (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:673:18)
    at Promise._settlePromise (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:617:21)
    at Promise._settlePromise0 (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:649:10)
    at Promise._settlePromises (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:729:18)
    at Promise._fulfill (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:673:18)
    at Promise._resolveCallback (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:466:57)
    at Promise._settlePromiseFromHandler (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:559:17)
    at Promise._settlePromise (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:604:18)
    at Promise._settlePromise0 (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:649:10)
    at Promise._settlePromises (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:729:18)
    at Promise._fulfill (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:673:18)
    at Promise._settlePromise (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:617:21)
    at Promise._settlePromise0 (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:649:10)
    at Promise._settlePromises (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:729:18)
    at Promise._fulfill (/Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/promise.js:673:18)
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/bluebird/js/release/nodeback.js:42:21
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/jsonfile/index.js:43:5
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/jsonfile/node_modules/graceful-fs/graceful-fs.js:123:16
    at /Users/srs615/Library/Caches/Cypress/5.1.0/Cypress.app/Contents/Resources/app/packages/server/node_modules/graceful-fs/graceful-fs.js:90:16
    at FSReqCallback.readFileAfterClose [as oncomplete] (internal/fs/read_file_context.js:61:3)

```

### Desired behavior:
Able to include json nodes in any order.
No Error.

### Test code to reproduce
cypress.json content contains
  ""firefoxGcInterval"": {
    ""openMode"": 0,
    ""runMode"": 0
  },

### Versions
Cypress 5.1.0, any OS, any Browser
",question
701724233,"Please, clarify browser multi-browser support","Please, clarify browser multi browsers support now and target date support in the future for browsers not supported now.
We need to support
Edge, FF, Chome for Windows and Mac OS  Safari, FF, Chome including all versions of each 6 months back.
Also, are you providing support for the above browsers using Saucelabs or your own cloud grid.  Do you currently have full support for Typescript

Thanks

Jeff


",question
698388161,cy.clock() is not restting broswer date.,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
cy.clock(Date.UTC(2018, 10, 30), is not restting broswer date to specified one. 
<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:
cy.clock(Date.UTC(2018, 10, 30), is expected to reset broswer date to Oct 30, 2018. 
<!-- A clear description of what you want to happen -->

### Test code to reproduce
 cy.clock(Date.UTC(2018, 10, 30), [""Date""]).then(() => {
      cy.log(new Date().toLocaleString());
    });
<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions
cypress: 5.1, 4.12.1
browser: chrome
os:  ubuntu 16.4
<!-- Cypress, operating system, browser -->
![image](https://user-images.githubusercontent.com/57387252/92788728-d244ff00-f3c7-11ea-9d97-230b31feed9f.png)
",question
691518908,Differentiate betwee failure screenshots and .screenshot() results,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

We have the following config option

Option | Default | Description
-- | -- | --
screenshotsFolder | cypress/screenshots | Path to folder where screenshots will be saved from cy.screenshot() command or after a test fails during cypress run

The trouble is that screenshots after failure are different than screenshots taken during a test. Failure reports are test artifacts that don't get checked into source control, but `cy.screenshot()` calls should be under source control so they appear in pull requests for review.


### Desired behavior:

`cy.screenshot()` would write files in a (configurable) directory next to the test file that generated the screenshot, similar to Jest snapshots. (`__screenshots__/my_test__it_should_look_good_1.png`)

Alternatively, you could use a static location for screenshots, but keep failure screenshots and videos separate in .gitignore-able location (say `cypress/failure/screenshots|videos` by default)

### Test code to reproduce

n/a

### Versions

4.11.0
",question
690059773,cy.route() is ignored by <img> and <a> tags in the rendered page,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->
Stubs configured with `cy.route()` are ignored by`<img>` and `<a>` tags on the page.

In the first test, the `fillmurray.com` stub is ignored, and an image of Bill Murray is rendered.

In the second test, the contents of `page2.html` are rendered rather than the string returned by the stub.

![image](https://user-images.githubusercontent.com/139183/91841660-a64caf80-ec4a-11ea-82df-33c2b317c544.png)

The documentation does not make it clear that `cy.route()` has these restrictions, nor does it mention how to work around them.


### Desired behavior:

<!-- A clear description of what you want to happen -->
The stubs are respected:

* in the first test, an image of a kitten is rendered instead of Bill Murray.
* in the second test, the stubbed string `SAUSAGE` is rendered rather than `page2.html`.

If that is not possible (whether by design or not), the limitations should be documented, ideally with instructions on a workaround.

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

https://github.com/unikitty37/cypress-test-tiny

### Versions

<!-- Cypress, operating system, browser -->

Cypress: 5.0.0
OS: macOS 10.14.6 (18G6020)
Browser: Chromium 84.0.4147.0 (Developer Build) (64-bit)",question
689163854,Cypress navigates to a different URL cause of different pageObject vlaues.,"### Current behavior:

I have an chrome extension which will pick the page URL based on the window object of the current active tab. Extension is working as expected in normal usage, but when I try to execute the same with Cypress some of the internal network calls are failing and make the extension non functional. As per our RCA this is all happening cause Cypress navigates to a different URL, as its test run within an i frame with a specifically defined URL. These URLs do not match and thus cause an error when trying to retrieve data from the APIs. 

### Desired behavior:

Window object values should be same.

### Test code to reproduce
To reproduce the same,just fire the URL 'https://www.theglobeandmail.com/' and check the value of  window.location.pathname variable in normal manual test vs cypress tests.

![Screenshot from 2020-08-31 17-45-32](https://user-images.githubusercontent.com/5989845/91718875-e3189800-ebb1-11ea-8426-bf4c21127e52.png)

### Versions

Cypress 5.0, operating system: Ubuntu 18.04, browser Chrome 84
",question
688642810,"Hello, I need some tutorial on how to configure the cypress to run in the continuous integration of the bitbucket pipeline","Hello, I need some tutorial on how to configure the cypress to run in the continuous integration of the bitbucket pipeline",question
672740396,drag select problem,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
```js
public dragSelect(selectionRect: any) {
  debugger
  let that = this;
  let top = selectionRect.top;
  let left = selectionRect.left;
  let right = selectionRect.right;
  let bottom = selectionRect.bottom;
  return this.waitForSelectionHandling().then(() => {

    cy.wait(1500)
    cy.get(""#map"").first().trigger('mousemove', left, top, { which: 1, force: true })
      .trigger('keydown', { keycode: 16, release: false, force: true })
      .trigger(""mousedown"", { button: 0, force: true })
      .trigger(""mousemove"", right, bottom, { force: true })
      .trigger(""mouseup"", { force: true })
      .trigger(""keyup"", { force: true });
  }
}
```
![TestrubberBandSelectionspects](https://user-images.githubusercontent.com/44477404/89291912-a6fa2200-d65b-11ea-803e-9a812c25997d.gif)

### Desired behavior:

I am facing the problem in selecting the vehicles on map using coordinates my case mouse is moving but from source to destination but not selecting any vehicles on map.after pressing shift key and mouse left button it should move to desired position but getting no sucsses. please help in this case

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
672665986,"cypress ""or ""","Is there any possible way of telling cypress that the url should equal someting OR  something else?

For example 
  
           url should equal https://www.google.com/ or https://www.bing.com/ 



",question
664750917,Mock a Response with the binary of a pdf file,"Hello guys, I need help. Happened to me, that I want to mock the response, but my response is retrieving the binary of a pdf and your information, too. Ussually, I don¬¥t have this problem because all the tests that I had expect a response like as Json for example. So
<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
Actual Response:
![image](https://user-images.githubusercontent.com/20380386/88336059-b9469880-cd0a-11ea-8cfe-e2419aa5e8c8.png)

### Desired behavior:
Mock the response, when this is a binary with a pdf file and information associatted to it.
<!-- A clear description of what you want to happen -->

### Versions
Operatin System: Windows Server 8
Cypress: 4.9.0
Chrome: Version 84.0.4147.89
<!-- Cypress, operating system, browser -->
",question
663404181,The way to wait for graphql response.,"According to docs, there is no way to wait for `fetch` request. And I'm using Apollo client for the graphql implementation which uses `fetch` internal. Then, is there no way to wait for this response? Do I have to set timeout enough? How can I manage this? This is question, but there was no answer when I asked to gitter channel. Thanks",question
663329113,how to assert if this text contain at least one words from one statement in cypress.,"how to assert if this text contain at least one words from one statement in cypress.

for example

```js
cy.get('.stitle').contains('learning table',{ matchCase: false })
```

this statement will get true if the `.stitle` have the full of `learning table`,
but I want if `.stitle` have `learning` just, or `table` just, to be true if it is contain at least one words.

without use `learning || table` because I want it to be reusable for any statement

",question
661655725,How can I push item to array list,"Sorry if it is a basic case
I can't push the item to array list
This is code to get the DateTime of list production to sorting
```js
 dateTimeProduct () {
  var date = []
  cy.get('.a-size-base.a-color-secondary.a-text-normal')
  .each(($el) => {
    date.push($el.text()) 
    cy.log($el.text())
  })
  cy.log(date)
}
```
I can see the exactly date-time with ""cy.log($el.text())"". But I can't store them date. With  ""cy.log(date)"" I just see Array[16].
So how can I store/explore the date to sorting. Please help!!!!",question
660256825,Testing font-face,"I want to test font face added to css.

How can I do that?

For now I can't test with snapshot.

Is there any solution for this?",question
659303916,How to rerun specific API till API status modify,"How to run a spcific API in a loop specific object convert from  A to B



Ex: specific order in pending state i need to run that specific api to till to change into Completed status

some times it will take 2 min some times it will take 5 min

Max time i need to for 5min, till 5 min every 5sec i  need to call status API and need to check whether status got updated to pending to completed



If it once change to completed or 5min over then i need to come out from the loop and make test case fail",question
657414077,Cypress Set HTTP request headers,"When a url is visited through cy.visit(url), application makes REST API requests. I need to send a custom header to the service url, otherwise service will fail and application wont show the data.

Can you please suggest how to set the header for all the REST API requests invoked from the application? 

cc @bahmutov @jennifer-shehane ",question
655376293,Running cypress on docker programmatically,"I'm currently running cypress tests using something like:

`await cypress.run({options inserted here})`

I would however like to be able to spin up on of cypress' docker containers (e.g. `docker run <cypress docker image>`) and then go back to the code above and point the tests to run on that container perhaps via an option that can be passed to the `cypress.run()` statement? Most of the suggestions online, only show how to do this via command line but I will like to this in the code itself as mentioned above.",question
654804397,ERROR: Failed to merge reports - Mochawesome,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

I've installed the Mochawesome reporter and all the needed plugins. Whenever I try to run a folder it keeps giving me an ERROR that Cypress failed to merge the reports. It looks like that the script does not create a file in the folder mocha.

It only creates a `report.json` in Mochareports.
![image](https://user-images.githubusercontent.com/59475147/87162474-467afd80-c2c6-11ea-96c4-7d9d7bfaeb8d.png)

this is a part of my `package.json`.

```json
{
  ""scripts"": {
    ""cypress:open"": ""npm install && cypress open"",
    ""cypress:open:local"": ""npm install && cypress open --env configFile=local"",
    ""cypress:open:dev"": ""npm install && cypress open --env configFile=dev"",
    ""cypress:open:tst"": ""npm install && cypress open --env configFile=tst"",
    ""cypress:open:acc"": ""npm install && cypress open --env configFile=acc"",
    ""cypress:run"": ""npm install && cypress run"",
    ""cypress:run:local"": ""npm install && cypress run --browser chrome --headless --env configFile=local"",
    ""cypress:run:tst"": ""npm install && cypress run --browser chrome --headless --env configFile=tst"",
    ""cypress:run:acc"": ""npm install && cypress run --browser chrome --headless --env configFile=acc"",
    ""cypress:run:acc:teampark"": ""npm install && cypress run --browser chrome --headless --env configFile=acc --spec cypress/integration/team_park.js --config video=false"",
    ""clean:reports"": ""(if exist cypress\\reports (rmdir /S /Q cypress\\reports)) && mkdir cypress\\reports && mkdir cypress\\reports\\mocha  &&  mkdir cypress\\reports\\mochareports"",
    ""pretest"": ""npm run clean:reports"",
    ""scripts"": ""cypress run --spec cypress/integration/website/schooltrip/**/*"",
    ""combine-reports"": ""mochawesome-merge  cypress/reports/mocha/*.json > cypress/reports/report.json"",
    ""generate-report"": ""marge cypress/reports/mochareports/report.json -f report -o cypress/reports/mochareports"",
    ""posttest"": ""npm run combine-reports && npm run generate-report"",
    ""test"": ""npm run scripts || npm run posttest""
```

### Desired behavior:

What cypress needs to do according to all online explanation is to create a file in the Mocha and Mochareports and merge these files in order to get an HTML report.

Error given after a run:
```
> @ posttest C:\Users\iessadeq\Desktop\*********l\******-cypress-tests-master
> npm run combine-reports && npm run generate-report


> @ combine-reports C:\Users\iessadeq\Desktop\***********\*****-cypress-tests-master
> mochawesome-merge  cypress/reports/mocha/*.json > cypress/reports/report.json

ERROR: Failed to merge reports

Error: Pattern cypress/reports/mocha/*.json matched no report files

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @ combine-reports: `mochawesome-merge  cypress/reports/mocha/*.json > cypress/reports/report.json`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the @ combine-reports script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\iessadeq\AppData\Roaming\npm-cache\_logs\2020-07-10T13_54_21_097Z-debug.log
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @ posttest: `npm run combine-reports && npm run generate-report`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the @ posttest script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\iessadeq\AppData\Roaming\npm-cache\_logs\2020-07-10T13_54_21_243Z-debug.log
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @ test: `npm run scripts || npm run posttest`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the @ test script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\iessadeq\AppData\Roaming\npm-cache\_logs\2020-07-10T13_54_21_386Z-debug.log
```
### Test code to reproduce
```json
""reporter"": ""cypress-multi-reporters"",
    ""reporterOptions"": {
        ""reporterEnabled"": ""mochawesome"",
        ""mochawesomeReporterOptions"": {
            ""reportDir"": ""cypress/reports/mocha"",
            ""quite"": true,
            ""overwrite"": false,
            ""html"": false,
            ""json"": true
        }
```

I've tried several things without any succes.. Could anyone help please?

### Versions
```json
  ""devDependencies"": {
    ""chance"": ""^1.1.0"",
    ""cypress"": ""^4.7.0"",
    ""cypress-file-upload"": ""^3.5.3"",
    ""cypress-multi-reporters"": ""^1.4.0"",
    ""lodash"": ""^4.17.15"",
    ""mocha"": ""^8.0.1"",
    ""mocha-junit-reporter"": ""^1.23.3"",
    ""mochawesome"": ""^6.1.1"",
    ""mochawesome-merge"": ""^4.1.0"",
    ""mochawesome-report-generator"": ""^5.1.0""
```",question
653400620,how to break for in cy.command,"as blow: when the status changed to 1 or 2 ,I want to end the for

![image](https://user-images.githubusercontent.com/18463029/86939669-70240f80-c174-11ea-9a4d-69484e41350c.png)
",question
652569796,How to properly fail a test?,"In web frameworks there is often an error handler that catches internal errors. For example in Vue there is

```js
Vue.config.errorHandler = (err, vm, info) => {
  ...
}
```

How can we fail a running test if an error is caught this way? The only solution I found was to do the following

```js
// exclude these lines from code coverage
/* istanbul ignore next */
if (window.Cypress) {
  // send any errors caught by the Vue handler
  // to the Cypress top level error handler to fail the test
  Vue.config.errorHandler = window.top.onerror
}
```

But there has to be a better way

<img width=""1297"" alt=""Screen Shot 2020-07-07 at 3 27 47 PM"" src=""https://user-images.githubusercontent.com/2212006/86832656-75933400-c066-11ea-887f-cec027dc05b1.png"">
",question
651706420,how to write case by ts,"I have install some cypress plugin,  but I have to write some code in `index.d.ts`. like blow:

```ts
declare namespace Cypress {
    interface Chainable<Subject> {
        /**
         * Get one or more DOM elements by an XPath selector.
         * **Note:** you can test XPath expressions from DevTools console using $x(...) function, for example $x('//div') to find all divs.
         * @see https://github.com/cypress-io/cypress-xpath
         * @example
         * cy.xpath(`//ul[@class=""todo-list""]//li`)
         *   .should('have.length', 3)
         */
        xpath<E extends Node = HTMLElement>(selector: string, options?: Partial<Loggable & Timeoutable>): Chainable<JQuery<E>>
    }
}
```

or in webstorm will thow errors.   the `tsconfig.json` is below.

```json
{
  ""compilerOptions"": {
    ""strict"": true,
    ""baseUrl"": ""../node_modules"",
    ""target"": ""es5"",
    ""lib"": [""es5"", ""dom""]
//    ""types"": [""cypress""]
  },
  ""include"": [
    ""**/*.ts""
  ]
}
```

",question
651589868,Cypress - Chrome dev tools profiling stats.,Is there a way to get chrome dev tools performance profiling stats from cypress tests?,question
646408343,cy.screenshot does not restore the original app iframe,"Cypress v4.9.0

This is more an exploration and a question, not a bug

In https://github.com/bahmutov/cypress-movie/issues/9 I am trying to take a viewport of an application that has already been set to take over the entire window

```js
cy.screenshot('finish', { capture: 'viewport' })
```

The window size is 1920x1080 and the application under test has been set to cover the entire thing (hiding the command log and the navigation bar)

```js
 Cypress.Commands.add(""clearViewport"", () => { 
   const runnerContainer = window.parent.document.getElementsByClassName( 
     ""iframes-container"" 
   )[0]; 
   runnerContainer.setAttribute( 
     ""style"", 
     ""left: 0; top: 0; width: 100%; height: 100%;"" 
   ); 
  
   const sizeContainer = window.parent.document.getElementsByClassName( 
     ""size-container"" 
   )[0]; 
   sizeContainer.setAttribute(""style"", """"); 
  
   const sidebar = window.parent.document.getElementsByClassName( 
     ""reporter-wrap"" 
   )[0]; 
   sidebar.setAttribute(""style"", ""opacity: 0""); 
  
   const header = window.parent.document.querySelector( 
     "".runner.container header"" 
   ); 
   header.setAttribute(""style"", ""opacity: 0""); 
 }); 
```

So the app is there in the page, no scroll is necessary, the screenshot is take and looks right. But after the screenshot the iframe is shifted again, which is visible in the video

<img width=""1440"" alt=""Screen Shot 2020-06-26 at 11 05 45 AM"" src=""https://user-images.githubusercontent.com/2212006/85884492-c8403680-b7b0-11ea-82cc-afb04cd17af5.png"">

I did try to add a timer after the screenshot to restore the position above, which it does, but there is still a noticeable jump.

![screenshot-spec](https://user-images.githubusercontent.com/2212006/85884620-e5750500-b7b0-11ea-9bea-9b53cb0ea754.gif)

It would be ideal to NOT move the window at all, if capturing the window that is already matching the output dimensions.",question
639588424,WebSockets which hosted on AWS don't work,"### Current behavior:

I'm trying to mock WebSockets which hosted on AWS (AppSync). And for some reason, it doesn't work. I'm getting the error: **WebSocket connection to {url} failed**. Could you help? The same code work with a custom implementation of WebSockets. Is it some specific case for AppSync?

### Desired behavior:

WebSockets should be mocked and return message: ""Hello, world!""

### Test code to reproduce

```js
let mockServer;

const fakeURL = 'wss://aws-ws-url.com';
cy.server();
class WebSocketMock extends WebSocket {
  constructor(url, protocols) {
    const urlWithoutToken = url.split('?')[0];
    super(urlWithoutToken, protocols);
  }
}

cy.on('window:before:load', (win) => {
  (cy.stub(win, 'WebSocket'))
    .as('WebSocket')
    .callsFake((url, protocols) => new WebSocketMock(url, protocols));

  if (mockServer) {
    mockServer.stop();
  }

  mockServer = new Server(fakeURL);

  mockServer.on('connection', (socket) => {
    console.log(socket);
    socket.send(""Hello, world!"");
  });
});

navigateToPage(`/`);
```

### Versions
""cypress"": ""3.6.0""
""mock-socket"": ""9.0.2""
",question
638180899,Cypress.environment variables / Login and Environment.,"Dears,

I have more than 3 environments to check my cypress test : (Production, Staging, Test, Dev) and I want to call a variable in the CI to get the variables for each environment.

So what is the perfect way to add these variables ?  In the `cypress.json` or in the `cypress.env.json` ? 

and where to add the cases ? 

Example : 

I need to define a variable to insert the variables dependence on parameter 

- if i insert a parameter ""Production"" , Insert the URL : ""www.test.com"""", Email :""test"" , Passowrd: ""123""
- if i insert a parameter ""Dev"" , Insert the URL : ""staging.test.com"", Email :""test2"" , Passowrd: ""321""
... and so on.

So where to put these cases, and how.
",question
629214457,How can I change the xhr request before send,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
I find all of the api of cypress about `route` and `server`, but there is no way to change the xhr request `before send`, there is only the `onRequest` callback of route method.
In a situation, my gps location is get from internet, and I know the current location of the target area.
But I can't simulation the location. The only way I find is to change the request body before send to server. I prepare the correct location and change the request to test the different cases;

May it has a callback of `beforeRequest`.
<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
627201643,how i can visit link with a copy at the label,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

this is my current code:
```js
    cy.get('.copy-link__text').click({force:true}) //this is i selected this label to copy
     .then((link) => { //and i want to get this link
        cy.url().should('eq', 'http://stg.paper.id/')
        cy.visit(link) //open link
     })
```

### Versions

<!-- Cypress, operating system, browser -->
",question
619343861,Do you have a minimal set of production dependencies for cypress?,"Hello 

Looking at https://github.com/cypress-io/cypress/blob/develop/package.json#L79
I only see `devDependencies` 
As I understand it, these include dependencies used for contributing to the project, but might not be needed to just simply run cypress

Can you point me to documentation, or a file, where I can see a minimal set of dependencies needed to run cypress via cli

I tried, `npm install --production` but this failed with quite a few errors

Thanks!",question
617488491, TypeError: EPO1.menuButton.should is not a function," I just made a object and funtions in it but when i call  them in my test its showing this error.
any idea
this is object

```js
export class EPO {
  showMenu() {
    return this.menuButton().click().then(function () {
      return (function () {
        return that.screenshotButton.isVisible()
      })
    })
  }

  menuButton() {
    return cy.get('[id=exportButton]')
  }
  screenshotButton() {
    return cy.get('[id=screenshotButton]')
  }
  csvExportButton() {
    return cy.get('[id=csvButton]')
  }
}
```
these are tesst
```js
describe(""test menu"", function () {
  it(""expands menu"", function () {
    EPO1.showMenu()
  });
  
  it(""should show menu button"", function () {
    expect(EPO1.menuButton.should('be.visible')).to.be(true);
  });
})
```


",question
616340171,stub request with wildcard on dynamic url params?,"Was trying to stub my network request but I still can see the actual api been called in cypress. I did this cypress what went wrong?

```js
describe(""Test"", () => {
    it(""componentDidMount call"", () => {
      cy.fixture(""priceCheck"").as(""priceCheckData"");
      cy.server();
      cy.route(
        ""GET"",
        ""https://staging.gobear.co/price?rate_id=*&gobear_item_id=123"",
        ""@priceCheckData""
      );
    });
  });
```

I think something  iswrong with the wildcard in the route url above, because it worked when I tried an exact match url like this
```js
 cy.route(
      ""GET"",
      "" http://www.mocky.io/v2/5eba1e742f000066953c3520"",
      ""@priceCheckData""
    );
```
So any clue how can I match my url with params? it can be dynamic params like 
```
https://staging.gobear.co/price?rate_id=*
https://staging.gobear.co/price?some_other_id=*
```
hence I can't simply use 
```
https://staging.gobear.co/price*
```

Thanks!",question
614723991,How to add all test run inside a test plan in test rail triggered from cypress,"We are using Cypress to automate UI test cases. We have recently integrated the cypress framework with test rail. It is able to create test run in test rail.

### Current behavior:

Issue: We want all test run should go inside a test plan or any suite or any folder. Currently all test run are created independently(can be seen in screenshot below) in the test rail ""Test Run and Results Tab"" which pollutes the test rail dashboard.

### Desired behavior:

Is there any way to put all test run inside a test plan or any folder ? By clicking on the test plan or the folder i should see all test run. 

### Test code to reproduce

```json
""reporterEnabled"": ""cypress-testrail-accumulative-reporter""
 ""reporterOptions"": {
 ""domain"":""xxxxx.testrail.io"",
      ""username"":""email"",
      ""password"":""pass"",
      ""projectId"":1,
      ""suiteId"":1,
      ""runName"":""Cypress Automated Test Run""
}
```

![image](https://user-images.githubusercontent.com/8281695/81406951-27da7800-9158-11ea-9f44-dbfea80825f5.png)

### Versions

cypress: ""4.4.0
cypress-testrail-accumulative-reporter: ""^1.1.4"",
",question
614679508,Is it possible to bypass a login for token authentication web applications?,"
### Current behavior:
I tried so many times but I did not get to bypass login through cypress

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
614189630,How can we connect mysql with cypress and verify data from database. Please provide me example.,"I am using mysql to connect in cypress I used following code in my project:

In my spec file i used these line in It block:
```js
cy.task('queryDb', 'SELECT FROM bank').then(res => {
expect(res).to.have.lengthOf(150);
});
```

I have used following dependencies:
```
""cypress-sql-server"": ""^1.0.0"",
""tedious"": ""^8.3.0""
```

In plugin file i added following code:
```js
const mysql = require('mysql');
function queryTestDb(query, config) {
  // creates a new mysql connection using credentials from cypress.json env's
  const connection = mysql.createConnection(config.env.db);
  // start connection to db
  connection.connect();
  // exec query + disconnect to db as a Promise
  return new Promise((resolve, reject) => {
    connection.query(query, (error, results) => {
      if (error) reject(error)
      else {
        connection.end();
        // console.log(results)
        return resolve(results);
      }
    });
  });
}

module.exports = (on, config) => {
  // Usage: cy.task('queryDb', query)
  on('task', {
    queryDb: query => {
      return queryTestDb(query, config);
    },
  });
};
```
Cypress.json i used following code;
```json
""env"": {
  ""db"": {
    ""host"": ""localhost"",
      ""user"": ""root"",
        ""password"": ""root"",
          ""database"": ""donation""
  }
}
```

After executing code i get following error message please help me out in this regards:
The plugins file is missing or invalid.

```
Your pluginsFile is set to E:\cypress24\cypress\plugins\index.js, but either the file is missing, it contains a syntax error, or threw an error when required. The pluginsFile must be a .js or .coffee file.

Or you might have renamed the extension of your pluginsFile to .ts. If that's the case, restart the test runner.

Please fix this, or set pluginsFile to false if a plugins file is not necessary for your project.

Error: Cannot find module 'mysql'
Require stack:

    E:\cypress24\cypress\plugins\index.js
    C:\Users\shahmed\AppData\Local\Cypress\Cache\4.4.1\Cypress\resources\app\packages\server\lib\plugins\child\run_plugins.js
    C:\Users\shahmed\AppData\Local\Cypress\Cache\4.4.1\Cypress\resources\app\packages\server\lib\plugins\child\index.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:798:15)
    at Module._load (internal/modules/cjs/loader.js:691:27)
    at Module._load (electron/js2c/asar.js:717:26)
    at Function.Module._load (electron/js2c/asar.js:717:26)
    at Module.require (internal/modules/cjs/loader.js:853:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object. (E:\cypress24\cypress\plugins\index.js:18:15)
    at Module._compile (internal/modules/cjs/loader.js:968:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:986:10)
    at Module.load (internal/modules/cjs/loader.js:816:32)
    at Module._load (internal/modules/cjs/loader.js:728:14)
    at Module._load (electron/js2c/asar.js:717:26)
    at Function.Module._load (electron/js2c/asar.js:717:26)
    at Module.require (internal/modules/cjs/loader.js:853:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at module.exports (C:\Users\shahmed\AppData\Local\Cypress\Cache\4.4.1\Cypress\resources\app\packages\server\lib\plugins\child\run_plugins.js:206:15)
    PS E:\cypress24>
```
",question
613967392,Can't overwrite multiple overloads of contains() command correctly,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
When I tried to overwrite two overloads of `.contains()` function only one of them works, another one seems to have misaligned arguments, thus it doesn't work properly.

Contains can work in two modes:
```js
cy.get('.foo').contains('bar', options)
```
and
```js
cy.contains('.foo', 'bar', options)
```

When I defined overwrite for one mode then everything worked fine, however, with override defined for both modes, only the second one is overridden.

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

1. Create two overrides:
```js
// overwrites cy.get('.foo').contains('bar', options)
Cypress.Commands.overwrite('contains', (originalFn, subject, chars, options) => {
  return cy.log(options).then(() => originalFn(subject, chars, options));
});

// overwrites cy.contains('.foo', 'bar', options)
Cypress.Commands.overwrite('contains', (originalFn, subject, selector, chars, options) => {
  return cy.log(options).then(() => originalFn(subject, selector, chars, options));
});
```
2. Try to use both overrides in the test:
```js
cy.get('.foo').contains('bar', { some: 'option' });
cy.contains('bar', { some: 'option' });
```
3. Check Cypress log whether `{ some: 'option' }` has been logged for both usages

For such setup, only second .contains() usage will have options correctly logged, however, if we comment out second overwrite then the first one works correctly.

What I'm trying to achieve is to add support for one new option, `strict` (or `fullMatch`), which uses RegExp instead of partial match:

```js
Cypress.Commands.overwrite('contains', (originalFn, subject, chars, options) => {
  if (options && options.strict) {
    chars = new RegExp(`^${chars}$`);
  }

  return originalFn(subject, chars, options);
});
```

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

Cypress 4.5.0
Chromium 81
",question
613364987,using styled-components or custom component with cypress,"Cypress selector is easy, just do `cy.get('.myComp')` and `<input className=""myComp"" />` will be selected but with styled-component

maybe we need to use custom attribute like cy-data, cy-testid etc. I guess there's no other shortcut than flood our component with those custom attribute right?

The other hassle using cypress is when you use css module, where the class is generated differently every build, and imagine your component is , then you need to pass your the custom attribute all the way down
```
<Custom cy-data=""btn1"" />

const Custom = ({cy-data}) => <button cy-data={cy-data} />
```
any workaround to avoid this pain?

",question
612483652,"Problem with finding elements on page by CSS selectors - ""there is no tests""","<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

Hello everyone,
I ve got problem with my first scrypt :)
I decided to make small scrypt to login in on e-mail.
After launch the browser, the page is loading.
I am not able to see its preview.
And any elements on page (CSS selectors) are not found.

### Desired behavior:

The elements should be find by ids

### Test code to reproduce
```js
describe('Login',function()
{
    it('Verify logging in', function()

    {
        cy.request(""https://profil.wp.pl/login.html?zaloguj=poczta"")
        
        cy.wait(3000)

        cy.get(""#login"").type(""name@name.pl"")

        cy.wait(3000)

        cy.get(""#password"").type(""password"")

        cy.wait(3000)

        cy.get(""#btnSubmit"").click()

        cy.wait(3000)

        cy.get("".Button topuser__logout"").click()

        cy.wait(3000)
        //.Button topuser__logou

    }
)    }

   
    )
```
<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

MacOs Catalina
Chrome 81.0.4044.129
",question
612123436,Configuring different URL's with the same base domain URL via the cypress.json file,"I am a newbie to Cypress.

I want to create a simple login test to an app which has different tenants and the same base URL.

Ex: Base URL **https://www.xyz.com**

URL's to be tested:

1. **https://www.xyz.com**/**subdomain1**
2. **https://www.xyz.com**/**subdomain2**

Now, I can configure the baseURL property in my cypress.json file to **https://www.xyz.com**

The problem arises when I want to configure the subdomain with the base URL only via the `cypress.json` file. I do not want to hard code the complete URL along with username and password in the spec files.

I want to design my tests in such a way that all URL's and username and passwords are configured via the `cypress.json` file only. All URL's and values should be taken from the cypress.json value without the need for me to hard code them into the spec files.

Here is what my cypress.json looks like:

```js
{
    ""baseUrl"":""https://xyz.com/"",
    ""video"":""false"",
    ""reporter"": ""mochawesome"",
        ""reporterOptions"": {
            ""reportDir"": ""cypress/reports"",
            ""overwrite"": false,
            ""html"": false,
            ""json"": true
        },
    ""env"":{
          ""tenant"":""subDomain1"",
          }
        {
          ""tenant"":""subdomain2""
          
        }
        
    }
} 
```

When I execute the cypress file, I see a syntax error. env object does not accept multiple values of the same field. 

Also, the env field only takes object values and not arrays. 

Can you help me out? ",question
611614381,Windows Handles,"How to handle windows/new tab in cypress , Could you please help me 

I have written in Query to handles 
cy.Settings().invoke('removeAttr','target').click() its not working ",question
610735826,I am unable to send GET api call with authorization bearer accessToken is added in it. ,"Hi All,

Currently i have two request one is POST request and other is get, in first i get user access token by post and in other i used this `accessToken` to get login. Every my code does not work. Kindly help me out in this regards;

I am using window 7
cypress 3.3.5

I have added my code below:

```js
var value;
describe(""Login operation"", () => {
  it(""Login Request with post method"", () => {
    cy.request({
      method:'POST', 
      url:'https://abcd@yahoo.com',
      body: {
        ""userName"": ""abcd"",
        ""password"": ""adfdddd""
      }
    })
    .then(function(response){
      this.value=response.body.accessToken;
      console.log(""Value ""+this.value);   
          expect(response.body.name).to.equal('adfs');
        expect(response.status).to.equal(200);

    });
  });

  it('Second test case', function() {
    var authHeader='bearer ${'+this.value+'}';
    const options = {
      method: 'GET',
      url: `https://www.sdfsdfsd.com`,
      headers:{
        authorization:authHeader,
      }};

      cy.request(options)
      .then((response)=>{
        expect(response.status).to.equal(200);
      });
  });
});
```",question
609084126,Unable to get element count using Cypress.$ ,"I am trying to get the element count using below method :

```js
cy.log(Cypress.$('tr.dx-row-lines').length)
```

but it always print 0

```js
while If I use code like below :
 cy.get(""body"").then(($el) =>{
    cy.log ($el.find(""tr.dx-row-lines"").length) 
}
```

it print 4

Because I need to break a for loop if rows found so I can not use 2nd way,

Please guide me
               ",question
608924023,Checking for existence of attribute without giving an error,"### Current behavior:

We can use `should('have.attr', 'spaced')`  to check for existence and value of `attribute`. But if the attribute is not exists then it gives error 

### Desired behavior:

Is there any way to check that with out getting an error, that returns `true` or `false` based on existence of attribute.

Something `hasClass` function. 

![image](https://user-images.githubusercontent.com/49677363/80582732-d716a100-8a2c-11ea-9354-c2fe18915a02.png)

",question
605600936,chaining cy.request().then(),"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Description
I cannot find a way to resolve data in `cy.request().then()`, using a `Cypress.Promise`:

### Code
```javascript
 it('get inst state', () => {
    getInstState().then(res => {
      console.log('res: ', res);
    });

function getInstState() {
  return cy.request({
    url: 'instances/state',
    headers,
  }).then(res => {
    expect(res.status).equal(200);
   // do something
    return new Cypress.Promise(resolve => {
      resolve(res);
    });
  });
}
```

### result

I return a `Cypress.Promise` instance in `.then() `, but  this code always logs `res:  null`

I want to chaining `cy.request()` like this: 

```javascript
 it('get inst state', () => {
    getInstState().then(res => {
      console.log('res: ', res);
      instAction(res).then(actionResult => {
         console.log(actionResult)
        // next request;
      })
    });

function getInstState() {
  return cy.request({
    url: 'instances/batch/state',
    headers,
  }).then(res => {
    expect(res.status).equal(200);
   // do something
    return new Cypress.Promise(resolve => {
      resolve(res);
    });
  });
}

function instAction(res) {
  expect(res.status).equal(200);
  const items = res.body.items;
  return cy.request({
    url: '/instances/action',
    method: 'POST',
    body: {
      instances: items.map(item => item.inst_id),
      action: 'server_off',
    },
  }).then(res => {
    cy.log('server_off inst', res);
    expect(res.status).equal(200);
    return res;
  });
}
```
how to make `cy.request().then()` can chaining the next `.then()`?

### Versions
Cypress@4.4.0",question
602906749,Cypress : Unable to see the dashboard even after cy.request command passes,"I am basically new to Cypress and wanted to implement the login page using `cy.request` command inorder to bypass the UI. My `cy.request()` passes with 200 response code. However i am not able to visit the dashboard page after successful login. Kindly guide me through this

Below is the code

```js
Cypress.Commands.add('loginByJSON', (username, password) => {
  return cy.request({
    method: 'POST',
    url: 'My website login url',
    body: {
      ""username"": username,
      ""password"": password,
    }
  }).then((resp) => {
    expect(resp.status).to.eq(200)
  })
})

describe('Sign In Page', function () {
  it('OnSuccessful Login', function () {
    cy.loginByJSON(""test@gmail.com"", ""test@1234"");
    cy.visit('http://test-apac.appspot.com/#/dashboard')
    cy.title().should(""eq"", ""Dashboard"")
  })
})
```

The Assert statement passes successfully.Further while visiting the dashboard page it again open the login page, even after successful login Any help would be appreciated

Thanks in Advance!
",question
600278276,npx cypress open installs cypress again ?,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

So whenever I need to run my tests , I use `npx cypress open` which creates a new folder into my existing `cypress` floder

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->
![image](https://user-images.githubusercontent.com/28805200/79339986-54c7b080-7f47-11ea-8eeb-40729298496c.png)
![image](https://user-images.githubusercontent.com/28805200/79340046-65782680-7f47-11ea-84b4-9560cd684db7.png)

### Desired behavior:

What command should I use to execute my tests in cypress??

<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
599117103,Not able to switch to new browser tab and continue testing or directly invoking that new tab,"I have a scenario where on a page, it opens a new tab on clicking a span element and wanted to continue testing on that new window. The url on the new window is an encrypted dynamic one. 

I had seen resource pages regarding this, but the examples are generic ones. I am still not sure how to do cy.request as mentioned in one of the solution with my case where clicking on button opens the new tab and the call happens which is rerouted through a diff system too and the url is an encoded one like ...12e6361746e6d732e636f6d$$/auth/logon?goToUrl=https%3A%2.... Not sure how can i directly do cy.request for this. Or stub this. Can you give me a specific example for doing this. Also i am not testing it on localHost, but from Jenkins.

Steps:
Login on the main screen -> while clicking on the span element button, it opens new browser tab[No call or href tag on the span element on the main screen] -> The new tab opened to login again has the above kind of call... -> Need to switch to this new tab or need to skip the first login and continue login from there and test the scenarios.

Any detail information is appreciated here.",question
598336213,How can I connect to postgresql db  from cypress?,"Hello!,
I want to connect to postgresql db from Cypress. Can someone help me giving any example?
I use typescript and my webpack.config.js looks like following. Thanks in advance!

**webpack.config.js**
```js
const path = require('path')

module.exports = {
  entry: './src/index.ts',
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/,
      }
    ],
  },
  resolve: {
    extensions: ['.tsx', '.ts', '.js']
  },
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist')
  },
  node: {
    fs: 'empty',
    dns: 'empty',
    net: 'empty',
    readline: 'empty',
    tls: 'empty'
  },
}
```
BR,

Konica",question
597573858,Finding the time taken to load a page,"Is there any functionality built into Cypress that will help find the  time taken to load a page ?

For example , Cypress documentation says that `cy.visit(...)` resolves once the page visited is loaded. Is there a way to find the time taken to resolve a cy.visit(..) command ? T",question
597451365,Can I execute 'node abcd.js' inside cypress test,Can I execute 'node abcd.js' inside cypress test,question
597292388,Travamento Cypress,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

Ap√≥s atualizar o Cypress para vers√£o 4.3.0 est√° ocorrendo travamentos no meio da execu√ß√£o. Apenas a coluna destinada a evolu√ß√£o dos estes trava. A se√ß√£o do navegador continua sendo manuseada.

A √°rea sinalizada que est√° travando.

![image](https://user-images.githubusercontent.com/63407915/78901580-e5d1ef80-7a4e-11ea-84f3-75ac5443160d.png)


<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
712948749,How to use with customize-cra,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

How to use with `customize-cra`

package.json
```json
{
  ""name"": ""package"",
  ""version"": ""1.3.0"",
  ""private"": true,
  ""scripts"": {
    ""start"": ""react-native start"",
    ""android"": ""react-native run-android"",
    ""ios"": ""react-native run-ios"",
    ""web"": ""REACT_APP_ENV=development react-app-rewired start"",
    ""build"": ""echo Building to ${REACT_APP_ENV} environment && react-app-rewired build"",
    ""build-dev"": ""REACT_APP_ENV=development CI=false npm run build"",
    ""build-prod"": ""REACT_APP_ENV=production CI=true npm run build"",
    ""build-android"": ""cd android && ./gradlew bundleRelease"",
    ""test"": ""jest --passWithNoTests"",
    ""cy:open"": ""NODE_ENV=test cypress open"",
    ""cy:run:all"": ""NODE_ENV=test cypress run --config video=false"",
    ""cy:run:smoke"": ""NODE_ENV=test cypress run --config video=false,integrationFolder=cypress/integration/smoke"",
    ""serve"": ""serve -s build -p 3000"",
    ""serve-test-cypress"": ""start-test serve 3000 cy:run:all""
  },
  ""dependencies"": {
    ""react"": ""16.9.0"",
    ""react-native"": ""0.61.5"",
    ""react-native-vector-icons"": ""^4.6.0"",
    ""react-native-web"": ""^0.11.7"",
    ""react-scripts"": ""^3.4.1"",
    ...
  },
  ""devDependencies"": {
    ""@babel/core"": ""^7.9.0"",
    ""@babel/plugin-proposal-class-properties"": ""^7.8.3"",
    ""@babel/runtime"": ""^7.9.2"",
    ""@cypress/webpack-preprocessor"": ""^4.1.3"",
    ""babel-jest"": ""^24.9.0"",
    ""babel-plugin-react-native-web"": ""^0.12.2"",
    ""customize-cra"": ""^0.9.1"",
    ""cypress"": ""^4.3.0"",
    ""husky"": ""^4.2.3"",
    ""jest"": ""^24.9.0"",
    ""react-app-rewired"": ""^2.1.5"",
    ""react-test-renderer"": ""16.9.0"",
    ""serve"": ""^11.3.0"",
    ""start-server-and-test"": ""^1.10.11"",
    ...
  },
  ""jest"": {
    ""preset"": ""react-native"",
    ""collectCoverageFrom"": [
      ""src/**/*.{js,jsx,mjs}""
    ],
    ""testEnvironment"": ""node"",
    ""testURL"": ""http://localhost"",
    ""moduleNameMapper"": {
      ""^react-native$"": ""react-native-web""
    },
  },
  ""husky"": {
    ""hooks"": {
      ""pre-commit"": ""npm run lint""
    }
  },
  ""browserslist"": {
    ""production"": [
      "">0.2%"",
      ""not dead"",
      ""not op_mini all""
    ],
    ""development"": [
      ""last 1 chrome version"",
      ""last 1 firefox version"",
      ""last 1 safari version""
    ]
  }
}
```
config-overrides.js
```javascript
const {
  override,
  disableEsLint,
  babelInclude,
  addBabelPlugin,
  addExternalBabelPlugins,
  addWebpackPlugin
} = require(""customize-cra"");
const webpack = require(""webpack"");

const path = require(""path"");

module.exports = override(
  disableEsLint(),
  addBabelPlugin(""react-native-web""),
  addExternalBabelPlugins(""@babel/plugin-proposal-class-properties""),
  babelInclude([
    path.resolve(""src""),
    path.resolve(""node_modules/react-native-vector-icons"")
  ]),
  addWebpackPlugin(
    new webpack.DefinePlugin({
      __DEV__: process.env.REACT_APP_ENV === ""development"" || process.env.NODE_ENV === 'development'
    })
  )
);
```


- Operating System: Ubuntu 19.04
- Cypress Version: 4.3.0
- Browser Version:",question
587994180,"Is it possible to fetch the entire json data from the json file, placed in the fixtures folder and paste it's content in the textarea?","<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

```js
cy.readFile('cypress/fixtures/swagger-sample.json').its('openapi').should('eq', '3.0.0') 
```

This reads the respective variables value for comparing

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

If either `cy.readFile` / `cy.fixtures` should fetch the entire data of the json file as such.
<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
586480228,"[Cypress] How to resolve ""For security reasons, framing is not allowed"" alert in chrome","### Current behavior:

I‚Äôm automating E2E customer flow in chrome browser using cypress and when I login and navigate to the dashboard page, the following alert is thrown and the execution stops when I click ‚ÄòOk‚Äô.
#### Alert: ""For security reasons, framing is not allowed""
- When I run the test, cypress opens the browser with command logs pane in the left and execution in the right.
- I tried running in headless mode and same error is thrown.
- I have also tried adding the flag ""chromeWebSecurity"": false in cypres.json and it didn't work.
- I read through the cypress docs on web security https://docs.cypress.io/guides/guides/web-security.html#Limitations and am unable to resolve. Can you guys please help me on this ?


### Versions
Cypress: 4.1.0
Chrome Version 80.0.3987.132
OS: Mojave 10.14.6
",question
583548620,After failed tests new commands are not executing ,"Hi @bahmutov ,

I am facing the same issue in case of failed tests mentioned on page https://github.com/cypress-io/cypress/issues/5143

Can you please help me for this issue..

```
npm ERR! code ELIFECYCLE
npm ERR! errno 10
npm ERR! @splunk/splunk-login-react-component@0.0.63 e2e_mochawesome: `npm run cleanup && cypress run --browser chrome --env configFile=production --spec 'cypress/integration/first-tests.js,cypress/integration/second-tests.js' && npm run merge_reports && npm run generate_mochawesome_report && npm run move_report && npm run open_report`
npm ERR! Exit status 10
```

I am running this on windows machine and performing following actions:

1. - Delete existing json and html files inside mochawesome folder
2. - Run specs file
3. - Merge all json file into one `output.json`
4. - Generate `output.html` from `output.json`
5. - Open `output.html` in browser

My scripts are mentioned below:

```json
""scripts"": {
""cleanup"": ""del /S /Q mochawesome-report\\*.*"",
    ""merge_reports"": ""mochawesome-merge --reportDir mochawesome-report > mochawesome-report/output.json"",
    ""generate_mochawesome_report"": ""marge mochawesome-report/output.json"",
    ""move_report"": ""move mochawesome-report\\mochawesome-report\\output.html mochawesome-report && rmdir mochawesome-report\\mochawesome-report"",
    ""open_report"": ""start mochawesome-report\\output.html"",
    ""e2e_mochawesome"": ""npm run cleanup && cypress run --browser chrome --env configFile=production --spec 'cypress/integration/first-tests.js,cypress/integration/second-tests.js' && npm run merge_reports && npm run generate_mochawesome_report && npm run move_report && npm run open_report""
  }

""devDependencies"": {
    ""mocha"": ""^5.2.0"",
    ""mochawesome"": ""^4.1.0"",
    ""mochawesome-merge"": ""^2.1.0"",
    ""mochawesome-report-generator"": ""^4.1.0""
  }
```
",question
581268052,Can't use some npm mail-listener diretly from a test case,"I'm trying to code some testing in **cypress 4.1.0** for some ongoing emails and verify their content when they received by some **nodejs mail-listener** 
(https://www.npmjs.com/package/mail-listener5), 
but I've managed to run it and to use his features only inside the *plugin index.js* and it's running before the tests.

When I'm trying to run it through the test case it returns the error below:

      1) An uncaught error was detected outside of a test:
         Uncaught TypeError: Invalid Version: 
    
    This error originated from your test code, not from Cypress.
    
    When Cypress detects uncaught errors originating from your test code it will automatically fail the current test.
    
    Cypress could not associate this error to any specific test.
    
    We dynamically generated a new test to display this failure.

I've also tried to use googleAPIs for gmail but it doesn't generate the gmail token and a redirect to some uri is required, also the token is limited for 30 days and I prefer something with a minimum maintenance.

Any idea?",question
576643218,How to setup the pipeline and env var for aws linux agent?,"<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior: I am working on buildkite and aws.  it's seems node is not install in the aws agent, so I get error, npm is not command.  and could you pls tell me how to setup the pipeline.yml and is there any document about this to setup the CI ?

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
576244870,"How to apply find for custom elements, received without get ?","How to apply find for custom elements, received without get ?

```js
it('open new tab', () => {
  cy.window().then(win => {
    //const usersTable = win.document.getElementsByClassName('users-table');
    //console.log(usersTable.find('tbody'));
    //console.log($(win).find('.users-table'))
  });
});
```",question
576212007,How to test websockets logic ?`,"After click on edit button, user row is blocked. How to test it 
I want to open new tab and click to edit button.
On the main tab, check the lock row.

```js
  it('open new blank', () => {
    cy.window().then((win) => {
      cy.stub(win, 'open',url => {
        win.location.href = 'http://localhost:3001/users'
      }).as('popup');
    });

    cy.get('@popup')
      .find('.users-table')
      .find('tbody')
      .find('tr')
      .first()
      .find('.users-table__edit-btn')
      .click();

    cy.get('.users-table')
      .find('tbody')
      .find('tr')
      .first()
      .find('.users-table__edit-btn')
      .click();
  });
```
  ",question
574575992,can we use multiple reporter in cypress.json,"### Current behavior:

In current scenario Im using html reporter in cypress.json file, but now I have another reporter like ""cypress-testrail-reporter"" how can I define both in reporter ? 

Html Reporter

```json
""reporter"": ""cypress-multi-reporters"",
  ""reporterOptions"": {
    ""configFile"": ""reporter.json""
```

TestRail reporter
```json
 ""reporter"": ""cypress-testrail-reporter"",
  ""reporterOptions"": {
    ""domain"": ""test.testrail.io"",
    ""username"": ""qa.apps@test.com"",
    ""password"": ""test123"",
    ""projectId"": 1,
    ""suiteId"": 4
  }
```

",question
574240028,How to test an API which calls other APIs while mocking the other APIs,"### Current behavior:
How do I test an API (`/extensions/external/apps`) which in turn call other APIs internally (like, `/kappnav/namespaces`), while mocking the data for other APIs?
<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Test code to reproduce
```js
it('testing the success condition when we got the list of all WAS Traditional Apps and Liberty Apps', function () {
  //starting
  cy.server()
  // mocking the other APIs
  cy.route('GET', '/kappnav/namespaces', '@allNamespacesJSON').as('fetchAllNamespaces')
  // visiting this page calls /extensions/external/apps, which in turn calls other apis
  cy.visit('/kappnav-ui/applications/stock-trader/addComponents?namespace=ravikumarsingh123', {
  })
  cy.wait('@fetchAllNamespaces').then(console.log)
})
```

The above mentioned `cy.visit`, in turn, calls the API (`/extensions/external/apps`), which in turn internally calls other APIs, like `/kappnav/namespaces`.

But I can't see other APIs (`/kappnav/namespaces`) being hit and the `cy.wait()` getting timedout as its not getting hit.

<img width=""601"" alt=""image"" src=""https://user-images.githubusercontent.com/9142577/75716239-68b79b80-5c94-11ea-8485-51e1f39d51bb.png"">

",question
570423387,How use while loop in cypress !,"```js
let beButton = true;
while(beButton){
  cy.get('.element').click()
  cy.get('issue').then((element) = > {
  if(element.innerText === 'abc'){
        beButton=false;       
}
})
}
```

",question
566695585,"Hi everyone, Could you please help me to solve my problem with Auth0? I can not login with any of emails I use.","<!-- Is this a question? Questions WILL BE CLOSED. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

<!-- A description including screenshots, stack traces, DEBUG logs, etc -->

### Desired behavior:

<!-- A clear description of what you want to happen -->

### Test code to reproduce

<!-- If we cannot fully run the tests as provided the issue WILL BE CLOSED -->
<!-- Issues without a reproducible example WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then link to your fork -->

### Versions

<!-- Cypress, operating system, browser -->
",question
566608923,Running Cypress with the Docker image - any way to get code completion?,"Loving this so far. Using Cypress to run tests for local dev and CI. One thing though, how can I get code completion when writing tests? Cypress is in a container with all its dependencies, I don't see a way to get this going without installing the full thing on the host.",question
563255291,How to report passing tests?,"I am calling rest api for sending status of my tests to an external utility.
Well, I am able to capture failing tests using cy.once('fail', ....
How should I capture and report passing tests?",question
551501384,Incorrect Node version is being shown in Setting tab,"Incorrect Node version is being shown in Setting tab

Actual :
    Node  version 12.8.1 is being shown in setting tab

Expcted :
   Node Version 12.14.1 should be shown in setting tab.

Version Details:
  Cypress 3.8.2
  OS : Win 10 Enterprise (64 bit)
  Chrome : 79.0.3945.117 (64 
![NodeIssue](https://user-images.githubusercontent.com/7825972/72626988-b50f7c00-3971-11ea-8a33-a3630fb93676.GIF)
bit)
",question
544508127,test commands in the Chrome DevTools console,"Hi, I'm using cypress 3.8.1, how can I test my commands in the Chrome DevTools console?
I read about the cy.now details here #3636 even though that command is not available on the official docs https://docs.cypress.io/api/api/table-of-contents.html
Cypress.io is an awesome piece of software but testing the commands in a live session is really important to me. How can I achieve that?

Thanks",question
542033075,How to hijack http 302 requests through `cy.server`,"### Current behavior:

options of `cy.server` can not support mock http 302

<!-- images, stack traces, etc -->

### Desired behavior:

```javascript
cy.server({
  method: 'GET',
  status: 302,
  responseHeaders: {
    'location': myUri,
    'content-type': 'text/html'
  }
})

cy.route(someUriWillRespod302ToMyUri)
cy.visit(myUri)
cy.url().should('eq', myUri)
```

### Versions

newest

### Purpose

My goal is to test all logic that follows the Oauth 2.0 specification through Cypress.

Does anyone have a success story?",question
538475167,"Debugging failing test with cy.on(""fail"")","### Current behavior:

Here: https://docs.cypress.io/api/events/catalog-of-events.html#Catching-Test-Failures
it is documented that we can debug a failing test with this piece of code:

```js
// if you want to debug when any test fails
// You likely want to put this in a support file,
// or at the top of an individual spec file
Cypress.on('fail', (error, runnable) => {
  debugger
  // we now have access to the err instance
  // and the mocha runnable this failed on
  throw error // throw error to have test still fail
})
```

But I tried this and the breakpoint is never hit.

### Desired behavior:

Event should be thrown according to documentation.

### Steps to reproduce: (app code and test code)

Test this simple code:

```js
cy.on(""fail"", (error, runnable) => {
    debugger;
});

describe(""Parent"", () => {
    debugger;
    describe(""nested"", () => {
        it(""test"", () => {
            cy.visit(""https://google.com"").then(() => expect(true).to.eq(false))
           // (this.test as any).attachments = [""ascreenshots""]
            ;
        })
    })
})

```

### Versions

Cypress 3.8.0
",question
532766763,How can I route the request based on the POST parameter?,"In WordPress, All Ajax requests go to the URL wp.com/wp-admin/admin-ajax.php. Each AJAX request differentiates by the action named POST param.

I would like to give a different route name based on this POST param's value. How can I do it?

Thank you",question
527971798,Plugin with native dependency that is also required in project - module version conflict,"<!-- Is this a question? Don't open an issue. Ask in our chat https://on.cypress.io/chat  -->

Hi ‚úã, 
Our plugin (Applitools) fails due to:

### Current behavior:

Requiring a pre-compiled package (canvas for example) from a plugin file while the package also exists as a dependency in package.json, fails cypress:

![cycy](https://user-images.githubusercontent.com/4113198/69529247-8e882280-0f78-11ea-9c7a-5f52c26e0bfb.png)

(The plugin's node module version is different from the one the project was installed on..)

### Steps to reproduce:

See simple repo:
https://github.com/danielschwartz85/Cypress-NODE_MODULE_VERSION-ISSUE

Or 

1. just install canvas package:
https://github.com/Automattic/node-canvas
```npm i canvas```
2. add ```require('canvas')``` in the plugins file.


### Versions

Cypress 3.6.1
Ubunto 18.04.3
Node 10.15.1

Tnx.",question
526279740,It isn't it possible to use .find() with a .wrap() element.,"### Current behavior:

It isn't it possible to use `.find()` with a wrapped element.

**For example:**

```js
cy
  .get('#SOME_ELEMENTS')
  .eq(0)
  .then(
     $element => {
     cy.wrap($element).find('.button').click()
})
```

**When I do that, the error in the test runner is:**

```
CypressError: cy.find() failed because it requires a DOM element. The subject received was: > null
```

But... this isn't true, because `cy.wrap($element).should('contain', 'SOME_TEXT')` works fine.

**When not using .wrap() the .find() is successful. E.g:**

```js
cy
  .get('#SOME_ELEMENTS')
  .eq(0)
  .find('.button')
  .click()
})
```

### Desired behavior:

`.find()` should work for a `.wrap()` element

### Versions

3.1.5
",question
524913147,Cypress shows which the cookie is set but it doesn't ,"<!-- Is this a question? Don't open an issue. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

I want to set cookie in local domain `https://app.travel-test.me.lan/` , and it shows which the cookies are setted, but it deosn't. If I set the same cookie for my `localhost:3000`, it works fine.

<img width=""972"" alt=""Screen Shot 2019-11-19 at 11 09 13"" src=""https://user-images.githubusercontent.com/20300562/69137788-b7fb0700-0abd-11ea-9a16-f867544f110e.png"">

### Desired behavior:

After setting cookie the cookie should be visible

### Steps to reproduce: (app code and test code)

here is my code how to set cookie
```js

        cy.setCookie('AIDU', 'DEYZZk');

        cy.setCookie('ascc', 'rerun%3A2');

        cy.setCookie('token', token);

        cy.getCookie('token').should('have.property', 'value', token);

        cy.visit(`https://app.travel-test.me.lan/${id}`);

```


### Versions
Node 12.13.0
Cypress 3.6.1
Chrom 78
electron 73

I use macOS high Sierra 10.13.6
Node 12.13.0
Cypress 3.6.1

this image is from local host, which the cookie will set fine.

<img width=""959"" alt=""Screen Shot 2019-11-19 at 11 24 32"" src=""https://user-images.githubusercontent.com/20300562/69138753-84b97780-0abf-11ea-9c6b-d55955bfc0a1.png"">

",question
524840372,Check success/fail status of commands,"[Question]

Is it possible to check if a command was executed successfully or if it failed?
We would like to report the success/fail result of all commands to a custom reporter by wrapping or overwriting existing commands.

E.g.
```
Cypress.Commands.add('GetElement', (selector, options) => {
    <call 'get' and check if command was successfully executed>
    <call reporter through 'cy.task' with success/fail status>
})
```",question
524354034,Custom command loses it's right chainable attribute (Typescript),"### Current behavior:
I'm using Typescript with a declaration file but then my should is linking to the wrong chainable from chai instead of Cypress....

### Desired behavior:

That chainable gives the right thing back. Because now 

### Steps to reproduce: (app code and test code)
Add custom command:
```ts
Cypress.Commands.add('getMatCheckbox', (selector, _options) => {
    return cy.get(selector).find(""[type=\""checkbox\""]"");
});
```

Add index.d.ts to cypress support folder:
```ts
declare namespace Cypress {
    interface Chainable<Subject> {
        getMatCheckbox<K extends keyof HTMLElementTagNameMap>(selector: K, options?: Partial<Cypress.Loggable & Cypress.Timeoutable & Cypress.Withinable>): Cypress.Chainable<JQuery<HTMLElementTagNameMap[K]>>;
        getMatCheckbox<E extends Node = HTMLElement>(selector: string, options?: Partial<Cypress.Loggable & Cypress.Timeoutable & Cypress.Withinable>): Cypress.Chainable<JQuery<E>>;
        getMatCheckbox<S = any>(alias: string, options?: Partial<Cypress.Loggable & Cypress.Timeoutable & Cypress.Withinable>): Cypress.Chainable<S>;
    }
}
```

Write this line in the spec (test):
```js
cy.getMatCheckbox(""[formcontrolname=fieldName]"").should(""be.checked"");
```

Should is now not typed anymore...
Error: Should expects 0 arguments
When navigating to 'should' im getting into chai/index.d.ts instead of Cypress/index.d.ts


### Versions
MacOS 10.15.1, Cypress 3.6.0
",question
521654418,which command need to run on CI/CD,"Hello, 

I have successfully included cypress command into package.json

 `  ""cy:run"": ""cypress run"", `
   ` ""cy:open"": ""cypress open"",`
    `""uitest"": ""start-server-and-test start http://localhost:3000 cy:run"",`
    `""uidebug"": ""start-server-and-test start http://localhost:3000 cy:open"" `

Which command that I need to run inside CI / CD without server or browser. ( I hope you understand that is run on command line ) ?




",question
520079102,Execute multiple environment in one command ,"Hi!
I have test code in cypress and I need to run it in three environments:
configuration for each one implemented in a file.json 
prod.json, stag.json, and test.json

I can do that by plugins solution the do like this > npx cypress run --env configFile=prod

but I need to run all three commands in one line 
Is this possible?
Thanks 
",question
519936630,File download,How can I prevent file download and get url to download by cy.request()?,question
517452329,"Cypress Tries to Scroll on Dropdown with 'position: fixed', Fails to Select from Dropdown in 3.5.0","### Current behavior:
Cypress expnds the dropdown and clicks on the proper row in the list, though the row which should've been clicked does not save into the dropdown.

### Desired behavior:
Cypress should expand the dropdown and select the option 'Five', in my below example, as it did back in v3.4.1.

### Steps to reproduce: (app code and test code)
1. Pull repo from here: https://github.com/TheWanderingWalnut/cypressReactPortalDropdown
2. Run `yarn install`
3. Run `yarn start`
4. Run the provided cypress test and observe that on Cypress 3.4.1 it works, while any higher version(s) will fail to select the correct value.

### Versions
Cypress v3.5.0/3.6.0
Mac OSX 10.14.6
Chrome 78 / Electron 73",question
511206385,How to stub a getter propsÔºü,"Current API shows:
```js
cy.stub()
cy.stub(object, method)
cy.stub(object, method, replacerFn)
```
### Current behavior:
Suppose I want to go to Stub a getter like the below:
```js
it('stub getter?', () => {
    let count = 0;

    const obj = {
      get count() {
        return ++count;
      }
    };

    cy.stub(obj, 'count', () => {
      // always assign to 10
      count = 10;
      return count;
    });
    
    expect(obj.count).eq(10);
  });
``` 
>  It assert failed: expected 1 to equal 10

### Desired behavior:
 expected 10 to equal 10

### Versions
- cypress: 3.4.1

### Question
I don't know the implementation behind stub, whether it can be done?


",question
511190829,Support custom timeouts for `its`,"This issue is related to #2941 
current behavior
```js
cy.window().its('Something')
```
```
CypressError: Timed out retrying: cy.its() errored because the property: 'Something' does not exist on your subject.
```

Desired behavior:
```js
cy.window().its('Something', {timeout: 10000})
```

In my app, 

1) the property in the `window`  doesn't exists until the page loads
2) then the property in the `window` loads up as `null` after which it takes few seconds (~10 secs) for the property to get updated to not null property. 

But the below line of code fails due to the behavior of `its` as per cypress documentation

>.its() will automatically retry until the subject's property is not null or undefined.

My code:
```js
cy.window({ timeout: 20000}).its('myproperty.Hash').should('not.equal', null).and('equal', '1234')
```

Is there anyway to get around this. I don't have anything else to wait on or assert about. 
",question
504557957,How to input text into textfield in chrome alert?,"In my test, it require to input to chrome popup text field. You can see the popup in screenshot http://prntscr.com/pgvazb.
How to input text into the textfield in chrome alert and click Ok?
Very thankful if anyone could help",question
502269084,Using subfolder __tests__,"Can I leave the test files inside the implementation folders, as we already do with unit tests, using __tests__ subfolder?

I believe the flow of TDD can be further optimized by getting testing close to implementation. I understand that we would have to differentiate the unit test files from the e2e tests. We would solve with two files patterns: `*.unit.js` and `*.e2e.js`.

Would it be possible?
",question
501794825,How to ensure all react components are loaded before cy.screenshot(),"### Current behavior: 

When trying to get screenshots of pages, even after waiting for all xhr requests and checking elements exist, `cy.screenshot()` will capture the page in an intermediate loading state where some things haven't rendered yet.

I do not want to use `cy.wait(1000)` as it is hacky and has caused my problems further down the test chain, such as random timeouts on screenshots.

### Desired behavior:

Is there any way to check a component has rendered and is visible before taking the screenshot?

### Steps to reproduce: (app code and test code)

Here is an example where it works when I add a wait but not without:
```js
cy.fixture(QA_FIXTURE).as('fixture');
  cy.server();
  cy.route('POST', '/v1.0/blobs/sign-url/').as('signUrl');

  cy.selectLatestActivity('/activity/');

  cy.get('@fixture').then(fixture => {
    if (fixture.BUILD_PREFIX === 'blah') {
      cy.log(fixture.BUILD_PREFIX);
      cy.wait('@signUrl').then(xhrs => {
        cy.wrap(xhrs.status).should('eq', 200);
      });
    }
  });
  cy.wait(2000);
  cy.screenshot();
  cy.get('[data-cy=""close_btn""]').click();
``` 

the signurl fucntion is the last request to occur, and even if use something like:
```js
cy.get('[data-cy=""close_btn""]').then(() => {cy.screenshot();});
```
To ensure the button is there after the request, it will still be a race to whether the component has rendered and the screenshot saved.

### Versions
`3.4.1`
",question
496187490,How to test application running in Docker?,"I have a React application running in Docker container. I want to test that app with Cypress.
Can you please help me in letting me know the steps to run the tests in docker written in Cypress?

@brian-mann @jennifer-shehane ",question
494842877,Can you see Cypress Github App status checks for tests in dependency repos?,"Is it possible to connect the Cypress Github App to a repo without cypress tests and see Github Status Checks for commits outside of where the E2E tests are located?

Example:

1) We have a frontend app in its own repo.
2) We have multiple micro-services which together with the front end make up our ""app""; each micro-service has its own repo.
3) We have all our E2E tests in another repo.

When a commit happens to (1) or (2), we want to launch the E2E tests in (3) with CI and get reporting on that commit/PR just like if we had committed it to (3).

I've been able to get (3) working and see it report in github status checks, etc. It's awesome. I'm just trying to figure out if (1) or (2) are supported currently and how to go about doing it.",question
493704477,npm ERR! when running cypress from npm scripts object command in package.json,"I have several Cypress projects, all of them have this issue.
Both on windows an Linux OS.

In my main project I was using npx cypress run to run tests.
after adding a reporter I wanted to start using package.json npm scripts object to run a build 
and produce reports.
The problem is when any of the tests fail after the (Run Finished) report table 
npm exit with an error.

I set up an example cypress project without any modification to test this behavior.

### Current behavior:
when using:
`npm run cy:run` to run tests
If any of the tests fail, NPM exits with error.
The NPM error is outputted even if I try to run a file that doesn't exist:
npm run cy:run -- -s cypress/integration/examples/file_dose_not_exist.js
Cypress tell me:
""Can't run because no spec files were found...""
and then the error:
<!-- images, stack traces, etc -->

**package.json:**
```
{
  ""name"": ""example"",
  ""version"": ""1.0.0"",
  ""description"": """",
  ""main"": ""index.js"",
  ""scripts"": {
    ""test"": ""echo \""Error: no test specified\"" && exit 1"",
    ""cy:open"": ""cypress open"",
    ""cy:run"": ""cypress run ""
  },
  ""keywords"": [],
  ""author"": """",
  ""license"": ""ISC"",
  ""devDependencies"": {
    ""cypress"": ""^3.4.1""
  }
}
```
**CLI Error:**
```
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! example@1.0.0 cy:run: `cypress run ""-s"" ""cypress/integration/examples/act*.js""`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the example@1.0.0 cy:run script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     D:\Data\Users\reuve-ga\AppData\Roaming\npm-cache\_logs\2019-09-15T06_28_18_534Z-debug.log
```

**Debug Log:**
```
0 info it worked if it ends with ok
1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',
1 verbose cli   'D:\\Data\\Users\\reuve-ga\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js',
1 verbose cli   'run',
1 verbose cli   'cy:run',
1 verbose cli   '--',
1 verbose cli   '-s',
1 verbose cli   'cypress/integration/examples/act*.js' ]
2 info using npm@6.8.0
3 info using node@v10.15.1
4 verbose run-script [ 'precy:run', 'cy:run', 'postcy:run' ]
5 info lifecycle example@1.0.0~precy:run: example@1.0.0
6 info lifecycle example@1.0.0~cy:run: example@1.0.0
7 verbose lifecycle example@1.0.0~cy:run: unsafe-perm in lifecycle true
8 verbose lifecycle example@1.0.0~cy:run: PATH: D:\Data\Users\reuve-ga\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\node-gyp-bin;C:\tmp\example\node_modules\.bin;C:\ProgramData\Oracle\Java\javapath;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;C:\windows\System32\OpenSSH\;C:\Program Files\SafeNet\Authentication\SAC\x64;C:\Program Files\SafeNet\Authentication\SAC\x32;C:\Program Files (x86)\WinMerge;C:\Program Files\nodejs\;C:\Program Files\Git\cmd;C:\Users\reuve-ga\AppData\Local\Programs\Python\Python37-32\Scripts\;C:\Users\reuve-ga\AppData\Local\Programs\Python\Python37-32\;C:\Users\reuve-ga\AppData\Local\Microsoft\WindowsApps;C:\Users\reuve-ga\AppData\Roaming\npm;C:\Users\reuve-ga\AppData\Local\Programs\Microsoft VS Code\bin;C:\dev\apache-maven-3.6.0\bin;
9 verbose lifecycle example@1.0.0~cy:run: CWD: C:\tmp\example
10 silly lifecycle example@1.0.0~cy:run: Args: [ '/d /s /c',
10 silly lifecycle   'cypress run ""-s"" ""cypress/integration/examples/act*.js""' ]
11 silly lifecycle example@1.0.0~cy:run: Returned: code: 1  signal: null
12 info lifecycle example@1.0.0~cy:run: Failed to exec cy:run script
13 verbose stack Error: example@1.0.0 cy:run: `cypress run ""-s"" ""cypress/integration/examples/act*.js""`
13 verbose stack Exit status 1
13 verbose stack     at EventEmitter.<anonymous> (D:\Data\Users\reuve-ga\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\index.js:301:16)
13 verbose stack     at EventEmitter.emit (events.js:189:13)
13 verbose stack     at ChildProcess.<anonymous> (D:\Data\Users\reuve-ga\AppData\Roaming\npm\node_modules\npm\node_modules\npm-lifecycle\lib\spawn.js:55:14)
13 verbose stack     at ChildProcess.emit (events.js:189:13)
13 verbose stack     at maybeClose (internal/child_process.js:970:16)
13 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:259:5)
14 verbose pkgid example@1.0.0
15 verbose cwd C:\tmp\example
16 verbose Windows_NT 10.0.17134
17 verbose argv ""C:\\Program Files\\nodejs\\node.exe"" ""D:\\Data\\Users\\reuve-ga\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js"" ""run"" ""cy:run"" ""--"" ""-s"" ""cypress/integration/examples/act*.js""
18 verbose node v10.15.1
19 verbose npm  v6.8.0
20 error code ELIFECYCLE
21 error errno 1
22 error example@1.0.0 cy:run: `cypress run ""-s"" ""cypress/integration/examples/act*.js""`
22 error Exit status 1
23 error Failed at the example@1.0.0 cy:run script.
23 error This is probably not a problem with npm. There is likely additional logging output above.
24 verbose exit [ 1, true ]
```
### Desired behavior:
Running cypress as NPM package.json commands will not result in an error.
<!-- A clear concise description of what you want to happen -->

### Steps to reproduce: (app code and test code)
Install cypress.
Set `""cy:run"": ""cypress run""` in package.json
Change any test file in the examples folder to faile.
Do: `npm run cy:run`
<!-- Issues without reproducible steps WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions
Cypress: 3.4.1
Windows 10
Browser: electrone
<!-- Cypress, operating system, browser -->
",question
487004113,"File export, or access to confirm window","Hello
How can I file exporting?
for example, when clicked button, there confirm window to save the file...
How can access for this confirm window, then click on save button?

thnx",question
476951541,Can we Automate QR Code using Cypress? If Yes then How,Need to Automate QR Code using Cypress.,question
472207706,This is results is true?,"i have script test like this
```js
cy.get('.ui-datatable-data > :nth-child(1) > [style=""width: 150px; text-transform: capitalize; display: table-cell;""]').should('contain', product_update[i].product_name)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(2)').should('contain', product_update[i].product_code)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(3)').and('not.have.value',product_update[i].unit)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(4)').should('exist', product_update[i].product_category)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(5)').should('exist', product_update[i].purchase_price)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(7)').should('exist', product_update[i].sales_price)
        cy.get('.ui-datatable-data > :nth-child(1) > :nth-child(8)').should('exist', product_update[i].description)
```

and make exist because the value of each element is `"" ' ' ""` and i would to assert each element. and the result 

![image](https://user-images.githubusercontent.com/44185191/61787123-57262f80-ae39-11e9-9854-17028271b2ba.png)

whether by adding exist in my assertion compared to the results it looks useless?",question
468887994,How to get values of the browser properties in Cypress?,"<!-- Is this a question? Don't open an issue. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:
I need to assert the value of the ""value"" property in the browser properties. This value is not presented in the DOM. I have Googled everything but can't find how to do that with Cypress


<img width=""1441"" alt=""2019-07-16_1654"" src=""https://user-images.githubusercontent.com/21285622/61332977-3f242f80-a7eb-11e9-943a-5e4d64a09ac8.png"">

Cypress its() method do not work for this scenario.... :(

<!-- images, stack traces, etc -->

### Desired behavior:

<!-- A clear concise description of what you want to happen -->

### Steps to reproduce: (app code and test code)

<!-- Issues without reproducible steps WILL BE CLOSED -->

<!-- You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions

<!-- Cypress, operating system, browser -->
",question
465067665,How can I use any variable/element of a describe block in different describe block?,"**Details:**

```js
//Enter data and add the customer profiles
   describe('Enter data to New profiles', function() {
	it('Enter cuatomer details and add the customer profile', function() {
//Dynamic Customer profile Name
	const todaysDateTime = Cypress.moment().format('MMMDDYYYYSS')
	const profileName ='ProfileName-' +todaysDateTime
//Entering the profile Name
	cy.get('input[id=""fileDataSubform-profile_name""]').type(**profileName**)
	cy.get('textarea[name=""fileDataSubform[customer_list]""]').type('Smith002')
??clicking the submit button
	cy.get('button[id=""pvwButton1""]').click()
		 })
	  })
```

_**I want to use the above 'profileName' const value in different describe block as below.**_
```js
describe('Customer details page Navigation', function() {
  it('Click on created customer profile name', function() {
	cy.get('html > body > div:nth-of-type(1)').then(($elem) => {
   const x =  $elem.text()
   cy.log(x)
   if (x.includes(**_profileName_**)) {
	 cy.log(""found"")
	 cy.get($elem).click()
})
})
```

I have used cypress hook method to solve this but is there anyway, I could able to use the 1 dynamic/constant value of a describe block in other describe block apart from cypress hook concept",question
463128972,Getting coordinates of an element,"Hello

I m really blocked. i can't execute the function **getBoundingClientRect()** 
could you please give me some instructions or another way to get the coordinates.

Thank you in advance.",question
462913696,TypeError: cy.get(...).text is not a function,"Cypress was working fine with the below code but currently throwing error  cy.get(...).text is not a function

```js
context('Testing Application', () => {
    beforeEach(() => {
        cy.test();
    })
    it('Verify Application List', () => {
        cy.get('.MuiButtonBase-root').each((item, index) => {
            cy.get(`:nth-child(${index + 1}) > .ButtonBase-root > .title__text`)
            .text()
                .then((itemDesc) => {
                    cy.get(`:nth-child(${index + 1}) > .ButtonBase-root`).click();
                    cy.get('.title__text').text().should('eq', itemDesc);
```
------
```json
""devDependencies"": {
    ""@cypress/snapshot"": ""^2.1.3"",
    ""cypress"": ""^3.3.2"",
    ""cypress-image-snapshot"": ""^3.0.2"",
    ""cypress-slack-reporter"": ""^0.3.1"",
    ""mocha"": ""^5.2.0"",
    ""mocha-junit-reporter"": ""^1.23.0"",
    ""mocha-multi-reporters"": ""^1.1.7"",
    ""mochawesome"": ""^4.0.0"",
    ""mochawesome-merge"": ""^2.0.1"",
    ""mochawesome-report-generator"": ""^4.0.0"",
    ""regenerator-runtime"": ""^0.13.2""
  }
```
",question
461918740,cy.writeFile does not work with variable values,"<!-- Is this a question? Don't open an issue. Ask in our chat https://on.cypress.io/chat  -->

### Current behavior:

When using `cy.writeFile` using a variable as the value to write to file, it hangs indefinitely during execution.

### Desired behavior:

using `cy.writeFile` using a variable as the value to write to file should work just like writing a string to file works currently and write the variables value to a file.

### Steps to reproduce: (app code and test code)
run the following in a Cypress test.

```js
    var token = cy.get('#app > div > div.box > p') // use a valid text box locator here.
    
    cy.writeFile('C:\yourpathhere\token.txt',token)
```

### Versions

Cypress Version 3.3.2
Chrome 75 and Electron 61
OS Windows 10 pro v17763
",question
461738220,Waiting for selector in cypress,"I am refactoring my ui tests from Puppeteer to Cypress, and while reading the documentation I was not able to find a way to wait for an element to appear on the page.

For example, there does not seem to be a method such as waitFor(#someId), such as in Puppeteer.

Does Cypress support something similar?

",question
459847370,Testing A Form in Cypress,"I have to automate an app completely which involves many pages like add agency, add new user etc now in these pages i have to fill many input fields

I want to get the values of these input elements and save them in a constant (One constant for each input field) As i have to test these input fields from many aspects in many tests like if an iput is accepting alphabets for phonenmbr field or if the required fields are showing any error if not filled or if they are accepting the characters beyond their fixed limit or for other type of validations

So is there any way in cypress that i store element values in constant like (const username = cy.get('.username') in any file (using fixture) or by using command.js

and then use them in various tests like (username.type('Jhon')

Kindly help me in this regard with best practices or guide me towards useful links in this regard",question
458190898,Why don't we trigger cypress-test-example-repos for Mac build,"Project https://github.com/cypress-io/cypress-test-example-repos is configured to run a few test projects on Mac CI see https://github.com/cypress-io/cypress-test-example-repos/blob/master/circle.yml

Yet I do not see us triggering Mac builds for this project

![Screen Shot 2019-06-19 at 3 34 57 PM](https://user-images.githubusercontent.com/2212006/59794852-e0c96700-92a7-11e9-91df-580592a9c64b.png)

It would be nice to test downstream projects on Mac as well",question
457085013,Doubt: load multiple fixtures once per Cypress execution,"I have 3 sites, and each site has 3 envs, each with their `config.json` and `fixtures.json`. However, part of the fixture is common, like `routes` which contains endpoints. Following the [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) pattern, I refactored the common bits to a `routes.json`.

<img width=""231"" alt=""Screenshot 2019-06-17 at 18 37 26"" src=""https://user-images.githubusercontent.com/2140450/59626651-56acc180-9134-11e9-9ade-dd4d789b0722.png"">

I basically want to load multiple fixtures...
- avoiding ""pyramid of doom of fixtures"", as in [this example](https://github.com/cypress-io/cypress-example-recipes/blob/master/examples/fundamentals__fixtures/cypress/integration/multiple-fixtures-spec.js)
- if possible, once per Cypress execution (it's a bit of a waste on a `before()`), unlike [this example](https://github.com/cypress-io/cypress-example-recipes/blob/master/examples/fundamentals__fixtures/cypress/integration/load-fixtures-spec.js)

Ideally I would be able to access each fixture file independently like:

```js
cy.visit(routes.account.edit)
...
cy.get(selectorNotification).should(""contain"", keywords.dialog.success)
```

Given a file like:

```json
// routes.json
{
  ""account"": {
    ""edit"": ""/account/edit""
  },
  ""users"": {
    ""list"": ""/users"",
    ""search"": ""/user/search""
  },
  ...
} 
```

I've tried a mix of `cy.fixture`, `Cypress.config`, `fs.readFile`, `cy.readFile` to no avail and now I'm too biased to think out of the box.

Please, can you advise me a solution? I feel like I'm over-engineering it.",question
456343844,Access popup page,"Hey everybody,

I've been studying cypress and doing some tests but I have a doubt and cant find a answer.

I have a HTML page and a button who open a popup page:

```html
<input type=""button"" id=""Mybutton"" value=""Abrir Popup"" onClick=""javascript:createPopup('')"">
```

```js
function createPopup(title){
	var popup = open("""", title, ""width=300,height=200"");
	var txt = popup.document.createElement(""TEXTAREA"");

	popup.document.body.appendChild(txt);
}
```

How can I access the popup page and the components?

",question
453493864,Question: Backend only testing with Cypress?,"This is more of a question. 

```
  1)  Checks to see if server is alive:
     TypeError: Cannot read property 'write' of undefined
      at Context.<anonymous> (http://localhost:38125/__cypress/tests?p=.build/cypress/unit/libs.mqtt.spec.js-246:208:18)
```

I was attempting to do `process.stdout.write` but I notcied that it doesn't detect any of the normal node.js objects, nor when require 'fs' for example. I'm attempting to unit test some of my backend modules with Cypress. Since this can be done with Mocha and that Cypress is built on-top of Mocha, it should be possible to use Cypress for backend only testing in node?",question
450907197,Cypress' cy.wait() does not wait on redirect,"### Current behavior:

I'm writing a test to cover our registration flow. 

On creating an account, user gets redirected to a `/registration` page where I then try to validate that a `send confirmation email` button exists. 

We have bunch of `GET` requests made on redirect on registration page, which causes a complete load of 'registration' page pretty long (I would say 5-7s?).

Of course, this caused the test became really 'flaky', so I decided to wait for those api routes to be resolved before proceeding to next commands, but it seems like the commands are getting executed and timing out before `cy.wait` gets resolved.

Custom command, wait for api: 

```js
Cypress.Commands.add('waitForApiResponse', function (url) {
    cy.server();
    cy.route('GET', '**/internal**/**').as('internalApi');
    cy.wait('@internalApi');
});
```

Actual test: 

```js
cy.get(vendorRegSelectors.vendorRegCreateButton).click();
cy.waitForApiResponse();

cy.location('pathname').should('eq', '/registration');
cy.get(vendorRegSelectors.sendConfirmEmailButton)
  .invoke('width')
  .should('be.gt', 0);
```

Screenshot on Cypress:
![Screen_Shot_2019-05-31_at_1_07_19_PM](https://user-images.githubusercontent.com/6810688/58727680-fcc99f00-83b2-11e9-9f6e-8f0edcd95da6.png)

### Desired behavior:

Next commands of `cy.wait()` should not be executed until `cy.wait()` resolves successfully.

Now, I know that we can't wait FOREVER to grab requests that are being made within the app...

Would there really be a no other solution instead of increasing `timeout`?

### Versions

Cypress: 3.3.1
Browser: Chrome 74",question
448080725,DOM Snapshot request/response,"When I point my mouse over the API request above the page snapshot, it will keep switching between request and response. I want it to default to response. How can I do that",question
445954983,As a tester I want to run a test script multiple times with different data from a table sheet So I can test the app with multiple cases,"<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior: Test one case at one time/ one script (my exp)

<!-- images, stack traces, etc -->

### Desired behavior: Use the variables from the data table to run the test script multiple times

<!-- A clear description of what you want to happen -->

### Versions 

<!-- Cypress, operating system, browser -->
",question
445713518,Not able to click/Select Options Thro' Cypress,"### Select Statement is not working , getting CypressError: Timed out retrying: Expected to find element: 'timeentry_lov1', but never found it.

I Want to select Options form Below HTML Code.`timeentry_lov1` is Select Name which is 2nd element in Page with same Name. Also checked that there is no Frame present in Page.
But Is there any Frame Concept like selnium in Cypress? If not then can anyone Help me to work with Select attribute.

### PFB HTML Code
![image](https://user-images.githubusercontent.com/15339271/57970038-fa6e4a80-7999-11e9-819c-9e3cd7f2bdef.png)


<!-- images, stack traces, etc -->

### PFB the below Select Statement which I have used

```js
cy.get('timeentry_lov1',{timeout : 60000}).eq(1).select('NB-860').debug();
cy.get('timeentry_lov1').eq(1).select('NB-860-Test Automation');
cy.select('timeentry_lov1',{timeout : 7000}).eq(1).should('have.value','NB-860');
cy.find('timeentry_lov1').get('select').select('NB-860');
```

",question
443226542,Need support for Desktop applications,"I have a Windows application with many security things. I want to test it using Cypress.

Is there any workaround to do it?

@brian-mann  @jennifer-shehane ",question
442460180,Multiple 'it' in one 'describe' with a beforeEach,"### Can I have multiple 'it' in one describe' but also be running a beforeEach?

## Current behavior:
Currently, I am running a ```beforeEach``` and it resets at the beginning of each test which is what I want but also no. I have tests that are independent but grouped together because they are testing the same component. So, for now it looks like this: 
```js
describe('this is a test',function(){
	it('will be a test example',function(){
		cy.contains('test').click
		cy.contains('another test').click()
	})
})
```

And my beforeEach looks like this: 
```js
beforeEach(() => {
  cy.visit('http://localhost:3000/');
});
```

## Desired behavior:
I want to be able to write my tests like this: 
```js
describe('this is a test',function(){
	it('will be a test example',function(){
		cy.contains('test').click
	})
	it('will test another test',function(){
		cy.contains('another test').click()
	})
})
```

## Summary
So is there anyway to not have the beforeEach effect that second ```it``` in my desired behavior? or will I have to write a `cy.visit()` in each test?",question
439580232,before hooks in two separate specs fire at the wrong time,"### Current behavior:
Create two spec files. Each have their own before() hooks. If you run both spec files the before hook from each file is fired at the start of the first spec file.

### Desired behavior:
I expect that the before hook will fire only when the file its defined in runs. That is (using the example below), when one_spec.js runs its before hook should fire. Then when two_spec.js runs its before hook should fire. 

### Steps to reproduce: (app code and test code)

![Screenshot from 2019-05-02 08-50-28](https://user-images.githubusercontent.com/1063198/57076381-85bbc080-6cb7-11e9-9ba3-18230b38dfa6.png)

**one_spec.js**
```Javascript
before(() => {
    cy.fixture('users').as('users').then((u) => {
        cy.log('User 1 name in before of One: ' + u[0].name)
    })
})

describe('One', () => {

    beforeEach(() => {
        cy.fixture('profile').as('profile').then((p)=> {
            cy.log('The name is: ' + p.name + ' in beforeEach')
        })   
    })

    it('First function', function() {
        cy.log('The name is: ' + this.profile.name)
        cy.log('User 1 name is: ' + this.users[0].name)
    })

    it('Second function', function() {
        cy.log('The name is: ' + this.profile.name)
        cy.log('User 1 name is: ' + this.users[0].name)
    })
})
```

**two_spec.js**
```Javascript
before(() => {
    cy.fixture('users').as('users').then((u) => {
        cy.log('User 1 name in before of Two: ' + u[0].name)
    })
})

describe('Two', () => {

    beforeEach(() => {
        cy.fixture('profile').as('profile').then((p)=> {
            cy.log('The name is: ' + p.name + ' in beforeEach')
        })   
    })

    it('First function', function() {
        cy.log('The name is: ' + this.profile.name)
        cy.log('User 1 name is: ' + this.users[0].name)
    })

    it('Second function', function() {
        cy.log('The name is: ' + this.profile.name)
        cy.log('User 1 name is: ' + this.users[0].name)
    })
})
```

### Versions
```Bash
[swright@swrightdev01 uitesting]$ ~/node_modules/.bin/cypress --version
Cypress package version: 3.2.0
Cypress binary version: 3.2.0
[swright@swrightdev01 uitesting]$ cat /etc/redhat-release 
CentOS Linux release 7.6.1810 (Core) 
[swright@swrightdev01 uitesting]$
```

",question
438671700,Question : Is it possible to check if a downloading has happened ?,"Hi, 
Need informations about one question.
Is it possible to check in back-end if the downloading has happenend ?
Example : When i click on button it starts a downloading and i need to know if it happened 
Is cypress allowing this ? Or do you know how to check in javaScript or with an other framework ?
Thanks",question
437172548,Disable flag options for fake camera UI,"### Current behavior:

Hi I have been writing some tests to verify ID verification process during a specific user journey. There are 2 parts to this process - 1. is it to upload a file for example passport and 2. is to capture/upload a selfie image. The problem i am encountering with cypress is that it switches ON the fake camera by default and i am struggling to upload an image or to send out a video file(which I dont want to do) I just want to basically skip this fake camera input and use the upload function. Is there any way I can do this by passing something like ""--disable--fake-video-capture"". If you need any more info let me know.

### Desired behavior:

 I can see that its been passed as flag to chrome from this script
https://github.com/cypress-io/cypress/blob/develop/packages/server/lib/browsers/chrome.coffee#L21

But how/where can I comment out this line in order for me to be able to not use the fake camera ui?

### Versions
Cypress Version - 3.2.0
OS: Windows 10
Browser: Chrome

### My previous conversation is under this link
https://github.com/cypress-io/cypress/issues/2704",question
435873147,How to select table inside table?,"### Is this a Feature or Bug?

<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior:

<!-- images, stack traces, etc -->

### Desired behavior:

<!-- A clear concise description of what you want to happen -->

### Steps to reproduce: (app code and test code)

<!-- Issues without reproducible steps will get closed. You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions

<!-- Cypress, operating system, browser -->
",question
432012188,data-react-beautiful-dnd-draggable does not work with cypress drag and drop command,"Hi,

I have been trying to understand why the mouse/keyboard cypress commands don't work with the 'data-react-beautiful-dnd-draggable' in react for a web application we have developed. I am running the cypress tests on Chrome on an element of type 'form'.

I am attempting to drag and drop a series of text boxes by swapping them with each other. These text boxes can be identified using 'form id=X'. The text boxes also have a 'data-position' attribute. On drag and drop these text boxes should fire an API call that gets the text boxes reordered but so far had no luck actually moving the textboxes around.

I have tried the following approaches:
- dnd plugin 
- following the cypress dnd recipe
- using keyboard actions such as keyDown/keyUp
- using dragstart,dragend,mouseover,mousedown

This is a snippet of the code I was running:
Keyboard actions:

```javascript
describe(""Reorder text boxes"", () => {
    it(""should reorder textboxes"", function() {
      cy.wait(2000);
      cy.get(""div[class*=index_banner]:nth-child(2)"")
        .focus()
        .trigger(""space"", { keyCode: space, force: true })
        .trigger(""keyup"", { keyCode: arrowUp, force: true })
        .wait(5000)
        .trigger(""space"", { keyCode: space, force: true });
      });
  });
```


Mouse actions:
```javascript
              cy.get(`form[id=309]`)
              .parent() // locates dnd-react component
              .focus()           
              .trigger('mousedown', { clientX: 338 , clientY: 268 })              
              .trigger('mousemove', { clientX: 338 , clientY: 262 })
              wait(3000)
              .trigger('mouseout', { clientX: 339 , clientY: 258 })
              .trigger('mouseleave', { clientX: 339 , clientY: 258 })
              .trigger('mouseover', { clientX: 318, clientY: 262})
```


HTML
![image](https://user-images.githubusercontent.com/49522939/55960012-d9605e80-5c63-11e9-8265-8842be2e2662.png)


I have also tried to use the invoke() function to change the 'data-position' attribute.

Any help would be greatly appreciated!


Cypress package version: 3.1.5
Chrome 73
",question
431360980,Testing page loading state,"I'm trying to test the loading state of my app when I click a link that navigates to a new page. 

I've tried and failed to do so with `on.('window:beofre:load')`. Essentially what I want to do is:

```ts
cy.visit('/')

cy.get('#link').click();

// page is loading...
cy.get('#page-loading-indicator').should('be.visible')

// And this after page has loaded
cy.get('#page-loading-indicator').should('not.be.visible')
```

",question
430781248,How to capture a radio button having same values,"Hi all,

i have two radio button with same values how can i capture a particular radio button click

<input id=""1003_r_Create"" type=""radio"" name=""KT3"" value=""1003"" style=""margin-left:100px;"">

<input id=""1003_r_Modify"" type=""radio"" name=""KT3"" value=""1003"" style=""margin-left:100px;"">

Thanks in Advance",question
429598300,Cypress unit test for a component which depends an event from out side of the component,"I have a component which contains drop down. The values on the drop down is filled based on the `click` event of the page tab. The page tab is outside of this component. So we have the source code to emit the event from page tab to the component

`this.$router.app.$emit('RefreshCategories', 'blog');`

on the component we listen an event using below source code

```js
public mounted() {
  this.$router.app.$on('RefreshCategories', (data: any) => {
    this.GetCategories(data);
  });
}
```

The method `GetCategories(data)` fills data to the dropdown on the component. I am using vue js and Cypress. This is working correctly on my browser. I want to do unit test for this component using cypress.

Is it possible to do unit test for this component? Because this component depends an event from out side of this component.

Can we trigger the `emit` event from cypress during test? ",question
428972976,logged-in state is lost after test causes another POST request,"I'm confused here. I have this very simple test that logs my user in, then visits a page that requires the user to be logged in, views a form and clicks the submit button

```js
describe('Logs In and Submits Form', () => {
  it('Mocks Login', () => {
    cy.mockLoginAndGoto('form');
  });

  it('Sees Form', () => {
    cy.get('form', {
      timeout: 5000,
    }).should('be.visible');
  });

  it('Clicks Submit Button', () => {
    cy.get('[data-cy=""submit-button""]').click();
  });
});
```

The login part uses JWT, anyway that part works fine. It then visits the route `/form` and views the form element. This form is only visible to logged-in users, I can clearly see that at this point the user is logged in, I can see that from the UI showing the user's name. So far so good. Then in the last step, a button is clicked which triggers a `POST` requests, which passes the authorization token retrieved from the first step.

This part fails because for some reason I can't figure out, by the time it reaches the 3rd step, the user is no longer logged in, and as such the authorization token is not included with the `POST` request.

This ""flow"" works fine if you run it manually.

Now, if I run all 3 steps as a single `it()`, then it works correctly

```js
describe('Logs In and Submits Form', () => {
  it('Mocks Login, sees form, clicks submit button', () => {
    cy.mockLoginAndGoto('form');

    cy.get('form', {
      timeout: 5000,
    }).should('be.visible');

    cy.get('[data-cy=""submit-button""]').click();
  });
});
```

This works correctly. How come? What am I missing?

This is a simplified version of the real test. The real test involves logging in, testing a bunch of steps then at the end clicking the submit button and submitting a form that's been filled out by the previous steps. I don't want to have to mock the login before each of those steps. I also don't want to have to eliminate all my steps and run 20 sets of directives as a single `it()`.

Why is it that all steps keep my user logged in but when I reach the step that causes a `POST` request, only then does it fail and reverts my state to logged-out? But as a single `it()` it works?

Thanks in advance for the help",question
426202129,How to override type or click?,"### Current behavior:

I have a custom command that interacts with the UI and waits for animations to complete called `rerender`. I want to make sure to invoke rerender before and after clicking and typing. However, I'm not able to figure out the correct way to do this.

I've tried a couple things.

```ts
Cypress.Commands.overwrite(""click"", (originalFn, subject, ...args) => {
	cy.rerender()
	originalFn(subject, ...args)
	cy.rerender()
})
```

```ts
Cypress.Commands.overwrite(""click"", (originalFn, subject, ...args) => {
	cy.rerender()
	cy.wrap(originalFn(subject, ...args))
	cy.rerender()
})
```

```ts
Cypress.Commands.overwrite(""click"", (originalFn, subject, ...args) => {
	cy.rerender()
		.then(() => originalFn(subject, ...args))
		.rerender()
})
```

```ts
Cypress.Commands.overwrite(""click"", (originalFn, subject, ...args) => {
	cy.rerender().then(() => {
		originalFn(subject, ...args).then(() => {
			cy.rerender()
		})
	})
})
```

They all come up with some sort of error about a promise inside a promise or something...

```
CypressError: Timed out retrying: Cypress detected that you returned a promise from a command while also invoking one or more cy commands in that promise.

The command that returned the promise was:

  > cy.type()

The cy command you invoked inside the promise was:

  > cy.rerender()

Because Cypress commands are already promise-like, you don't need to wrap them or return your own promise.

Cypress will resolve your command with whatever the final Cypress command yields.

The reason this is an error instead of a warning is because Cypress internally queues commands serially whereas Promises execute as soon as they are invoked. Attempting to reconcile this would prevent Cypress from ever resolving.

https://on.cypress.io/returning-promise-and-commands-in-another-command
```

Any ideas how overwriting these commands is supposed to work?

### Versions

Cypress 3.1.5
",question
425006619,How to select visible element?,"My page contains 3 copies of a button element, either of which may become visible and clickable (the other 2 stay hidden and disabled)

How can I get just the visible button?",question
424817633,Cannot test Magento 2 with caching enabled,"I am trying to setup some tests for a fresh Magento 2 installation (with sample data).

However, with all the caches enabled, when I add a product to the cart, I get a Magento error stating ""Invalid Form Key"".

If I disable the full page caching, the test works, but obviously, page loads take much longer.

Has anyone encountered this before, or does anyone have insight on testing Magento with Cypress, with caching enabled?",question
423856378,Cypress in Azure,"Good Morning,

We would like to stand up cypress in Azure. What installation method would be best? I believe the last time we tried this we went with Chef? 
Do we need Docker installed as well?

Thanks",question
422568450,"cy.get(el).should('match', regex) fails to compare regex against el's innnerText","### Current behavior:

I'm not using the middle `contains` in my tests & I'll use a more interesting regex to check something else. But, for a simple failing case, see:

```js
cy.get('button').contains(/next/i).should('match', /next/i)
```

The above line of my e2e tests fails with the following output:

```
Command:     contains
Content:     /next/i
Applied To:  (3)¬†[button.jss181.jss175.jss176, button.jss181.jss236, button.jss181.jss207.jss215.jss216.jss230.jss294]
Yielded:     <span class=‚Äã""jss208"">‚ÄãNext‚Äã</span>‚Äã
Elements:    1
Error:       CypressError: Timed out retrying: expected '<span.jss208>' to match /next/i
```

It looks like the `contains` yielded `<span class=‚Äã""MuiButton-label-214"">‚ÄãNext‚Äã</span>‚Äã` But then the match assertion is only checking `<span class=‚Äã""MuiButton-label-214"">‚Äã` and not the inner text.

I don't see anything in the [assertion reference](https://docs.cypress.io/guides/references/assertions.html) that suggests `match` should only be comparing against the element name & classes.

### Desired behavior:

`cy.get(element).should('match', regex)` should compare the regex against the element's inner text too, not just the element name & classes.

Alternatively, I'd like to have some way to assert that some element in an array has an inner text that matches some regex. See issue #3746 for another unsuccessful attempt I made at solving this problem.

### Steps to reproduce: (app code and test code)

```js
describe('Debug', () => {
  it('Should display an intro modal that can be closed', () => {
    cy.visit('https://daicard.io')
    cy.get('button').should('match', /next/i) // This fails
    cy.get('button').contains(/next/i).should('match', /next/i) // This fails too
  })
})
```

### Versions

Cypress: 3.2.0
MacOS: 10.14.3 (18D109)
Google Chrome: 72.0.3626.121 (Official Build) (64-bit)
",question
419449860,Should will not wait when used on custom command,"### Current behavior:
The `should()` method will not wait in case of custom command:

### Desired behavior:

The `should()` method waits also in case of custom command

### Steps to reproduce: (app code and test code)

Custom command:
```js
Cypress.Commands.add(""position"", {prevSubject: 'element'}, ($subject) => {
    return {top: +$subject.get(0).getBoundingClientRect().top.toFixed(0),
        left: +$subject.get(0).getBoundingClientRect().left.toFixed(0)};
});
```
Test:
```js
cy.get('.my-class').position().should('deep.equal', {top: 25, left: 18});
```

This assertion will fail if the condition is not met immediately.

### Versions
cypress: 3.1.5
macOS 10.14.2
Chrome 72.0.3626.121
<!-- Cypress, operating system, browser -->
",question
419010497,Parallelization on Mac,"It is possible to utilize parallel tests outside a CI? I just want to run them on my computer for simplicity.

Thanks!",question
416452969,"cy.visit re-visited, and how should I properly wait for page load?","### Current behavior:
Commands after `cy.visit` are executed before page is fully loaded (before page loaded event is fired)

### Desired behavior:
`cy.visit` should wait on page `load` event or `timeout` set before proceeding to any commands after it has been invoked. 

### Steps to reproduce: (app code and test code)
https://github.com/janusqa/cypress-test-tiny
Run test and view console (`spec.js`).

### Versions
chrome: Version 72.0.3626.121 (Official Build) (64-bit)
linux: Ubuntu 18.04.2 LTS
Cypress package version: 3.1.5
Cypress binary version: 3.1.5

### Other comments
Maybe ""should"" should wait instead but that fails to find the element as well because page was not fully loaded and/or ""should"" did not wait and/or default timeout for ""should"" was too short?

from the docs
```
When you load your application using cy.visit(), Cypress will wait for the load event
to fire. It is really this easy. The cy.visit() command loads a remote page and does 
not resolve until all of the external resources complete their loading phase.
```
This seems to describe what is in ""### Desired Behavior"" but what I get is ""### Current Behavior""",question
415133213,Unable to read environment variables from CLI when I run tests with Cypress,"**Subject: Unable to read the environment variables that I am passing from command line.**

For eg `ENV=prod npm run smoke;` I am reading as below in my tests.
`env = process.env.ENV;`

While Non-Cypress repo(`jest` or `jasmine` framework etc..) is working fine when I run as `ENV=prod npm run smoke`. 

Is it somewhat Cypress not supported with ? although `process.env.ENV` is a Node feature. My Cypress version is ""3.1.4"". It would be really great if someone can help me..",question
409466652,Cypress cannot handle d3 drag events,"### Current behavior:
When I write a test in cypress that performs a drag event on a canvas that has drag event listeners attached from d3, test fail. In the cypress UI, the canvas looks blank (it looks as expected if I am not testing events on the canvas ), the click events seem to register but the actions do not occur.  

### Desired behavior:

When I write a test with drag events on a D3 canvas, I expect the app will act the same as if I had manually performed a drag event. 

### Steps to reproduce: (app code and test code)

I created a test case: https://github.com/csweaver/cypress-test-tiny (master branch) 

```
npm install
npm run start
npm run cypress:open
```

### Versions
Cypress: 3.1.5
OS: OSX 10.13.6
Chrome: 71

Seems related to this stack overflow question: https://stackoverflow.com/questions/54027884/testing-d3-js-drag-events-with-cypress-js
----
Not part of the bug report, but I really loved writing tests in cypress and was super disappointed when I realized I'd have to abandon it because it couldn't support d3 events (key to our app). Great work on the developer interface!",question
407522396,Drag and drop not working,"I am dragging one text element from a tree to a drop zone. After element get dropped will have a table displayed. No errors shown but the element is not getting dropped. Also when we do dragging manually ->we can see a bubble with green color until it get dropped. That also not got displayed. 

Note:both element identification is successful. I have gone through the issues mentioned on cypress.io channels but my issue is not same.

This is actually not dragging element to drop zone.

This is basic step for our application - we are in process of changing  smoke tests to use cypress instead of selenium.

This issue actually blocks this. Any help appreciated.

Once we run smoke on CI/CD we are also looking for dashboard services to report

![image](https://user-images.githubusercontent.com/30563296/52387807-7aaa2780-2af0-11e9-9fdc-5fbda1a9b499.png)
![image](https://user-images.githubusercontent.com/30563296/52387863-b644f180-2af0-11e9-8f89-1c21fcb14b12.png)

HTML for element to be dragged
```html
 class=""tree-item-content ng-binding ng-scope"" ng-      if=""!item.ui.search.html"" ng-  bind=""item.ItemName"" ng-class=""vm.itemStyle(item)"" ng-dblclick=""vm.treeDoubleClick ($event, item, itemParent)"">Gender</
```


HTML for Drop Zone
```html
 id=""itl-drop-zone-down"" class=""dropArea"" ng-class=""{'itl-drop-zone-active': currentDropType === 'down' &amp;&amp; dropZoneOptions.down &amp;&amp; dropZoneOptions.down.options.length > 0, 'itl-highchart-down-drop-zone-height' : isHighchart || isWidthChart, 'itl-table-down-drop-zone-height':isVizGrid}"" kendo-droptarget="""" k-dragenter=""onDragEnter"" k-dragleave=""onDragLeave"" k-dragcancel=""onDragLeave"" k-drop=""onDrop"" droptype=""down"" data-role=""droptarget"">
    <span class=""itl-drop-zone-header"">Down</span>
    <!-- ngIf: !isInitialLayout() && displayOptions('down') -->
```

I tired below solution but not working

```js
describe('Drag and drop of Gender test', function() {
const dataTransfer = new DataTransfer;

function dndIt() {
  cy.get('.tree-item-content').contains(""Gender"")
    .trigger('dragstart', { dataTransfer });

  cy.get('#itl-drop-zone-down')
    .trigger('drop', { dataTransfer });

  cy.get('.tree-item-content').contains(""Gender"")
    .trigger('dragend');               
}                                      

beforeEach(function() {
  cy.viewport(1000, 600);
  cy.visit('Paste your url ');
});

it('Check whether the drag and drop of Gender is possible', function() {
  dndIt();  
  cy.get('#itl-drop-zone-down')
    .should(($el) => {
      expect($el.children()).to.have.lengthOf(1)
    });
});

});
```

Chrome:71(Tried on Electron59 also same issue)
Cypress version 3.1.4
",question
407483286,Assert element NEVER exists ?,"I'm trying to assert that an element doesn't exist on the page. 

Normally I'd just do `cy.get(myEl).should(""not.exist"")` 

In this case however I'm looking for a toast message that leaves the page rather quickly. 

```js
cy.get(myToast).should(""not.exist"")
```

doesn't work in this case because the test passes either before the toast is on the page, or the toast leaves the page too quickly. 

I want to assert that it NEVER shows up, even if very briefly but am struggling to figure out how to make that assertion.. any ideas?

Thanks!


Here's the actual code in my test just to give a more concrete example: 

```js
it(`should be able to edit a sequence and re-open it from the library without having the sequence re-save
  `, () => {
    cy.upsert(['sequence', 'id name sequence'], {
      name: 'thomas',
      sequenceFragments: [
        { index: 0, fragment: 'tagagtagagtagagtagagtagagtagag' }
      ]
    }).then(([{ id }]) => {
      cy.visit(`/sequences/${id}`);
    });
//edit the sequence
    cy.get('.veStatusBar').contains(`Length: 30`);
    cy.get('.veRowView')
      .focus()
      .type('g', { force: true });
    cy.get(`[id=""sequenceInputBubble""] input`).type('gatgagagag{enter}');
    cy.contains('Sequence Inserted Successfully')
      .closest('.bp3-toast')
      .find('.bp3-icon-cross')
      .click();
    cy.contains('Sequence Saving...')
      .closest('.bp3-toast')
      .find('.bp3-icon-cross')
      .click();
    cy.contains('Sequence Saved')
      .closest('.bp3-toast')
      .find('.bp3-icon-cross')
      .click();
//open the library
    cy.contains('.header-link-text', 'Molecules').click();
    cy.contains('.bp3-menu-item', 'DNA Sequences').click();
    cy.get(`[data-copy-text=""thomas""]`).dblclick();
//open the sequence again and assert that the sequence doesn't try to re-save
    cy.contains('Sequence Saved').should(""not.be.visible"") // I want this to fail if the ""Sequence Saved"" toast ever pops up. Currently it passes even when the ""Sequence Saved"" toast does pop up
  });
```",question
407079378,need of alternate command for wait and timeout,"### Is this a Feature or Bug?
Feature
<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior:
hard coding required time
<!-- images, stack traces, etc -->

### Desired behavior:
need alternate way without hard coding
<!-- A clear concise description of what you want to happen -->

### Steps to reproduce: (app code and test code)
My First Page is Login Page and my Second Page is Dashboard Page. After Clicking Login Button in First Page Ajax calls starts happening for loading second page mean time cypress executes next command and throws error because the DOM is not loaded(Ajax calls are happening not completed), so i planned to use Wait or Timeout. My client wants not to hard code any particular amount of time.So i am Requesting you to suggest some other   way to check whether the DOM is Loaded or not. instead of using wait and Timeout.
<!-- Issues without reproducible steps will get closed. You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions
3.1.5
<!-- Cypress, operating system, browser -->
",question
406820600,Ability to return values fetched using children() method,"### Current behavior:

I am currently trying to write an utility function that fetches data in a page and returns it using the below code.

The rows of data returned within `children().each(()=>{})`  is correct and is printed properly. But I am unable to fetch the values of `arr_rows` outside of the `each` loop. I am planning to use this `fn` in tests that requires fetching and comparing a table of data.

I have attached a screenshot of my output below.

![screen shot 2019-02-05 at 9 53 40 am](https://user-images.githubusercontent.com/35237894/52281410-1d657900-292c-11e9-94ff-edc5a99e523e.png)

### Desired behavior:

To be able to access the value populated into `arr_rows` within file scope

Current code I am using to fetch data from web page

```js
let arr_rows = [];

function retreive_data_from_UI(){
    cy.get(constants.cssCustomerWoListViewTable).children().each(function($rows, ind){
            arr_rows[ind] = $rows.text();
            cy.log(ind);
            cy.log(arr_rows[ind]); // Prints proper output
  }).then((arr_rows) => {
            cy.wait(1000);
           for(var i = 0; i < 5; i++){
                cy.log(arr_rows[i]); // does not print expected output
           }
  });
}
```
",question
405639192,I have a form that has a Select element with countries as an option. I want to automate this select element using Cypress,"Have to test a form having select element with Countries as an option.

Test exit criteria: 
I need to select every option(countries based on the Region), Suppose i am testing for Asia Region out all countries need to select only Asian countries one by one and submit the form every time , Similarly for Europe Region and so on using Cypress. 

Attached is HTML with region countries belongs to 
[Select automate.txt](https://github.com/cypress-io/cypress/files/2821133/Select.automate.txt)
Using Cypress 3.1.3",question
403977275,cypress run opens the gui instead of executing the spec,"### Current behavior:

I try to execute a dedicated spec via 

```
cypress run ‚Äìspec ‚Äò/Users/xxxxx/05_Development/cypress/cypress/integration/examples/login.spec.js‚Äô
```

and the Cypress GUI will be opened and shows an overview of the specs.

### Desired behavior:

Spec should be executed and at the end a report should be displayed

### Versions

Cypress CLI: 0.14.0
Cypress App: 3.1.4

Max OSX 10.11.6

![image](https://user-images.githubusercontent.com/12964123/51861815-72f2c200-233d-11e9-95a3-c4fee3991db3.png)
",question
401097499,Commercial Support?,"This is neither a bug or feature request, but rather a question about commercial support.
Our internal apps are tested via Cypress, which initially worked very well.
Now we are seeing tests fail 2 out of 3 times, at random. and we have no real way of going forward with this..

So, is there any official commercial support, anyone on the core team doing consulting on the topic?
",question
399079088,Is there a way to highlight/border a specific element when taking a cypress screenshot?,"Hey there, we're using cypress's great screenshot functionality to generate documentation for our apps. It would be nice to be able to highlight (or put a red border around or have an arrow pointing to) a certain element while taking a full page screenshot.  It would be nice if the method would also work when taking a cropped screenshot or a screenshot of a larger containing element.

For example, in the following screenshot, it would be nice to be able to have say the ""Submit"" button get a red outline: 
![image](https://user-images.githubusercontent.com/2730609/51142257-46e52600-1800-11e9-9d07-4a3854fdcbf2.png)


Does anyone know of a good way of doing this? Is this possible right now or does cypress need to add some functionality to make this happen. Thanks!",question
395798937,"On entering a value in a field, the value is automatically cleared when executed from command line","<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior:

Entering a value in a field in modal, but it automatically changed back to 0

### Desired behavior:

The entered value should remain

### Steps to reproduce: (app code and test code)

- run the test in command line 
- the test should be opening a modal which has field to enter value and save the modal
- the entered value is getting reset to 0 automatically

```js
context('apex', () => {
   beforeEach(() => {
       cy.loginViaApi();
       cy.viewport(1280, 800);
       cy.visit('/');
   });

   afterEach(() => {
       cy.visit('/home/logoff');
   });

   it('stageTotal', () => {
       const inputIR = 9000
       cy.visit('/opportunities/main');
       //cy.wait(5000);
      cy.get('.i-card__menu__ellipsis-btn__header')
           .first()
           .click();
       cy.contains('.i-dropdown__menu__item', 'Edit').click();
       cy.get('.potential-revenue__initial .i-input').clear();
       cy.get('.create-opportunity__footer__create').click();
       cy.reload()
       cy.get('.i-label .i-input')
           .eq(0)
           .invoke('val')
           .as ('totalIR')
       cy.get('.i-card__menu__ellipsis-btn__header')
           .first()
           .click();
       cy.contains('.i-dropdown__menu__item', 'Edit').click();
       cy.get('.potential-revenue__initial .i-input')
           .type(inputIR)
       cy.wait(1000)
       cy.get('.create-opportunity__footer__create').click();
       cy.reload()
       cy.get('@totalIR').then(totalIR => {
           const convertAsNum = Number(totalIR.replace(/[^0-9]+/g,""""))
           const totalIRAsNum = convertAsNum +inputIR
           cy.get('.i-label .i-input')
           .eq(0)
           .should('have.value', '$ '+ totalIRAsNum );
       });
   });
});
```

**Look at the attached ZIP files which contains the video recorded (look for around 30-33 secods)**

[hubs_opportunities_stage_total.js.zip](https://github.com/cypress-io/cypress/files/2725964/hubs_opportunities_stage_total.js.zip)


### Versions

OS: Windows 10
Browser: Electron 59.0.3071.115
Cypress:v3.1.3
",question
394981365,Unable to scroll with React Virtualized,"<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior:
`cy.get('.ReactVirtualized__Grid__innerScrollContainer').scrollTo(0, 500)`
Cypress is unable to scroll to bottom on React Virtuazlied 

### Desired behavior:
Cypress should be able to scroll to bottom with React Virtualized

### Versions
Cypress 3.1.4

Right now I'm doing a proof of concept to see if Cypress is the right choice for our project and we are using React Virtualized to display a list of elements.

When I try to use `scrollTo()` on the React Virtualized container, I get this error:
```
CypressError: Timed out retrying: cy.scrollTo() failed because this element is not scrollable:

<div class=""ReactVirtualized__Grid__innerScrollContainer"" role=""rowgroup"" style=""width: auto; height: 3960px; max-width: 820px; max-height: 3960px; overflow: hidden; position: relative;"">...</div>
```

I've read in this thread: https://github.com/applitools/eyes.cypress/issues/9 that Cypress falls short on elements which scroll internally.

I'd like to know if you guys are planning on implementing this behaviour, is there any workaround in the meantime?

Thank you",question
394612948,Make loop ,"Hi all,

Quite new to Cypress... Started using it to get some PDF files from an external website.

What i want / do right now
- using BeforeEach for visiting website
- logon to website once using password and Captcha (this works, where a add 10 seconds waiting time to give the right captcha-code.

- then a lot of code for downloading the PDF's. 

Works all great, but want a loop after logging in the website (not chaptcha for every loop). I need those PDF's for different customercodes (from a CSV) . Testmode of the website is not available.

Is this possible? How to fix this if a loop (each ....) without logging in again?
Possible in 1 script? Or maybe the solution can be found in 2 test scripts ?(1 login and then start a second testscript with loop??)

Thanks in advance.




",question
394430300,CircleCI - why is cypress not saved in cache,"
during my CircleCI build I am saving npm dependencies to cache 
```yml
    steps:
      ...
      - save_cache:
          key: deps-npm-{{ .Branch }}-{{ checksum ""package-lock.json"" }}
          paths:
            - ""node_modules""
            - "".cache/Cypress""
      ...
```
next time I build, I restore from cache with
```yml
    steps:
      - checkout
      - restore_cache:
          key: deps-npm-{{ .Branch }}-{{ checksum ""package-lock.json"" }}
      ...
```
but cypress ""insists"" installing
```console
> cypress@3.1.3 postinstall /home/circleci/project/node_modules/cypress
> node index.js --exec install

Installing Cypress (version: 3.1.3)

[14:10:00]  Downloading Cypress     [started]
[14:10:01]  Downloading Cypress     [completed]
[14:10:01]  Unzipping Cypress       [started]
[14:10:31]  Unzipping Cypress       [completed]
[14:10:31]  Finishing Installation  [started]
[14:10:31]  Finishing Installation  [completed]

You can now open Cypress by running: node_modules/.bin/cypress open

https://on.cypress.io/installing-cypress
```
any possibility to avoid this?",question
394423943,Cypress is unable to solve alias,"

### Current behavior:

Cypress stuck in a step to solve alias stored in **beforeEach**. I'd waited for 400 sec by one result.


### Desired behavior:

Cypress should raise timeout or solve alias.

### Steps to reproduce: (app code and test code)

```javascript
function stuck() {
    return cy.get('@example').then((example) => {
        true
    })
}

describe('does not work', function () {

    beforeEach(function () {
        cy.wrap('neverTouch').as('example')
    })

    it('just a stuck example', function () {
        cy.log('Never writen', stuck())
    })

})
```


### Versions

Cypress 3.1.4
Windows 10
Chrome 71
",question
394012677,Chrome profile,I can't find documentation on how to change chrome profile. For rxample set up custom url handlers before runing tests.,question
393935336,onkeydown is inaccessible from cy.window(),"Hi,

I've set `window.onkeydown` in my web page.

I am in a cypress test and want to access and run it (because `cy.type()` does not simulate a key down event in this way).

I call `cy.window.then((w) => w.onkeydown({key: ""c""}) ) `

Upon some brief investigation, it turns out that:

- `w.onkeydown` is `null`
- When I run `console.log(w)` it shows that `w.onkeydown` is not `null`, and in fact is the function I am expecting it to be, according to the `[[FunctionLocation]]` metadata.

So the function I want to invoke is accessible from where I am, but is not being mapped over to the actual returned value of `cy.window()` I suppose.

Hope this helps,

Rob",question
391303678,Cannot define same test for each item in an array assigned asynchronously within before hook,"### Current behavior:
The `before` hook doesn't allow me to asynchronously assign an array from the response of a `cy.request` in time to use it create tests for each element with `it` or `specify` calls.

The underlying problem is more general, but this is my use case just to provide a real example.

### Desired behavior:

To have some way to handle this use case and other similar ones.

### Steps to reproduce: (app code and test code)

my fork:
https://github.com/bitstrider/cypress-test-tiny/tree/same-test-for-each-in-array-async

my spec:
https://github.com/bitstrider/cypress-test-tiny/blob/same-test-for-each-in-array-async/cypress/integration/spec.js

### Versions

<!-- Cypress, operating system, browser -->
Cypress 3.1.3
Windows 10
Chrome 70",question
390554582,Cypressjs Testing comparing the content of a DOM with it's previous value,https://stackoverflow.com/questions/53757102/cypressjs-testing-comparing-the-content-of-a-dom-with-its-previous-value,question
389938503,How to load an array of fixtures in cypress?,"Hi there,
I'm wondering how to upload an array of fixtures for them to be drag and dropped into a file upload. My code currently looks like: 

```js
Cypress.Commands.add('uploadFiles', (selector, fileUrlOrUrls, type = '') => {
  const fileUrls = Array.isArray(fileUrlOrUrls)
    ? fileUrlOrUrls
    : [fileUrlOrUrls]
  Promise.all(
    fileUrls.map(fileUrl => {
      const nameSegments = fileUrl.split('/')
      const name = nameSegments[nameSegments.length - 1]
      return cy
        .fixture(fileUrl, 'base64')
        .then(Cypress.Blob.base64StringToBlob)
        .then(blob => {
          console.log('name:', name)
          return new File([blob], name, { type })
        })
    })
  ).then(files => {
    console.log('files:', files)
    const event = { dataTransfer: { files } }
    return cy.get(selector).trigger('drop', event)
  })
})
```

I want to use it like so:
```js
cy.uploadFiles('.tg-dropzone',[""filePath1"", ""filePath2""])
```

This promise all doesn't seem to work. Multiple files are returned in the promise.all, but they are all the same! Is this because you can't really use cypress like normal promises? If so, how can I do what I want -- upload an array of fixtures? 

Thanks!",question
389582089,how can I input the value to the calendar control?,"### Current behavior:
Now,I want to test a calendar like this :

<input readonly="""" value="""" placeholder=""please select date"" class=""ant-calendar-range-picker ant-input"">

you can refer to [https://ant.design/components/date-picker/](https://ant.design/components/date-picker/)

### Desired behavior:

I'd like to input to a calendar control ,how can I input the value ?
`    cy.get('.ant-calendar-range-picker.ant-input')
      .type('2018/12/12')`

this doesn't work !

",question
389355060,Enable to select an element that has mouse over function,"<!-- Is this a question? Don't open an issue. Ask in our chat https://gitter.im/cypress-io/cypress-->

### Current behavior:
<!-- images, stack traces, etc -->

Cypress can't select the following element to check if another element appears when the mouse is over it.

![image](https://user-images.githubusercontent.com/39900714/49742155-e596d800-fcd2-11e8-99b5-8de170c311d1.png)

### Desired behavior:
<!-- A clear description of what you want to happen -->
I would like to be able to test the fact that when my mouse is over the '+' sign. I can check that the following pop-up appears which contain the following sentence"" 'Can\'t find a movie or TV show? Login to create it""


### Steps to reproduce: (app code and test code)

<!-- Issues without reproducible steps will get closed. You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->
This is my code:
```js
describe('Testing the hover function over the plus sign', () => {
    it('hover over the plus sign', () => {
        cy.visit('https://www.themoviedb.org/')
        cy.get('.right > .primary > :nth-child(1) > .glyph_wrapper > .glyph > .glyphicons').trigger('mouseover').contains('Can\'t find a movie or TV show? Login to create it.')

    })

})
```

### Versions

<!-- Cypress, operating system, browser -->
Cypress version: 3.1.3
OS: Windows 10
Browser: Chrome",question
388194456,compare two aliases which derive value from two different contexts.,"I have a two containers inside a section.
Both hit different end points to derive some a values, post that they compare these values and decide either to render. (thats how the app works).
i have written a cypress test to cover the same, wherein i have two aliases calculating the two values:

```js
.getByAutomationId('wipIssue')
.within(() => {
cy.get('section').within(() => {
      cy.getByAutomationId(‚Äòbalance‚Äô)
         .first()
         .invoke('text')
         .as(‚Äòbalance‚Äô);
});
     cy.getByAutomationId('lotCardGroup')
      .within(() => {
        cy.get('div').within(() => {
          cy.getByAutomationId('lot-CH10312823')
            .click()
            .find(‚Äòsfb‚Äô)
           .invoke(‚Äòtext‚Äô)
            .as(‚ÄòsfbVal‚Äô);
        });
      });
});

//Assert a condition
if(@balance <= @sfbVal){
 // provide an outcome or reason
}
```


help me compare the two values ('balance' against 'sfbVal') to complete my cypress test.
",question
387652838,Is the test order within one file (one describe block) guaranteed?,"So this may not even be a Cypress specific thing but since I'm using Cypress I still think it's bes to ask here.

I'ts a very simply question:

_Is the test order within one file (one describe block) guaranteed?_

Why do I ask that?

We have quite a lot of database dependent tests.
Because of this we often have to seed our database data within tests.

Now let's assume I have the following tests:

```js
describe('My database tests', () => {
  // this is only done once for all tests in this block
  before(() => {
    seedUsersInDatabase();
  });

  it('Get users', () => {
    // expect 10 users
   });

  it('Remove users', () => {
    // expect 5 users removed
   });
});
```
Maybe you already see why the question poppep up.

If it's guaranteed that the tests within a `describe` block are always executed in the same order, I can seed the database with `before`. However if the order is not guaranteed I'd need to change it to `beforeEach`.

I personally assumed the order is guaranteed and therefore wrote only the `before`. The main reason for this is by the way: _Performance_! Seeding a database sometimes takes quite the time (even if it's just 100ms, it sums up if you have a lot of tests).",question
385837048,Comparing two DOM elements - best approach,"The DOM element - Raw Material which is a card.
contains 3 sub elements:

a) Qty Required
b) Qty Issued
c) Balance

Writing a cypress test to compare if `Qty Issued is > Qty Required` and `balance === 0` then element Qty Issued(which is an `li` ) should contain a `span` inside which has class error(so as to make up for colour red of the text).

![comparison](https://user-images.githubusercontent.com/13822096/49238748-00c33700-f3f9-11e8-9358-ed4fdd3c2c5d.png)


The test snippet to check this scenario:

```js
 it('tests the production lines - Wip Issues - valid numeric input', () => {
    cy.get('[data-automation-id=""raw-material-53200150""]')
      .then($RawMaterial => {
        const qtyRequiredVal = cy
          .get('[data-automation-id=""raw-material-53200150""]')
          .get('[data-automation-id=""quantity-required""]')
          .get('[data-automation-id=""value""] > span')
          .text();
        const qtyIssued = $RawMaterial
          .get('[data-automation-id=""quantity-issued""]')
          .get('[data-automation-id=""value""] > span')
          .text();
        const balance = $RawMaterial
          .get('[data-automation-id=""balance""]')
          .get('[data-automation-id=""value""] > span')
          .text();
        if (qtyIssued > qtyRequiredVal && balance === 0) {
          $RawMaterial
            .get('[data-automation-id=""quantity-issued""]')
            .should('have.class', 'RawMaterials__Error___3LBzJ');
        }
      })
.pause()
})...
```

* Please guide as to the correct approach towards the same.
Thanks",question
385654119,"Using contenteditable and click, caret always move to the end of text","<!-- 
Is this a question? Do not open an issue. Please ask in our chat https://gitter.im/cypress-io/cypress

Want something newly documented? Please open an issue in the respective repo: 
- docs: https://github.com/cypress-io/cypress-documentation 
- example recipes: https://github.com/cypress-io/cypress-example-recipes
-->

### Current behavior:
![cypressbug](https://user-images.githubusercontent.com/16207345/49213166-990fea80-f3fe-11e8-8a04-49cd16e9efc4.gif)

<!-- images, stack traces, etc -->

### Desired behavior:
caret move to the correct position
<!-- A clear and concise description of what you want to happen -->

### Steps to reproduce:
**a simple page**
```html
<body>
    <div id=""test"" contenteditable=""true"" style=""height:200px; width: 200px; border: 1px solid black; white-space: pre"">
        1111111111
        2222222222
        3333333333
    </div>
</body>
```
**cypress code:**
```js
    cy.wait(2000);
    cy.get('#test').click(60, 45)
```

it seems like  that function `$selection.moveSelectionToEnd(el)`  is always called when click a contenteditable element
[cypress/packages/driver/src/cy/commands/actions/click.coffee ](url)

<!-- Issues without reproducible steps might get closed. *Tip* You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions
Operating System: windows10
Cypress Version: 3.1.2
Browser Version: Chrome 70.0.3538.110
<!-- Cypress, operating system, browser -->",question
384817140,Cypress not pulling out of Date Picker Dom element to iterate to next input.,"<!-- 
Is this a question? Do not open an issue. Please ask in our chat https://gitter.im/cypress-io/cypress

Want something newly documented? Please open an issue in the respective repo: 
- docs: https://github.com/cypress-io/cypress-documentation 
- example recipes: https://github.com/cypress-io/cypress-example-recipes
-->

### Current behavior:

<!-- images, stack traces, etc -->

### Desired behavior:

<!-- A clear and concise description of what you want to happen -->

### Steps to reproduce:

<!-- Issues without reproducible steps might get closed. *Tip* You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions

<!-- Cypress, operating system, browser -->
",question
384805399,Sorry that asking the question here. But i need you help guys. Cypress conditional testing,"Sorry that asking the question here, but here I do not answer https://gitter.im/cypress-io/cypress. I have a week sitting on this problem and I'm desperate. Please help me save my job :(


I have text that appears in a certain scenario. If the user exists. Then I get a message about it. If such a user does not exist. That message is not displayed and the user is created. How do I handle the 2 scenarios. To cypress did not give an error. I mean. How can I check the presence of an element on the page and if it is, then do A, and if this element is not, then do B

I read about conditional testing in the documentation and i try use ""then"" Command but i cant understand how it work. I am not developer. I am QA and my knowledge about programming is bad.

How can I even check if there is an item on the page. And if there is none. cypress won't give me a mistake. And let's just say that ""no Element on the page.
![selection_024](https://user-images.githubusercontent.com/37582973/49086118-36d3b000-f26d-11e8-9645-e9fa70035f85.png)
![selection_025](https://user-images.githubusercontent.com/37582973/49086125-39cea080-f26d-11e8-8227-63404414f8d2.png)
![selection_026](https://user-images.githubusercontent.com/37582973/49086135-3c30fa80-f26d-11e8-8c07-aa3dd1c092f4.png)
![selection_027](https://user-images.githubusercontent.com/37582973/49086139-3e935480-f26d-11e8-953f-605c40a01db7.png)
![selection_029](https://user-images.githubusercontent.com/37582973/49086148-405d1800-f26d-11e8-84a7-0a39b85c1dff.png)




",question
384248936,Recommended books about Cypress,"Heyho, I'm writing an essay about automated frontend testing and would like to extend my book list with books about cypress. 
Thanks in advance for any book, paper or article you can recommend! :)",question
382105261,Can't find an element that includes specific string in href ,"I tried to find an element that includes specific string in href:

```js
if (acceptButton.href.should('include', `/path/proposals/${jobId}`)) {
  acceptButton.click()
}
```
and it didn't work
",question
382102516,Can't check if element is visible,"This element sometimes will be visible and sometimes won't. I want to cheek if it's visible in test, and if it's visible I want to click on it.
The thing is that I don't know if the element will be appear in the test.
It appears in some cases, and sometimes not, and the problem is that when I'm searching for it and it isn't visible, the test fails.
I tried try/catch and it didn't work.
I also tried `       if (cy.get('.text-center modal-header button[class=""close""]').visible)
                    cy.get('button[class=""close""]').click();`",question
379639936,Calendar select in Cypress IO,"Hi!
Dear Friends, I have problem with cypress io.
I am looking for request about select date from calendar.

```
input data-v-628c5b10="""" type=""date"" id=""startDate"" name=""startDate"" class=""form-control""
```

Date on website looks:
```
From date:
2018-11-11
To date:
2018-11-13
```

```
input data-v-628c5b10="""" type=""date"" id=""endDate"" name=""endDate"" class=""form-control""
```

How I can write code to my test to select for example:
```
start date 2016-01-01
finish date 2019-01-01
```

Thank You for Your help.
",question
377518774,Github App installation: Clicking on an option menu,"üëã Hi!! I want to do a test for a GitHub App installation, selecting only one simple repository, in my case `repo1`

Not sure why I cannot `click()` or `trigger('mouseover')` on it.... ü§∑‚Äç‚ôÇÔ∏è 

![image](https://user-images.githubusercontent.com/5942864/48017153-d8178c80-e12d-11e8-9ee3-cea990626ee0.png)

it should be something simple as this, right? 
```js
    cy.get('.select-menu-modal')
      .find('.select-menu-item')
      .contains('repo1')
      .click()
```

The step passed but no click/mouseover is performed.
",question
375019314,cy.readFile / cy.writeFile,"Hello,

Right now the `cy.fixture` function get data from `/cypress/fixtures` by default but it's possible to change it in the `cypress.json`

But the `cy.readFile` and `cy.writeFile` get data from `/` and I dont find a way to set the get data path by default.

Any help please.

Regards.
",question
374367449,writing into an existing json file,"Hi,

It's possible the feature already exists but I don't know how to use it.

Let's say I have a json file like this >
```
[
	{
		""number1"": ""1"",
		""number2"": ""2"",
		""number3"": ""3"",
		""number4"": ""4"",
		""number5"": ""5"",
		""number6"": ""6""
	}
]
```
And I want to replace the value of ""number5"" to ""test5"" (5 to test5).
Is there a way to do this ?
When I use the cy.writeFile function, it always erase the all content of the file before writing it.

Best regards.

",question
372842530,Possibility to use CTRL+click on canvas map,"Hi all.. Need your really your help, because I'm stuck with this some months now.. I already put this on the chat already, but nobody could help..

With testing some new features, I need to draw/trigger (with angular) an extent on the map with ctrl-key. 

- action is CTRL-key+ Click (left mouse-button)

It's already working for me for just clicking with code below:
```js
cy.get('canvas')
   .trigger('pointerdown', 250, 250)
   .trigger('pointerdown', 250, 250)
```

Can somebody help me with this one?

Thanx...

",question
365998401,Interleave logging statements from e.g. Redux/redux-observable,"It would be great if I could inject log messages into the ""list"" of commands that cypress does, in order to get an immediate idea of what redux (or otherwise) actions have been run at the time of a wait for command to complete, or inbetween running promises inside cypress. Put another way: support logs outside of commands. Useful for correlation of events in you UI.

### Current behavior:

<img width=""1516"" alt=""image"" src=""https://user-images.githubusercontent.com/193115/46365069-e4fd1800-c677-11e8-9fe6-3f4458d47c97.png"">

<img width=""592"" alt=""image"" src=""https://user-images.githubusercontent.com/193115/46365087-edede980-c677-11e8-92e1-947bdca31565.png"">


### Desired behavior:

I'd like to interleave logging statements; having them show up as parallel to a Promise executing, for example.

This would allow me to understand the sequence of events in the app (besides the DOM changes) that led to the state I'm debugging. E.g. ""Did an action fire before or after the Promise resolved?""

### Versions

Latest AFAIK",question
362278952,API latency issue causes tests fail,"Not sure if cypress has the feature or not.

I am writing an integration test right now. And the tests use `post` API call in `before()` function. The API call is used to create a person. In test, I will use the person created in `before()` function. However, I can't search out this person sometimes because of API latency. In other words, the person's name is not in searching result page. Before using cypress, I was using a while loop and checked whether the searching page had the name. If not, it reloaded the page in the while loop until it found the name. But I don't think I can do it in cypress. I tried to use `cy.get('table').should($t => {do something(like reload) })`, but it didn't work since `$t` won't change after reload so I am stuck for this problem. 

The current solution for me is to `cy.wait(30000)` before searching the name. However, it still fails sometimes.  Is there anything suggestion to this issue? Thank you.",question
361931278,Alias for future elements,"I'm a front-end developer and just getting started with Cypress. Perhaps my technique is not correct, but I'm finding that use of aliases makes my tests much easier to read.

I'd love to put all my aliases at the top of the test, then use them as needed. But if I create an alias for an element that doesn't exist yet, an error will be generated when the alias is created.

I'm experimenting with different ways around this, including splitting tests and using long timeouts. I understand why this happens, but it would be nice if there was a flag for `cy.get` or an alternative method that could be used to store a complex selector for future use.

### Current behaviour:

```
cy.get('.some-element-that-doesn't-exist-yet > .with ~ .a-really [name=""complex""] + .selector').as('element');
...
// element is created as a result of interactions
...
cy.get(@element).should('have.class', 'supported'); // cy error
```

### Desired behavior:

```
cy.get('.some-element-that-doesn't-exist-yet > .with ~ .a-really [name=""complex""] + .selector').as('element');
...
// element is created as a result of interactions
...
cy.get(@element).should('have.class', 'supported'); // no cy error
```

### Versions

Cypress 3.1.0
Chrome Version 68.0.3440.106 (Official Build) (64-bit)
MacOS Sierra 10.12.6
",question
358653412,set cypress mirror url in .npmrc what's the prefix name?,"### Current behavior:

```
registry=https://registry.npm.taobao.org
disturl=https://npm.taobao.org/dist
chromedriver-cdnurl=https://npm.taobao.org/mirrors/chromedriver
```

### Desired behavior:

```
cypress-binary-host-mirror=https://npm.taobao.org/mirrors/cypress{version}
```
is right?",question
358523420,how to use regex on contains(),"Hello,

I'm sorry, this is not a bug or feature but I just want a confirmation.

If I want to get any special character and maj character on the function `.contains('aaa')` should I write the function this way : 
`.contains(/aaa/gi)` without the ''

Best regards.",question
358322035,Mixing npm install cypress w/  npx create-react-app DELETED a NECESSARY npm package (specifically react-scripts),"1. I ran a standard `npx create-react-app myapp` command.
2. Then I successfully added a [wallaby.conf.js](https://wallabyjs.com/) file. (fwiw: I used the clean create-react-app config file shown at https://wallabyjs.com/docs/integration/react-jsx.html#create-react-app .)  Everything was going as expected at this point.
3. Then I ran:
```
npm install cypress --save-dev 
```

### Current behavior:

I got the following output, but **_most importantly it deleted my `react-scripts` directory!_** (If you don't know, this is kind of a *_critical_* package for a create-react-app.)

```bash
npm WARN rm not removing /Users/me/lerna-app/packages/app/node_modules/.bin/jest as it wasn't installed by /Users/me/lerna-app/packages/app/node_modules/jest
npm WARN rm not removing /Users/me/lerna-app/packages/app/node_modules/fsevents/node_modules/.bin/node-pre-gyp as it wasn't installed by /Users/me/lerna-app/packages/app/node_modules/fsevents/node_modules/node-pre-gyp
npm WARN rm not removing /Users/me/lerna-app/packages/app/node_modules/.bin/esvalidate as it wasn't installed by /Users/me/lerna-app/packages/app/node_modules/esprima
npm WARN rm not removing /Users/me/lerna-app/packages/app/node_modules/.bin/esparse as it wasn't installed by /Users/me/lerna-app/packages/app/node_modules/esprima
npm WARN rm not removing /Users/me/lerna-app/packages/app/node_modules/.bin/browserslist as it wasn't installed by /Users/me/lerna-app/packages/app/node_modules/browserslist

> cypress@3.1.0 postinstall /Users/me/lerna-app/packages/app/node_modules/cypress
> node index.js --exec install


Cypress 3.1.0 is already installed in /Users/me/Library/Caches/Cypress/3.1.0

npm notice created a lockfile as package-lock.json. You should commit this file.
+ cypress@3.1.0
added 59 packages, removed 1115 packages, updated 137 packages and moved 1 package in 94.708s
```

Why would Cypress remove 1115 packages, on a project not even 15 minutes old ‚Äî that many packages certainly weren't outdated yet, and they weren't packages that it had previously installed.

### Desired behavior:

Not to delete `react-scripts` from `node_modules`.

### Steps to reproduce:

Presumably just:
`npx create-react-app myapp` - obviously you must have create-react-app installed
`npm install cypress --save-dev`

### Versions

<!-- Cypress, operating system, browser -->
Cypress 3.1.0
MacOS 10.12.3

---

# Follow-up Info

To get back to my pre-cypress state, I ended up having to do:
1. `git reset --hard HEAD`
2. delete my `node_modules` directory
3. `npm install` again

I guess I'm a gluten, because I then decided to try install Cypress again.  

This second time went as originally expected, with the following output (notice that it is distinctly different than the previous time I ran it):

```
> cypress@3.1.0 postinstall /Users/me/lerna-app/packages/app/node_modules/cypress
> node index.js --exec install


Cypress 3.1.0 is already installed in /Users/me/Library/Caches/Cypress/3.1.0

npm WARN ajv-keywords@3.2.0 requires a peer of ajv@^6.0.0 but none is installed. You must install peer dependencies yourself.

+ cypress@3.1.0
added 69 packages in 48.012s

```

I have no idea what the difference was between the two installs. ü§∑‚Äç‚ôÇÔ∏è

I'm going to leave this issue here in case anyone else runs into a similar situation and (a) needs to get out of it and (b) has any additional info to add so that it might be avoided altogether.",question
357251415,[Question] What's the best/recommended way to handle login before each test with setting (Redux) state,"Hi all!

At my company we're making a SaaS app in React + Redux, which is only available for logged in users (like most SaaS apps).

Of course I've already read [the recommendations about logging in](https://docs.cypress.io/guides/getting-started/testing-your-app.html#Logging-In).
The only problem we face, is that we're setting (Redux) state after the request happened, so the proposed `cy.request()` won't help.

Is there any recommendation for stuff like this?

We tried executing our custom `cy.login()` command inside the `test:before:run` event hook (which does a manual login, but will only run once due to the hook), but we couldn't get this to work unfortunately. üòï

Hopefully somebody can help us with  this. üôÇ

Thanks in advance for putting your time into our question! üôÇ

Kind regards,


Micha√´l",question
356423937,Calling puppeteer from cypress,"I'm trying to call puppeteer from cypress to do some login stuff

### Current behavior:
There is an exception before any test starts
![image](https://user-images.githubusercontent.com/1917329/44978567-53609480-af6b-11e8-8632-81c17e9aca6a.png)


### Desired behavior:

be able to use puppeteer in setup code

### Steps to reproduce:
include puppeteer in your test project and create a test spec and include
```
const p = require('puppeteer')
```
### Versions

Cypress 3.1, win10
",question
355491058,select option value,"Hello, I want to select a specific value but I have the following result =

```html
<div id=""departureCityContainer""><select class=""form-control"" data-refresh=""DepartureCity"" id=""ddl-DepartureCity"" name=""Value"" onchange=""refreshDdlSearch(this)""><option value="""">Ville de d√©part</option>
<option value=""BES"">Brest</option>
<option value=""BOD"">Bordeaux</option>
<option value=""CFE"">Clermont Ferrand</option>
<option value=""DOL"">Deauville</option>
<option value=""ETZ"">Metz / Nancy</option>
<option value=""GVA"">Gen√®ve</option>
<option value=""LIL"">Lille</option>
<option value=""LUX"">Luxembourg</option>
<option value=""LYS"">Lyon</option>
<option value=""MRS"">Marseille</option>
<option value=""NCE"">Nice</option>
<option value=""NTE"">Nantes</option>
<option selected=""selected"" value=""PAR"">Paris</option>
<option value=""RNS"">Rennes</option>
<option value=""SXB"">Strasbourg</option>
<option value=""TLS"">Toulouse</option>
</select></div>
```

I want to select Marseille so I did =
`cy.get('select[id=""ddl-DepartureCity""]').select('Brest', { force: true })`

In the console I have that =
![image](https://user-images.githubusercontent.com/42767419/44841638-21d28b00-ac44-11e8-9972-d1153fa8c402.png)

And I can't select the city.
",question
355346658,"Assertion inside onRequest fails, but test doesn't fail","### Current behavior:
I have some tests that look like this. The point is that after submitting a form app redirect to other page with other requests that I wouldn't like to stub. That's why I don't use .then() construction and would like to finish tests before I get a response (even stubbed). Currently this test shows failed assertion but it's difficult to notice because test looks to be passed successfully.

<img width=""570"" alt=""screen shot 2018-08-30 at 00 41 34"" src=""https://user-images.githubusercontent.com/14343880/44817230-7dbdf500-abed-11e8-912b-863ff86ac35e.png"">

### Desired behavior:

Test should not succeed

### Steps to reproduce:
```js
describe('Login', function() {
    it('should fail', function() {
        cy.server();
        cy.visit('/login');

        cy.route({
            method: 'POST',
            url: `/authenticate`,
            onRequest: xhr => {
                // In this place I have assertions with xhr.request
                // Let's do something that fails
                expect(2 + 2).to.equal(5);
            },
            response: {},
        });

        cy.get('form').submit();
    });
});
```

### Versions
""cypress"": ""3.1.0""
OS X
Chrome
",question
355092224,How to select a dynamic option?,"### Current behavior:

`select(value)` works fine but what if I cannot get the `value` ?  I've tried using `$` to get current option value and then use it as a parameter but it doesn't work.

### Desired behavior:

At least I can select the first option without knowing value or any other workaround ? Thanks.

### Versions

Cypress: ^3.1.0
",question
354116948,cy.click() has inconsistent behavior with Angular CDK overlay,"### Current behavior:

I'm hitting a weird issue where `.click()` fails because it ""is being covered by another element"". I can fix the issue using `.wait()` but I'm not sure why this is the case.

This issue with `.click()` is producing inconsistent results when I re-run the same test suite.

![screen shot 2018-08-25 at 6 14 22 pm](https://user-images.githubusercontent.com/3698634/44631604-82a84d80-a93c-11e8-9488-9f587c24d1ad.png)

### Desired behavior:

The `.click()` should consistently click the button and hide the overlay as it occasionally does when running the test.

### Steps to reproduce:

You can reproduce this error by cloning [this application](https://github.com/atom-morgan/cypress-click-wait-issue) I've setup.

1. `npm install` to install project dependencies
2. `ng serve` to run the application
3. Run Cypress tests

### Versions

Cypress: 3.1.0
Mac: 10.11.6
Chrome: 68.0.3440.106
",question
353679252,teamcity ci support,"### Is this a Feature or Bug?
Feature

Is there any plan to support teamcity ci?
",question
353466330,Cypress stops tracking XHR requests,"### Current behavior:
Calling `cy.server()` and `cy.route()` inside an `it()`, without calling `cy.visit()`.
This makes Cypress not track and XHR events and makes `cy.route()` useless.

### Desired behavior:
If I already am on the correct page from a previous test, then a new test should track XHR requests if I call `cy.server()` and `cy.route()`.

### Steps to reproduce:
```ts
it(""test1, () => {
	cy.server();
    cy.route(""POST"", ""**"").as(""postR"");
    cy.visit(""index/admin/status-settings""); //A new page in my Angular app
	cy.wait(""@postR"") // this tracks XHR reqests as expected
})

it(""test2, () => {
	cy.server();
    cy.route(""POST"", ""**"").as(""postR"");
	// this does NOT tracks XHR reqests before I call cy.visit() again to refresh the page.
	// So if I call cy.wait(""@postR"") it will never complete,
 	// even if the call happens in chrome's ""network"" page and the app updates as expected
})
```

### Versions
Chrome
Windows 10 (latest)
Cypress: 3.1.0
Angular: 6.1.x

",question
353233228,Property runner does not exist on type Cypress,"     ` Cypress.runner.stop()`

This causes an error in typescript.",question
352434225,How do I test fabric.js with cypress?,"I'm using fabric.js in my website.
I want to test it using cypress.
Can you tell me how to do it?
@jennifer-shehane @brian-mann ",question
352390456,About Continous failure of test due to network issue,"<!-- 
Is this a question? Do not open an issue. Please ask in our chat https://gitter.im/cypress-io/cypress

Want something newly documented? Please open an issue in the respective repo: 
- docs: https://github.com/cypress-io/cypress-documentation 
- example recipes: https://github.com/cypress-io/cypress-example-recipes
-->

### Current behavior:
Every time I run my test, there occurs the error in the test cases that passed previously. This error is due to network fluctuation. I tried cy.wait() but the request time keep varying and which results is continuous failure of the spec in multiple places those passed previously.

<!-- images, stack traces, etc -->

### Desired behavior:
Is there any solution to overcome this issue other than cy.wait() ??
<!-- A clear and concise description of what you want to happen -->

### Steps to reproduce:

<!-- Issues without reproducible steps might get closed. *Tip* You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions

<!-- Cypress, operating system, browser -->
",question
348940282,"noExit flag in module mode is ignored, and cypress exits","### Current behavior:

per https://docs.cypress.io/guides/guides/module-api.html#Options, i can set `noExit`
```js
  await cypress.run({
    noExit: true, //! !process.env.CYPRESS_NO_EXIT,
    headed: !!process.env.CYPRESS_HEADED,
    record: !!process.env.CYPRESS_RECORD,
    config: {
      baseUrl
    },
    specs: t.context.uiTestFilenames
  })
```

cypress launched, but closes on complete.

### Desired behavior:

cypress stays open

### Steps to reproduce:

see above.

### Versions

 cypress 3.0.3
osx, electron",question
348228788,Discussion: e2e testing,"We have an ios and android app and we are currently building a progressive web app for it. 

For testing the app we use Detox (https://github.com/wix/detox) for our e2e tests and I‚Äôm currently evaluating frameworks for e2e tests for our web app. Cypress looks cool, but I have some issues with the concept. 

In this video https://m.youtube.com/watch?v=5XQOK0v_YRE @brian-mann says that tests should run independently. One should thoroughly test the login and then for everything else mock a logged in user. The first definition of e2e test that comes online when searching in google is from techopedia:
https://www.techopedia.com/definition/7035/end-to-end-test

> Definition - What does End-to-End Test mean?
> 
> End-to-end testing is a methodology used to test whether the flow of an application is performing as designed from start to finish. The purpose of carrying out end-to-end tests is to identify system dependencies and to ensure that the right information is passed between various system components and systems.
> Techopedia explains End-to-End Test
> 
> End-to-end testing involves ensuring that the integrated components of an application function as expected. The entire application is tested in a real-world scenario such as communicating with the database, network, hardware and other applications. 
> 
> For example, a simplified end-to-end testing of an email application might involve:
> Logging in to the application
> Accessing the inbox
> Opening and closing the mailbox
> Composing, forwarding or replying to email
> Checking the sent items
> Logging out of the application

The first sentence reads ‚Äúto test whether the flow of an application is performing as designed from start to finish‚Äù. With e2e tests we are talking about a flow, which is different from unit tests where we testing different units in isolation. 

With detox I‚Äôm able to simulate the flow of interaction with our app. The user logs in, then he is able to perform different actions one after another. 

After loging in the user creates an article, then he comments on the article etc. The user is not able to comment without first creating an article. There is no point of executing a comment test before creating an article. There is also no point of always logging in the user before each test. Nobody in real life logs in before every action. I understand the reasoning of starting with clear state for each test, but this goes against the way users acutally interact with our applications. There are situations in which the user enters an url directly, but in 99.99% of the time we navigate from page to page by clicking on buttons on the site. The user follows a pattern that the developer has created for him. 

Is it possible for cypress to execute tests one after the other without refreshing the state and without actully starting a new browser instance. I would like to create a suite of tests that need to execute in particular order one after the other.

",question
347613103,Can't access CKeditor inside Iframe,"I won't be able to access the Ckeditor inside Iframe.

I have tried many things but none of them worked. 

This is my from which I'm trying to access it: - 

```js
cy.get("".cke_wysiwyg_frame"").then(function($iframe) {
      const $body = $iframe.contents().find(""body"");
      console.log($body);
      cy.wrap($body[0]).type(""<p>HTML body</p>"");
```
![screenshot from 2018-08-04 17-16-56](https://user-images.githubusercontent.com/25584421/43676210-5475645e-980a-11e8-85c2-b747e03a2947.png)

This is above error message that I'm getting. 

Please look into it
@jennifer-shehane ",question
346263029,trigger a function after video processing,"I'm running Cypress in a Docker container, and I'm trying to fetch as much infos as possible about the executed test before closing the container.
So I created a plugin that will upload the screenshots & videos to S3 after the execution of the test, this plugin is triggered by the `after` hook.
but I noticed that the uploaded video is the un-processed/un-compressed video.
is there any way to trigger the video upload after the processing is finished ? 
PS: I tried to put a listener on the `exit` event so it can upload the video before closing the application, but it didn't work for me.
this is a preview of the code I wrote:
- the hook:
```js
after(function () {
    cy.task('endMySession', null, {""log"": false, ""timeout"": 180000});
});
```
- the plugin:
```js
module.exports = (on, config) => {
    // `on` is used to hook into various events Cypress emits
    // `config` is the resolved Cypress config

    on('task', {
        'endMySession': (args) => {
            let promises = [];

            promises.push(new Promise(function (resolve, reject) {
                fs.readdir(""./cypress/videos"", (err, files) => {
                    if (err) {
                        return reject(err);
                    }
                    files.forEach((file,i) => {
                        promises.push(new Promise(function (resolve, reject) {
                            console.log(""uploading "" + file);
                            uploadFileToS3('my-video-bucket', ""./cypress/videos/"" + file, function (err, data) {
                                if (err) {
                                    console.log('error uploading ' + file);
                                    return reject(err);
                                }
                                console.log('uploaded ' + file);
                                resolve();
                            });
                        }));
                    resolve();
                    });
                })
            }));
            return Promise.all(promises);
        },
    });
};
```",question
345849232,Acer editor: cannot change field value,"<!-- 
Is this a question? Do not open an issue. Please ask in our chat https://gitter.im/cypress-io/cypress

Want something newly documented? Please open an issue in the respective repo: 
- docs: https://github.com/cypress-io/cypress-documentation 
- example recipes: https://github.com/cypress-io/cypress-example-recipes
-->

### Current behavior:
I have a project using [Ace Editor](https://github.com/thlorenz/brace), and I need to create a test that will change the text inside the editor.

To change the editor text, I need to find the element on DOM by id, and use a function from `ace`'s library. When I've runned the tests, the id isn't found.

![cypress](https://user-images.githubusercontent.com/4103305/43411705-61342f2a-9401-11e8-87dd-6bc5a4f28d25.png)


![code](https://user-images.githubusercontent.com/4103305/43411664-3d2be456-9401-11e8-901a-9cfd838bcabf.png)

<!-- images, stack traces, etc -->

### Desired behavior:
Find `#custom-panel` element and change its value.

<!-- A clear and concise description of what you want to happen -->

### Steps to reproduce:
Access the open source repo [Artis](https://github.com/pagarme/artis/commits/add/cypress-custom-tests), and go to `cypress-custom-tests` branch.


<!-- Issues without reproducible steps might get closed. *Tip* You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions
2.1.0
<!-- Cypress, operating system, browser -->
",question
345474613,"Getting Error: CypressError: Timed out retrying: Expected to find element: 'input[Name=namebad2ed7c]', but never found it.","Code:

```js
describe ('Rediffmail Test',function()
          {
              it('Open Rediffmail',function() 
              {
              cy.visit('https://mail.rediff.com/cgi-bin/login.cgi')
              })

             it('Create New Account', function() 
              {
              cy.contains('Create a new account').click().wait(3000)
              cy.contains('Create a Rediffmail account')
              cy.get('input[Name=namebad2ed7c]').type('Admin')
              cy.get('input[Name=loginbad2ed7c]').type('Admin')
              cy.get('input[Name=DOB_Daybad2ed7c]').select('13')
              cy.get('input[Name=DOB_Monthbad2ed7c]').select('SEP')
              cy.get('input[Name=DOB_Yearbad2ed7c]').select('1988')
              cy.get('input[Value=F]').click()
              cy.get('input[Name=Registerbad2ed7c]').click()
             })
            
            })
```",question
345276046,Aliases not working when visiting different websites,"### Current behavior:

Used `.as('alias')` to set an alias
Visited another website with `cy.visit()` 
Tried calling the alias with `this.alias`
Resulted in `undefined`


<!-- images, stack traces, etc -->

### Desired behavior:

`this.alias` should have returned the actual value rather than `undefined`

### Steps to reproduce:

This small test will reproduce the issue. If you comment out the `Visits website B`, `this.alias` will work as intended.

```js
describe('Aliases', function() {
  let test = ""changeme""

  it('Visits website A', function() {
    cy.visit(""www.google.it"")
    test = ""changed""
    cy.wrap(test).as('text')
  })

  it('Visits website B', function() {
    cy.visit(""www.amazon.co.uk"")
  })

  it('Prints the value', function() {
    console.log(this.text)
  })

})

```
",question
345179632,select outer element with cy.contains(),"### Current behavior:
As you mentioned below we can reach an element with html tags:

https://docs.cypress.io/api/commands/contains.html#Selector

But if a tag name is exists more than one nested it select the innermost one. 

<!-- images, stack traces, etc -->

<img width=""360"" alt=""screen shot 2018-07-27 at 12 57 32"" src=""https://user-images.githubusercontent.com/38225108/43316698-c6c8c0fa-91a2-11e8-96b3-e591fcbf866d.png"">


Test code is below:
```js
cy.contains('tr', 'Semanta Murphy')
```

### Desired behavior:
But i need outer DOM object. How can I select it?

### Versions
<!-- Cypress, operating system, browser -->
Cypress 3.0.2
macOS 10
Electron 59
",question
344728743,Using cypress for application demonstration,"### Desired behavior:

I want to be able to use cypress for demonstration of app. For example, when I am going to a customer, I want run cypress, to go thorough all stories that I do have in the application.

At the moment it's possible, by reducing the speed of input.type(), or adding some delays, to make a video like. But I want to be able to make it as a slideshow, go to next story, or move back, maybe with a external controller even.

Please give me feedback how is this possible. ",question
342791261,plugin: use command:start command:end,"Hey

I'm trying to create my own plugin for reporting purposes, 
so I want to monitor each command execution time+arguments, but I couldn't find a way to do it.
is it possible to use a plugin like: 
```js
module.exports = (on, config) => {
    on('command:start', (command, arguments) => {
        console.log(command+"":started at ""+new Date().getTime())
    });
    on('command:end', (command, result) => {
                console.log(command+"":ended at ""+new Date().getTime())
    });
}
```

so basically I'm trying to create something like the command log for my personal reporting requirements.
![image](https://user-images.githubusercontent.com/22003449/42954572-fb08fd8c-8b74-11e8-9348-d28e91f263ca.png)
",question
342717031,this.test.file is null when test is executing in UI Runner,"While running Cypress SPEC files, I would like to perform some actions in order to help with custom reporting (like: Updating the mochaFile name based on the current test file being run) - the reference to the `this.test.file` is always `null` when the file is executing and inaccessible when running the `before/beforeEach` hooks.

The `before/beforeEach` hook would be the ideal location to access and set the behavior of the mochaFile configuration.

### Current behavior:
`console.log(this.test.file)` -> output is `null`.
`console.log(this.test)` -> `file: null`

### Desired behavior:
`console.log(this.test.file)` -> output something like: `Cypress.config('integrationsFolder') + ""example_spec.js""` OR the fully qualified path of the test file being executed.  Ideally this value would be available when the centralized `before/beforeEach/after/afterEach` hooks are executed (i.e. these hooks are normally placed within `$CYPRESS_HOME/support/index.js`.

before hook desired implementation:
```js
var testFile = path.basename(this.test.file, '.js');
var reporterOpts = Cypress.config('reporterOptions');
var mochaFile = reporterOptions.mochaFile;
var resultsDir = path.dirname(mochaFile);
reporterOpts.mochaFile = resultsDir + '/' + testFile + '_test_results.xml';
```

### Steps to reproduce:

```js
describe('Get Test File name', function() {
    it('Display file name', function() {
        console.log('Test file name: ' + this.test.file);
        console.log('Test Object:')
        console.log(this.test)
    })
})
```

### Versions

Windows 10,
Chrome 67, 
Cypress 3.0.1
Node.js: 8.11.1
npm: 5.6.0",question
341256720,cy.task does not wait for finish async functions to return,"### Current behavior:
Return command don't wait async function finish
### Desired behavior:
All task modules force to use a return value but do not wait finish of function
what is the best way to keep waiting a ""task"" to return until a function inside in it?

```js

on('task', {
'somethingWithAsyncFunction': (response) => {
var value;
function doAsyncSomething()
{
//do something
}
return value;
}
});
```

### Versions
mac, electron 57
",question
341139624,cy.url() and/or cy.location('href') does not return a string as documentation claims,"### Current behavior:
According to the documentation, Cy.url() should produce a string. I wanted to capture the current URL into a variable and then reference it after I run a custom Cypress command.

My question is, if cy.url() and cy.location('href') no longer return strings in `3.0.1` - how do we get that value?

### Desired behavior:
Expecting a string of the current URL; instead an object is received that looks like:
```
// JSON.stringify(cy.url())
{ ""chainerId"": ""chainer2504"", ""firstCall"": false }

// JSON.stringify(cy.location('href'))
{ ""chainerId"": ""chainer2558"", ""firstCall"": false }

```

### Steps to reproduce:
Attempting to log either `cy.url()` or `cy.location('href')` does not result in a string as indicated by the documentation.

### Versions
Cypress 3.0.1
",question
340996559,Is it possible to make beforeEach keep running if it fails because of `cy.url()`?,"### Current behavior:

When `beforeEach` fails in one test it stops the execution of all the tests after that.

### Desired behavior:

Is it possible to add an option to make the run keep going even if `beforeEach` fails once?
In my case I'm using `beforeEach` to log in into my application, but sometimes from clicking the ""Log in"" button until the page has loaded a lot of time passes and the `beforeEach` fails.

However, it's not like the application is failing, it's just taking a long time to load the page.

This is my code:
```js
beforeEach(function () {
        cy.visit('')

        cy.url()
            .should('contain','login')

        cy.get('#btnLoginOauth')
            .click()

        cy.get(""#Username"")
            .type(""rcarter"",{force:true})

        cy.get(""#Password"")
            .type(""pass"",{force:true})

        cy.get(""#btnLogin"")
            .click({timeout:10000})

        cy.url()
            .should('include', '/app/list')
    }))
```

My problem is that `cy.get(""#btnLogin"").click({timeout:10000})` takes a long time to load the page, and then `cy.url().should('include','/app/list')` fails because even if sometimes the page has loaded, it is still reading the old url and not the new one. I will give an example:
![error2](https://user-images.githubusercontent.com/41155189/42690992-a6a840ae-86a6-11e8-86c8-3b053c1db85e.png)

This sometimes fails even if the page has loaded because the `cy.url()` is reading the old url and not the new page one.

Because of this I have two questions:
1) As I asked before, is it possible to add an option to beforeEach so it keeps running the tests even if it has failed once?
2) Is there a way to make `cy.url()` read the new page and not the old one?",question
340602247,can start test when third part lib callback?,"### Current behavior:
2.1.0 Mac

<!-- images, stack traces, etc -->

### Desired behavior:
- can start a test case when some event callback?
<!-- A clear and concise description of what you want to happen -->

```
    someThirdPartLib.on('WebSocketClosed', function (event) {
      // i want check some data when WebSocket Closed
      // can start test case in here, how to write? thanks
     ....
    })
```

### Versions

<!-- Cypress, operating system, browser -->
",question
337922191,Option to save screenshots in cypress/screenshots (As prior to 3.0.2),"After the last update (3.0.2), screenshots are nested within a folder with the name of the spec file that is currently running.
An option to revert/choose default behaviour (to pre-3.0.2, i.e. having all the screenshots saved in a single folder) would be great.

I'm running my tests inside a container, and copying its `/cypress/screenshots`  folder to the local machine. This way I can easily check the contents of that folder, which contains all the files I need, and then share them.

The new behaviour makes it trickier to access all the files in their relative paths, hence why I'm opening the issue.",question
337557471,Could not login to a web application(with open auth 2.0),"### Current behavior:
To login with google open auth i tried this:

```js
 cy.request({
        method: 'POST',
        url: login_url,
        json: true,
        body : {
          password: _password,
          username:_username,
        }
      }).then((resp) => {
        cy.visit(profile_url);
      })
```
After request, response returns with status code 200 and response body like this:

<img width=""586"" alt=""screen shot 2018-07-02 at 17 59 01"" src=""https://user-images.githubusercontent.com/38225108/42171430-ee74a658-7e21-11e8-8a98-d526c309bb2b.png"">
 
But  the code cy.visit(profile_url) returns back to login page like not authenticated. 
Should i save access code to anywhere? Or what i miss?

### Desired behavior:

 the code cy.visit(profile_url) opens to profile page properly

### Versions

Mac, electron 59
",question
334932971,Session gets cleared,"### Current behavior:

In my web app, i'm testing the login and navigating to the profile page using a dropdown menu. The login works and I am able to click the dropdown menu. As soon the menu is clicked, It logs out from my session and redirects to the log in page. How can I prevent this?

### Desired behavior:

It should keep the session and navigate to the profile page.

Using Cypress 3.0.1
",question
333407198,How should I use AWS Amplify instead of cy.request on the beforeEach in order to authenticate users?,"Hi!

How should I use aws amplify on the beforeEach in order to authenticate users? I am asking this because I am going to need the token to make other AWS requests later.

```js
import Amplify, { Auth } from 'aws-amplify';
import aws_exports from './aws-exports.js';
Amplify.configure(aws_exports);

describe('TEST', function () {
  context('Querying', function () {
    beforeEach(function () {
      //
    })


    it('It should...', function () {
      Auth.signIn('test@test.com', 'EasyToGuess$333')
        .then(user => {
          console.log('===> user', user);

          let session = Auth.currentSession();

          console.log('===> session', session);
        })
        .catch(err => console.log('===> err', err));
    })
  })
})
```",question
333177316,Repetitive actions execution question,"I have some repetitive actions in my tests, so I moved them to a separate functions out of actual tests and calling them from tests assuming that they'd be executed just as bunch of commands:

```ts
describe( ""Page one"", () => {
    function one() {
      cy.get(""..."")
      ...
    }

    function two() {
      cy.get(""..."")
      ...
    }

    it( ""Test 1"", async () => {
      cy.get(""..."")

      one();
      two();
    }

    it( ""Test 2"", async () => {
      cy.get(""..."")

      one();
      two();
    }

    ...
```

Although in this particular case I see that functions `one` and `two` will be called only in `Test 2`, whereas `Test 1` will run only `cy.get(""...`, then `Test 2` will start straight away.

Might be that I'm just approaching the problem from an incorrect way.
In any case, suggestions are much appreciated)",question
333088394,Testing the tests.,"This is neither an issue nor a feature request, as I am quite satisfied with the atomic patterns with which I can control the way that Cypress runs and how I can step through the tests when they fail, but I am working on the generational production of a large battery of tests based on generic types hydrated from a resource that also scaffolds the vuex store, localstorage and vue (using Quasar). 

My components and logic are all unit tested, I am using the electron version of vue-devtools to watch state and events, I personally test critical external modules and cypress guarantees that vuex and vue collaborate properly during runtime - but... 

My tests are generational and only exist in memory during the run - so how can I test my tests to make sure that they (or more rather the code itself) has 100% coverage? 

Does anyone have any experience in this admittedly silly exercise or recommendations about similar work? I have thought about wrapping the cypress tests in [tap](https://github.com/tapjs/node-tap), but I am pretty sure that cypress won't really like that double-bootstrapping. I also thought about using cy.exec() in each step, but cy.task() almost seems more appropriate. Anyway, I would totally appreciate any ideas or pointers here...",question
333056005,General App Setup,"### Current behavior:
We have an initial localization (using [i18-react](https://github.com/alexdrel/i18n-react)) setup once our app loads:

```js
import { defaultLanguage, setLanguage } from ""../../src/i18n"";

setLanguage(defaultLanguage);
```

i18n.js file:

```js
import T from 'i18n-react';


let currentLang = '';
export const defaultLanguage = 'en';


const languages = {
  'en': require('../locale/en.json')
};


/**
 * @param {string} lang Language
 */
export function setLanguage(lang) {
  if (!(lang in languages)) {
    lang = defaultLanguage;
  }
  currentLang = lang;
  T.setTexts(Object.assign({}, languages[defaultLanguage], languages[lang]));
}
```

We run this once when our app loads, and we thought of placing this under `support/index.js`. Not sure if that's the proper spot. In any case, our string comparison fails when we try to use the `T.translate` function. It turns out our `T` object in our spec files is now a different `T` object than the one we used to setLanguage on, which makes it impossible for us to test for strings. 
Our current workaround is to place the `setLanguage` function at the top of each spec file, but we obviously want to stop doing that.

What are we doing wrong? Is there a better place to have this function run?

### Desired behavior:
`T` object is the same singleton shared across the entire test cycle, just like in the real application.

### Steps to reproduce:
I guess you can just install the `i18n-react` package and use the code above. Then you can see that `T.translate(STRING_KEY)` never finds its translation since the `this.texts` property in `T` is always null since the `T` object is a different one.

<!-- Issues without reproducible steps might get closed. *Tip* You can fork https://github.com/cypress-io/cypress-test-tiny repo, set up a failing test, then tell us the repo/branch to try. -->

### Versions
Cypress 3.0.1.
Mac OS High Sierra 10.13.4
<!-- Cypress, operating system, browser -->
",question
333048499,cannot start task onAfterScreenshot,"I am trying to call a nodejs task from screenshot's `onAfterScreenshot` callback.
The task is matching current screenshot with the previous base one.
What is the proper way to do it with `Cypress.Screenshot.defaults` or `Cypress.Commands.overwrite('screenshot', ()=>{})` ?

### Current behavior:
```
Cypress detected that you returned a promise from a command while also invoking one or more cy commands in that promise. The command that returned the promise was: cy.screenshot() The cy command you invoked inside the promise was: cy.task()
```

### Desired behavior:
task should run

### Steps to reproduce:

```js
Cypress.Screenshot.defaults({
    capture: ""fullPage"",
    scale: false,
    onAfterScreenshot ($el, props) {
        cy.task('matchScreenshot', props);
    }
});
```

and call `cy.screenshot(imageName)` in test.

### Versions

Cypress:    3.0.1
Browser:    Electron 59 (headless)",question
332434512,"Allow for ""global logging"" to be possible from Cypress events","### Current behavior:

Cyrrently, attempting to make a `cy.log` call either onBeforeLoad or on fail is not working. I need to output some metadata to test runner on each run so i can reconcile the test run with our Sentry integration in case there is a backend or JS error which is not being captured in the test runner.

These codes do not work 

```js
Cypress.on('window:before:load', win => {
  win.SentryReleaseVersion = (new Date()).toISOString() + randomString(5);
  console.log('Release Version', win.SentryReleaseVersion)
  cy.log('Release Version', win.SentryReleaseVersion);
});

Cypress.on('fail', () => {
  cy.window().then(win => {
    console.log('Release Version', win.SentryReleaseVersion)
    cy.log('Release Version', win.SentryReleaseVersion);
    Cypress.log({
      name: 'Test',
      message: win.SentryReleaseVersion
    })
  })
})
```

### Desired behavior:

I would like a clear path to accomplish the above use case without writing a `beforeEach` for every suite in the app.

### Versions

3.0.1",question
331921183,Turbolinks issues when clicking links.,"### Current behavior:

I use Turbolinks in my application. If I click on two links after each other, where the link is present on both pages like a ""Next"" link, I get ""xhr aborted"" and it fails.
It seems as cypress clicks the same link twice (not waiting for the xhr to finish)...
If I add a `cy.wait(0)` between the clicks it seems to work. But it's a bit of a hack :)

### Desired behavior:

It should wait for the next page and click the correct link.

### Steps to reproduce:

Create a page with Turbolinks which links to another page (like a ""Next"" link in a pagination).
On this other page, add the same link to a ""Next"" page.

Now, run a Cypress test where you click on the ""Next"" link twice. This will fail (might be a bit random).

Adding `cy.wait(0)` between the clicks seem to solve the problem for some reason.

### Versions

Cypress: 3.0.1
Macos 10.13.4
",question
330977549,How to test custom events?,"Hi!

I want to test application that fire custom events.
How can I catch them ("".on"" ?) in Cypress?

Thanks",question
330142312,Teamcity integration .exe timing out,"### Is this a Feature or Bug?

issue

### Current behavior:

running in teamcity pipeling its getting timeout without any out or error

### Desired behavior:
should give result of cypress commands

### Steps to reproduce:

Deploy cypress.zip extracted in some folder of your project.
Go in teamcity build steps and try to execute `cypress.exe` with any commands like `cypress -h`
",question
329216685,Stubbing node methods for electron apps not working,"### Is this a Feature or Bug?

Feature. The FAQ says it'll work with a little extra code and I looked through the cypress specs you guys use for testing the cypress electron browser, but I did not see any stubbing node methods. ie fs methods etc. 

This may be a feature request for enhanced docs. Nobody in the chat responded to this question. I've asked three times on gitter now so I gave my best to not file a bug for this question.

I've found https://github.com/cypress-io/env-or-json-file/blob/ef205312ba73f2fd6404947005b1a401cb6dd305/src/env-or-json-file-spec.js#L43 which looks promising but I don't think these specs are ran using Cypress? Regardless I tried to copy what was done in this spec without success.

And the FAQ points to https://github.com/cypress-io/cypress/tree/develop/packages/desktop-gui/cypress/integration but I don't see any node methods being stubbed. Am I just missing it?

### Current behavior:

Stubbing like this doesn't work.
```js
const fs = require('fs');
it('does something', () => {
  cy.stub(fs, 'readFileSync').returns('file contents'); // Errors: fs does not have method 'readFileSync'
});
```
Nor does this work.
```js
const fs = require('fs');
it('does something', () => {
  fs.readFileSync = function() {
    return 'file contents';
  };
  cy.find('.btn-which-invokes-readFileSync')
    .click(); // Error: Empty fs object required in project different than empty fs object required here in test. readFileSync method not defined.
});
```
### Desired behavior:

To be able to stub node methods using first example above.

### Steps to reproduce:

See Current Behavior section.

### Versions

Cypress 2.1.0, Ubuntu",question
329050244,Send key F3 without input,"I am newbie on cypress.

I need write a  test with F3 send key to page.

I wrote this (114 = charcode key for F3):

```js
cy.get('body').type('{114}')  // (not ok) 
cy.get('body').type('{{114}') // (not ok)
```

Pease help
",question
328297785,cypress run --spec cypress/integration/APP/**/* runs all tests instead of just subfolder APP tests,"### Is this a Feature or Bug?
Bug

### Current behavior:
I have two subfolders in my integration folder:
cypress/integration/APP/
cypress/integration/API/

When I run 
> cypress run --spec cypress/integration/APP/**/*

ALL tests run, but I expected that only tests in the APP subfolder would run. 
Is this a bug or intended behaviour? Doesn't the --spec flag support globs?

### Desired behavior:
Just run tests in cypress/integration/APP/ subfolder
The --spec feature would be really useful if I could run all tests in different subfolders so I could manually distribute tests across machines. 

### Steps to reproduce:
```bash
cypress run --spec cypress/integration/SUBFOLDER/**/*
```

### Versions
cypress 3.0.1 on Mac OS 10.13.4




",question
327599471,Promises call inside cy.wait don't fail tests,"### Current behavior:

I have something that annoys me a lot. I'm testing an AWS S3 upload with cypress. The last step of my test is to query the AWS S3 bucket with the js AWS SDK. The end of my test looks like this :
```js
    // We wait on our previously tagged request and then verify that the file exists on S3 !
    cy.wait('@uploadPut').then(resp => {
      const etag = resp.response.headers.etag
      const params = {
        Bucket: Cypress.env('videoBucket'),
        Key: fileName + 'jfj' // introduce error here
      }
      // This crashes (uncaught promise) but everything still green with Cypress 
      s3.headObject(params).promise()
        .then(data => {
          expect(data.ContentType).to.equal(type)
          expect(data.ETag).to.equal(etag)
        })

      // Cypress is not too kind with Promises throwing error in cy.wait, e.g

      // This expect crashes but main test is still green
      // Promise.resolve('wow').then(resp => {
      //   expect(null).not.to.be.null
      // })

      // This expect crashes too but main test is still green
      // return s3.headObject(params).promise().then(res => {
      //   expect(null).not.to.be.null
      // })
    })
```

Promises are behaving very strangely inside cy.wait() and I didn't find any problem similar to mine. I'm just trying to make the test fail gracefully with a good error message. The only workaround I found was to return the call to s3.headObject(params).promise(). That will make the test fail but the error message is really bad.
![error message](https://i.imgur.com/wfDZuqS.png)
### Versions

Cypress 2.1.0, Latest for the everything else",question
327478364,How to wait for page finish reloading after click?,"I got form and when I trigger click on submit button this cause to refresh current page. After that I would like to do some assertions. How I know that page finished refreshing and I can start to searching an element to do assertions?

Looking for something like `page.waitForNavigation` in Puppeteer.

```javascript
cy.get('#formButton').click() // adds new item and refresh page
// do assertions on page
```",question
325654187,test:before:run event question,"is there any way to obtain the name of the test file when I'm inside `Cypress.on('test:before:run', (attributes, runnable) => {})`?
and more importantly, is there a way to dynamically skip/ unskip tests during `test:before:run` event?",question
324988573,Tests with React Dnd not working,"Hello guys, I'm trying to test a react app that uses [React DnD](https://github.com/react-dnd/react-dnd) using mouse events like recommended in [docs](https://docs.cypress.io/api/commands/trigger.html) but not working. Have anyone had that problem as well?",question
324377197,Does Cypress has analogue to Selenium's WebElement.isDisplayed?,"In many cases we need to check if element displayed (is visible in viewport). Selenium has method [isDisplayed](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isDisplayed--) method for it. Does Cypress has same method or API?
",question
323903729,Custom commands don't show up as a step in the UI,"For custom commands, it makes sense that their name will show up as a step in the script.
Right now they don't, and it seems like the only workaround is to use `cy.log()` inside the command, but that's not a great experience.

<img width=""463"" alt=""screen shot 2018-05-17 at 10 30 40 am"" src=""https://user-images.githubusercontent.com/394320/40162739-8b85c870-59bd-11e8-96e8-02dd1539d606.png"">
",question
323901072,Not possible to set specific timeout on custom commands,"This issue is related to Cypress API for custom commands. Hopefully it's just undocumented or I didn't find it in the docs.

I define a custom command, which might be a long operation. I wish to control the default timeout for my custom command. My command looks like this:
```js
Cypress.Commands.add('myCommand', () => {
  return cy.document().then(doc => {
   <long operation>
  });
});
```
I'd like the `<long operation>` to have its own timeout. Is that possible? Or achievable in some way?",question
322714291,"cypress web-app in vagrant, web-browser in host","how can we use the cypress web-app `./node_modules/.bin/cypress open --port 4567` in a web-browser on vm host?

we develop our web-shop in a headless linux virtual machine (vagrant) on a ms-windows host, and when i try to open the cypress web-app in google-chrome on host i get an error: ""This browser was not launched through Cypress. Tests cannot run.""

if not possible, what is the technical limitation?",question
322513785,Cypress collect javascript console warnings,How to collect all the javascript warnings in cypress test spec.,question
317912176,app.$store is not available,"I am following [this blog](https://www.cypress.io/blog/2017/11/28/testing-vue-web-application-with-vuex-data-store-and-rest-backend/#Store-to-UI-and-server-API). The window.app property does appear in the console after adding the code as described, however I can not reference `app.$store`. I can reference `app.store` which indeed contains properties from my vuex store, but it does not contain the `app.store.state`, just the getters (and dispatches etc.). 

E.g. using  `const getStore = () => cy.window().its('app.store')` it gives:

![screenshot from 2018-04-26 09-27-25](https://user-images.githubusercontent.com/10334123/39292130-87c91568-4935-11e8-9241-25de7e55a921.png)

I would prefer to be able to have state variables available directly and not only the once I made a getter for. What's wrong? Is this because I use namespacing in my vuex store?


 ",question
317832091,Fixture Documentation example is non functional due to preprocessing of 'this',"Please reference the documentation page here:

[https://docs.cypress.io/api/commands/fixture.html#Accessing-Fixture-Data](https://docs.cypress.io/api/commands/fixture.html#Accessing-Fixture-Data)


### Current behavior: <!-- (images, stack traces, etc) -->
from the documentation, I should be able to reference `this.usersJSON`, but due to pre processing this is compiled as `undefined.usersJSON`

### Desired behavior:

compile and run as `this.usersJSON`, or documentation updated with new examples

### Steps to reproduce:

Using Cypress 2.1.0, follow the examples on the documentation for fixtures.

```js

        cy.fixture('example').as('usersJSON');
        cy.route('GET', '/users/**', '@usersJSON')
            .then((xhr) => {
                expect(xhr.response.name).to.eq('Using fixtures to represent data');
                expect(this.usersJSON.name).to.eq('Using fixtures to represent data'); // THIS FAILS, but in the inspector I can see `this.usersJSON.name` no problem
            }).then(() => {
                cy.log(""FIXTURES SUCCESS"");
            });
```

### Versions 

Cypress 2.1.0

Chrome 65.0.3325.181

Ubuntu



I believe this is related to : [https://github.com/cypress-io/cypress/issues/533](https://github.com/cypress-io/cypress/issues/533)

",question
316254216,Flakey AJAX requests when using Cypress.on('fail') and the test runner,"### Current behavior:

When using the `Cypress.on('fail', function(err, runnable) {});` method I am posting an AJAX request to our application like so:

```js
    Cypress.on('fail', function(err, runnable) {
      // we now have access to the err instance
      // and runnable this failed on
        setTimeout(function() {
          axios.post('https://site.com', {
            error_message: runnable.err.message,
          })
          .then(function (res) {
            console.log(res);
          })
          .catch(function (error) {
            console.log(error);
          });
        }, 0);
        throw err;
    });
```

Not sure why but runnable won't work unless I wrap it in a function or timeout, but that is another issue so don't get confused by it.

When using `npx cypress open` and then selecting my spec the AJAX request sends every time without any issues.

However if I run my tests using `npx cypress run` on my CircleCI job the AJAX request is very flakey. Sometimes it sends and sometimes it doesn't. I'm guessing this is because the test runner is killing the spec before the AJAX request can be sent.

### Desired behavior:

I'd like to know how we can stop the spec from being killed until the request has been successfully sent. I've already tried using `cy.wait` but this doesn't work.

Is there a way that I can manually fail a test in the promise on my AJAX request?

### Steps to reproduce:

Run an AJAX request inside of `Cypress.on('fail')` and then use the `npx cypress run` command. Alternatively any logic that can take a bit of time within here such as a `setTimeout` can't be ran. 

### Versions   (2.1.0, OSX, Chrome)

",question
316170909,How to click and draw with openlayers. Possible or Not?,"I asked this a lot of time on forms and chats.. But never get an answer back. So this time I'm writing it here as an issue.

I'm searching for weeks how to create some tests with openlayers. I can't find anything on the internet, but it should be possible right? So who can help me with this?

**Situation:**

There's created a map (sort of google maps) with angular / openlayers. What I need is to click on this map (coordinates) and draw on it (for example a polygon). 

For example go to the website https://openlayers.org/en/latest/examples/draw-features.html. Select here by Geometry type for point to click on the map or polygon to draw a polygon on the map. It has to be possible to get this in my test right?

**So the tests what I want to do is like:**

**Test 01:**
1. Go to https://openlayers.org/en/latest/examples/draw-features.html
2. Choose Geometry type ""point""
3. Click on map

**Test 02:**
1. Go to https://openlayers.org/en/latest/examples/draw-features.html
2. Choose Geometry type ""polygon""
3. Draw a polygon on the map

ps: I always updated my cypress version, so got the last one now. Trying to test this on a mac and windows.


",question
314448169,Login failed with Command.js file ,"Hi all, 

### Current behavior: <!-- (images, stack traces, etc) -->
exception says;
""cypress_runner.js:139235 TypeError: Cannot read property 'token' of undefined ""

### Desired behavior:
Log-in automatically.

### Steps to reproduce:
I tried Command.js file like this;
```js
Cypress.Commands.add('login', () => { 
	cy.request({
		method: 'POST',
		url: 'https://www.yyy.com/login',
		body: {
			user: {
				email: 'xxx@yyy.com',
				password: 'xxxxx', 
			}
		}
	})
	.then((resp) => {
		window.localStorage.setItem('jwt', resp.body.user.**token**)
	})
})
```
(as explained video: https://www.youtube.com/watch?v=5XQOK0v_YRE)
And command line ""cy.login()"" in my spec file   

### Versions  <!-- (Cypress, operating system, browser) -->
Cypress v2.1.0
Windows 7 
Chrome 65
",question
314435352,Not able to import an Excel file when using Cypress,"Hi, I am trying to automate with Cypress the step where the user imports an Excel file, but I am not able to see how to do it with Cypress. 

What is the syntax of the command to import an Excel file that is on my desktop?

Anyone can support?
Many thanks. ",question
313431211,Feature: Access browser extensions API/storage/messaging,"I use Cypress to test a browser extension (hat tip for #1078 btw) that stores its settings in the [extension local storage](https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/storage/local).

So I need to clear the extension local storage between each test, and possibly setup fixtures in there, but there doesn't seem to be any built-in way with Cypress.

Because it has a content script, I can hack a workaround with `window.postMessage(clearDbMessage, ""*"")`, catch it in the content script that relays it to the background tab (with `runtime.sendMessage`), that can then clear the DB (or setup fixtures). But it's less than ideal because 1. It's hard to make it unexploitable by the pages users will visit and 2. It's a lot of boilerplate testing-specific code to add to my codebase.

I realise browser extension testing must be a somewhat low-priority edge but it would be great to be able to access the local storage and background tab of an extension from Cypress.",question
311744308,Drag and drop with jquery ui sortable,"- Operating System: Mac os
- Cypress Version: last version
- Browser Version: Chrome and Electron

Hello, 

I'm trying to use Cypress to test a drag and drop sort (jquery ui sortable).
It seems not working here.
Is there an example? I tried this without success : 

```js
    cy.get("".grip"").first().trigger('mouseover')
      .trigger('mousedown',  { which: 1 })
      .trigger('mousemove', {clientX: 600, clientY: 600})
      .trigger('mouseup', {force: true});
```

`.grip` is the handle. The parent (`tr`) is the draggable element.

Thanks


",question
307586135,Longpress event,"[X] Question

Guys, is there a way to emulate long-press event on dom-node?",question
303240322,Persist Chrome settings,"Is it possible to persist the Chrome Theme setting? 

I always have to go to `Settings | Appearance | Themes | Reset to default` because with the Cypress theme it is quite difficult to see the tab names if you don't hover over them.

Enabling this would make it easier for people to use the Cypress browser as their default while developing",question
303024512,How lauch cypress on windows 10?,"Hi,

I would like ton open cypress on windows but I don't know exactly the path. I don't find informations in Cypress documentation. Could you help me?
Regards,
Elisa",question
302768338,Question: Is scroll into view supposed to scroll container elements with overflow:scroll;?,"Before I log a detailed issue, can someone tell me if the scrollIntoView() function supposed to scroll elements or does it only scroll the window?

I have a test that is failing because an element is inside a menu that scrolls. 

```js
cy.get('.blade1 .back-icon').scrollIntoView().click();
```

```
CypressError: Timed out retrying: cy.click() failed because this element is not visible:

<span class=""back-icon coh-icon-angle-double-left"" ng-click=""cbm.back()"" role=""button"" tabindex=""0""></span>

This element '<span.back-icon.coh-icon-angle-double-left>' is not visible because its content is being clipped by one of its parent elements, which has a CSS property of overflow: 'hidden', 'scroll' or 'auto'

Fix this problem, or use {force: true} to disable error checking.

https://on.cypress.io/element-cannot-be-interacted-with

http://test-drupal.cohesion.dx/admin/cohesion/cohesion_custom_styles/add/layout
```
",question
301773997,Run/record one part of the test from cypress/integration folder,"I divided my test into 3 parts:
- checking the label,
- checking data
- checking the flow
What kind of purpose I must run one of these parts.
All tests are in the cypress/integration folder.
So when I use cypress run to record tests all tests run. 
How should be the structure of these tests to run (record) one part of the test?
How to run /record one part of the test?
",question
301364773,How to select Multi-Value Select Boxes?,"I could not select Multi-Value Select Boxes (http://select2.github.io/select2/)
I try:
```js
cy.get('s2id_e9').click()
 cy.get('ul li:first').contains('California').select()
```
, but it does not work. How can I select these options?

",question
301231247,"expect(element).to.have.style('height', '323px')","How can I get the element height or width?

Something like:

```javascript
cy.get(mainMenu).expect(element).to.have.style('height', '323px');
cy.get(mainMenu).expect(element).to.have.style('width', '20px');
```

Is it possible?

Maybe using this: https://github.com/darlanmendonca/chai-style ?",question
301209836,Sharing dynamic data between all the tests in a run.,"### Is this a Feature or Bug?
Feature.

### Current behavior:
Currently the only way I can figure out to generate user login data with faker for each run and share it amongst  all the tests in that run is to stuff it into the environment variables. This is fine apart from in development when I want to do iterative runs with fresh data.
Currently to get the plugin to run again and populate the environment vars with fresh data I have to stop and start Cypress.

### Desired behavior:
Maybe a reboot button on the UI.
Or a hook to inject environment variables into the config before each run.
Or a mechanism to share data between all your tests in a run other than stuffing the env object.

",question
300199313,How to catch data in not xml http request?,"Hi! I've just started so probably have a foolish question)
How can I catch and verify data in not xml http request? For example if I have to check url, status and body in request/response after submitting a form?
I'm not stubbing anything now and want to check it with ui, not with cy.request.

I`ve seen issue cypress-io/cypress#687, but probably there is a workaround

Thank you!




- Operating System: ubuntu 16.04 LTS
- Cypress Version: 2.0.4
- Browser Version: Chrome 64

### Is this a Feature or Bug?
Question

",question
298124593,"cy.visit and redirects. cy.location(""pathname"") doesn't work.","- Cypress Version: 2.0.1
- Browser Version: Chrome 64

This is a **Bug** (at least I think).

### Current behavior:

I fail the login voluntarily because I need to try the redirect to `/login` path.

But instead I got this strange behaviour:

- `cy.visit(""/dashboard"")` takes me to `/dashboard`;
- my website **redirects** the browser to `/login` path;
- `cy.location(""pathname"").should(""eq"", ""/dashboard"")` is OK for Cypress;
- `cy.location(""pathname"").should(""not.eq"", ""/login"")` is OK for Cypress;
- after all this he says in test runner: ""_(NEW URL) http://localhost:8080/login_""

### Desired behavior:

I expected a different flow. Because I thought Cypress waited for the redirect. But it doesn't. **Why?**

### How to reproduce:

_commands.js_:
```javascript
Cypress.Commands.add(""login"", (user, password) => {
  cy
    .request({
      url: ""http://localhost:3000/api/login"",
      method: ""POST"",
      body: { user, password: ""badPassword"" } // bad password because I want to fail this login
    })
    .then(resp => {
      expect(resp.status).to.eq(200);
      cy.visit(""/dashboard"");
      cy.location(""pathname"").should(""eq"", ""/dashboard"");
      cy.location(""pathname"").should(""not.eq"", ""/login"");
    });
});
```

_myTest.spec.js_:
```javascript
it.only(""Login with API"", function() {
  cy.login(user, password);
});
```
",question
297497350,Add Directory Argument to `Cypress open`,"<!-- **Tip** in order for us to reproduce the bug you can fork [cypress-io/cypress-test-tiny](https://github.com/cypress-io/cypress-test-tiny) repo and setup the failing test. Then just tells us the repo and branch to try! -->

### Is this a Feature or Bug?
Feature

### Current behavior:
launching Cypress globally (after installing via `npm i -g cypress` and launching with `cypress open`) always takes you to the ""select a folder"" screen.
It would be nice to run `cypress open path/to/project-directory/` or `cypress open .` to launch the global install pointed to the current directory (similar to running `code .` to open a vscode instance in the current directory).

### How to reproduce:
* globally install cypress
* `cypress open .`
you are met with the 'select folder' screen
**desired**:  
cypress opens in the current directory (finds the tests in `./cypress/integrations`)

### Additional Info (images, stack traces, etc)
I understand this is not the recommended way to run cypress, but if you have a bunch of little projects it would be nice to have this feature
",question
295168662,The Test Runner view /(dashboard),"I have the following problem.

When I started recording my tests by  calling  commend: cypress run ‚Äì record  (with scripts in package.json)
the tests are recorded but ‚Äù The Test Runner"" view is not visible.

Why is it happen?
Should it be?


I change my script in package.json to commend: cypress run but when I call: npm command (what is: cypress only run ) the tests are still recorded and ""The Test Runner"" view is still not visible  (even after closing Visual Code)

How can I come back to ‚ÄúThe Test Runner‚Äù view (how open this view again)?

",question
293745358,Unexpected token u in JSON at position 0 in Application Code Causes Test Fails and stops tests,"- Operating System: Mac OSX
- Cypress Version: Latest
- Browser Version: Chrome 63

### Is this a Feature or Bug?

Bug

### Current behavior:

When an error in my application is triggered in the console 'SyntaxError: Unexpected token u in JSON at position 0' Tests are stopped and failed. This is failure in the application but should have no affect on whether cypress passed or fails.

SyntaxError: Unexpected token u in JSON at position 0
SyntaxError: Unexpected token u in JSON at position 0
    at JSON.parse (<anonymous>)
    at https://www.fakeURLinsertedhere.com/:2382:34


### Desired behavior:

This should not fail or stop the test in any way as the test has not failed.


### How to reproduce:
Insert this error in your application, it will fail. This was confirmed by Jonathan Greenemeier @6eDesign in the Cypress Gitter chat.


#### Test code:

```
describe('Smoke', function () {
  it('.should() - assert that <title> is correct', function () {
    cy.visit('https://www.fakeURLinsertedhere.com.au/')
    cy.title().should('include', 'Ttile')

  })
})
```

```js

```


### Additional Info (images, stack traces, etc)

If there is a workaround in the meantime until this bug is fixed this would be great

",question
291250798,Is it possible to turn off successful logging to CI?,Can cypress be configured to only show failed cases on the CI output?,question
290285010,How to deal with dynamic class names √† la CSS Modules or Styled Components?,"Any pointers on how to deal with dynamic class names produced by e.g. CSS Modules or `styled-components`?

The easy way out would be to just plaster my markup with `id=""e2e-blabla""` but that doesn't feel particularly nice to be honest.

Another way could be to look for partial matches in class names. For example the CSS Modules class `.form` produces the actual class name `.styles__form--3gcRC` in the DOM. One could now use a CSS attr selector such as `[class*=form]` which would work in many case but can lead to name conflicts and kinda removed all the benefits of having locally scoped and unique class names.

------------------------------------

### Current behavior:
There's no documented way (at least i couldn't find one in neither issues nor docs) to make cypress play well with dynamic class names generated by commonly used tools such as CSS Modules or `styled-components` 

### Desired behavior:
There's a well documented way of having cypress be able to look for dynamic class names in the DOM

### How to reproduce:
Try to make cypress work with any React app that uses either `CSS Modules` or `styled-components`

- Operating System: macOS 10.13.2
- Cypress Version: 1.4.1
- Browser Version: Chrome 63.0.3239.132 (Official Build) (64-bit)

",question
289841233,Multiuple browser interacting -- how?,"I have a complex SPA that allows users to chat with one another. I am banging my head against several walls trying to even understand how Selenium works. I discovered Cypress, and -- apart from a very long list of opened issues -- it sounds like the holy grail. However, in my tests I need to:

* Open THREE different browsers
* Run commands on all of them to make sure they interact with each other nicely

Looking at the API, and the way you serialise commands, I am afraid that this is impossible.

Can you please confirm that my use case is not covered by Cypress?
Or, can you explain how to do it.

THANK YOU! I hope Cypress becomes the new Selenium ",question
289642688,Prevent a form from submitting,"Probably a simple question. We have a form somewhere on a page and when the user submits the form the browser will go to a different URL of a website that is not maintained by us. Is there a way to stop this behaviour?

The desired behaviour would be: Cypress sees that the form is submitted. preventDefault and returns that there was a form submit.",question
287753614,Mute certain XHR requests which are convoluting test log on UI,"- Operating System: MacOs
- Cypress Version: 1.4.1
- Browser Version: Chrome 63 & Electron 53
- React: 16.2.0
- web3: 1.0.0-beta.27

### Is this a Feature or Bug?
Feature / question

### Current behavior:
E2E testing dapp using web3. The app uses web3 which is polling a port regularly. This filling up test run logs on cypress UI. XHR events are all around while running and it's logging even after successful finish it makes really hard to follow tests. It also makes the UI very unresponsive.

### Desired behavior:
Would be great to silence / mute certain XHR calls in the log.
There might a way (e.g. overriding event? but I couldn't figure out..)

### How to reproduce:
Run any dapp in cypress then the logs will be filled 

#### Test code:
N/A

### Additional Info (images, stack traces, etc)
![image](https://user-images.githubusercontent.com/7456451/34823445-4433269c-f6c2-11e7-9c4f-bf6709c7a262.png)

![image](https://user-images.githubusercontent.com/7456451/34823375-0920cfaa-f6c2-11e7-862b-3ed1ee01d17d.png)

",question
287451707,Debugging cypress steps on terminal (headless mode),"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: MAC OS HIGH SIERRA
- Cypress Version: 1.2.0
- Browser Version: 63

### Is this a Feature or Bug?
Question

### Current behavior:
No option to see what cypress is doing behind the scene or headlessly

### Desired behavior:
a way to pass --debug to the CLI to see the cypress processes and probably to debug which process is time consuming
",question
286276323,Cannot pick up typings for Cypress with the Typescript recipe,"### Current behavior:

Cypress ships with bundled typings but the compiler cannot pick up the typings for Cypress and fails on encountering  a`cy` call.

### Desired behavior:

Typescript compiler can pick up the typings and test files compile successfully.

### How to reproduce:

1. Setup a vanilla cypress setup
2. Use the provided [typescript recipe](https://github.com/cypress-io/cypress-example-recipes/tree/master/examples/preprocessors__typescript-webpack) 
3. Write an example spec file like:
    ```ts
    describe('Example', function () {
      it('Example task', function () {
        cy.visit('http://example.com');
    });
    ```
4. Observe the compiler failing on `cy`

#### Test code:

See above

### Additional Info (images, stack traces, etc)

```
./cypress/integration/REDACTED.spec.ts
[tsl] ERROR in REDACTED(3, 5)
      TS2304: Cannot find name 'cy'.
```

- Operating System: MacOS High Sierra 10.13.2 
- Cypress Version: 1.4.1 (both package and binary)
- Browser Version: 63.0.3239.132 (Official Build) (64-bit)

  ",question
285915987,Feature req: why is there not a global 'cypress start' and 'cypress stop' hook?,"- Cypress Version: 1.4.1


I am aware of the 'before' and 'after' but they only work per block, and therefor per file.

Right now i have like 10 files in my 'integration' folder, each handling a specific part of my website.
I have to write 10 times a 'before' and 'after' hook, but i can make 2 function and just call them 10 times (a call in the before and after hooks of each file)

The goal i am trying to achieve is to host my webapplication (the one i want to test) before i start cypress, and then unhost it again when i stop cypress...

i don't want to host my application 10 times and stop it 10 times, i just want to host it once, and stop it once..

What are your thoughts on this?
is this even the way to go? or should i do the hosting outside of my cypress environment?
the problem with most npm package is that they only host a site, but then block the thread. running it in parallel is an option, but then i can never 'unhost' the site...
",question
284788329,Angular dialog box not calling api after resolving,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: Linux
- Cypress Version: 1.1.2
- Browser Version: Version 59.0.3071.86 (Official Build) (64-bit)

Report an issue

### Is this a Feature or Bug?


### Current behavior:
When submit button is clicked by the test runner in dialog box, the dialog box closes but the POST call that should be called when the dialog resolves is never called. This can be confirmed in the network tab of dev tools. If I manually navigate through the Cypress browser to preform this action it will work correctly and call the api.

### Desired behavior:
When submit button is clicked in dialog box the dialog box should be resolved and that should trigger an api that updates tables on the server


### How to reproduce:
HERE IS FULLY WORKING EXAMPLE CYPRESS TEST FILE THAT USES CODEPEN AND NEEDS NO SUPPORTING FILES.

#### Test code:

```js
//----------------------------------------------------------------------*
// our Codepen has top level URL
const url = 'https://codepen.io/cmcgeac/full/EogGpX'
// that loads app from this URL
const iframeUrl = 'https://s.codepen.io/cmcgeac/fullpage/EogGpX'

beforeEach(function loadAppIFrameAndSetAsOurTestDocument () {
  cy.request({
      method: 'GET',
      url: iframeUrl,
      headers: {
        Referer: url,
        accept: 'text/html'
      }
    })
    .its('body')
    .then(html => {
      cy.document().then(document => {
        document.write(html)
        document.close()
      })
    })
})

describe('Test', function(){
    //-------------------------------------------------------------------
    it('check dialog', function(){
        cy
            .get('button[ng-click=""showPrompt($event)""]').click()
            .get('span').contains(""Okay!"").click({force:true})
            .server()
            .route(""POST"",'production-router').as('updateCalled')
            //.get('button[ng-click=""confirm(usergroupname)""]').click()
            .wait('@updateCalled').its('status').should('eq',200)
    });
});

```

### Additional Info (images, stack traces, etc)

",question
284536141,each loop,"#### Test code:

I have lots of entry and I want to check only some of these entries exists in combobox.
for this purpose, I created a variable containing these some of entries. 

```js
var listTags = ['Analysis', 'Definition', 'Compliance']

cy.get('.select2-results div').each(($div, i) => {
  expect($div).contains(listTags[i])
})
```

the combobox is actually containing these entries: a, b, Analaysis, Definition, Compliance
if the combobox contained the entries Analysis, Definition, Compliance the code above wouldnt fail. However the combobox may contains a lot entries and I want to check if only some of these entries exists. I can do that using ""should"" writing the certain entries manually but isn't there a way to do that using a variable and in each loop? (like above)",question
284147755,global variables usable in different js (test) files,"is there a way to define variables in order to able to use them 'in different js (test) files'
",question
283857503,different env blocks,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System:
- Cypress Version:
- Browser Version:

### Is this a Feature or Bug?


### Current behavior:


### Desired behavior:


### How to reproduce:


#### Test code:

in Cypress.json, It's not possible the following usage.

  ""env"": {
  
    ""Access"":""esdsdssad6d8sdf045dfge3sdf75a"",
     ""Access"":""Abc""
 
} 

is it possible to define different ""env"" : { . } blocks  in order to use define variables with same name but different values in different blocks. So the variables with same name but has different values can be defined and used. (or it may be other way instead of defining different blocks)





### Additional Info (images, stack traces, etc)

",question
283735583,Cypress.log type definition and/or documentation,"The implementation of `Cypress.log` returns a chainable interface with methods like `invoke` and `snapshot`, etc. The type definitions just return `void`. The documentation doesn't say much.

I'm wondering what should the public interface returned by `Cypress.log` be? Should they reflect the implementation and the docs also get updated?

- Operating System: N/A
- Cypress Version: 1.4
- Browser Version: N/A

### Is this a Feature or Bug?
Not sure

",question
283571974,Usage of environment,"#### Test code:
I have some li or option values and i want to check if those exists so i use the following usage for this purpose. 

```js
cy.get(‚Äò.myclassname li‚Äô).should(($lis) => {

        expect($lis).contain(‚ÄòSugar‚Äô)
        expect($lis).contain(‚ÄòJuice‚Äô)
        expect($lis).contain(‚ÄòBread‚Äô)
        expect($lis).contain(‚ÄòBall‚Äô)

       })
```

as you see, i have to write every value i have one by one.  Is there a way to define all the values i have in a variable and use that variable instead of writing all the values one by one like above",question
283055330,Can't use variables in Command callback if options exist,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: Win10
- Cypress Version: 
- Browser Version: 

### Is this a Feature or Bug?
Bug

### Current behavior:
variables in Command callback are ignored when `{prevSubject: <options>}` exists
i.e.:
```js
Cypress.Commands.add('clickNavLink', { prevSubject: 'optional' }, (name) => {
  cy.get(`[data-test=""${name}-nav-link""]`).click()
});
```
`cy.clickNavLink('sales')` returns `GET [data-test=""undefined-home-tile""]`

but 
```js
Cypress.Commands.add('clickNavLink', (name) => {
  cy.get(`[data-test=""${name}-nav-link""]`).click()
});
```
`cy.clickNavLink('sales')` returns `GET [data-test=""sales-home-tile""]`

### Desired behavior:
variables in a callback are respected when `prevSubject` is present

### How to reproduce:
create a `Cypress.Command` with `prevSubject: 'optional'` variable and variable in callback.

#### Test code:
`./support/commands.js`
```js
Cypress.Commands.add('testClickNavLink', { prevSubject: 'optional' }, (name) => {
  cy.get(`a[href=""/commands/${name}""]`).click()
});
```
`./integration/test_example_links.js`
```js
describe('Run through traversal links', function() {
  beforeEach(() => cy.visit('https://example.cypress.io'));

  ['querying', 'traversal', 'actions'].forEach((n) => {
    it('fails', () => {
    cy.testClickNavLink(n);
    })
  })
});

```
I know the test will fail because there's multiple, but really you just need to see that it returns `undefined` instead of the variable passed into the callback.

I'll throw a repo together tonight if needed but this is pretty straightforward to test.
### Additional Info (images, stack traces, etc)

",question
282799128,Select a place on a map (for example google maps),"Hi all,

Need some help :(

How can I write a code to select a place on a map (for example google maps)? I tried different things but still hanging on this one :(

",question
282077020,outgoing connections being made - possible privacy issue?,"Hello,

I have an outgoing connection firewall and I see some connection attempts being made:

<img width=""634"" alt=""screen shot 2017-12-14 at 12 51 41"" src=""https://user-images.githubusercontent.com/5169234/33991165-d572940e-e0cd-11e7-8067-67e11c45ec63.png"">

I am using only test runner, no dashboard and not defining a project. So I don't expect my tests to go anywhere but on my local computer.

**Can you please explain which kind of data gets sent and where?** 

I believe there could be serious privacy concerns with sending screenshots and test runs elsewhere without consent. 

Otherwise this looks like a great product!

Thanks,
Damjan


",question
279568997,Retrieve full URL from XHR entry in test runner,"### Is this a Feature or Bug?

FEATURE

### Current behavior:

In the test runner view, I see that a bunch of XHR requests have been made, but I can't see the full URL. Tried expanding the size of that pane, hovering over each item, clicking, right-clicking, but can't find a way to get the full URL.

### Desired behavior:

It would be great to be able to somehow get the full URL from these XHR lines, to visually confirm the order of events and to make it quick to set up cy.route(). Although I can open the Network tab of dev tools, there is a lot of activity going on there and no way to match it to the XHR entries in the test runner view. The test runner view is a better representation of the calls as they relate to the tests, and would be the ideal place to get these URLs from. 

",question
278387185,start testing not from begining,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System:
- Cypress Version: 1.2
- Browser Version:

### Is this a Feature or Bug?
feature request

### Desired behavior:
while you are working on a web page for testing and when you want to try your code, you run the test (testing starts from the begining) and then when you start to write additional lines of code and run the test again, Cypress starts the testing from the begining. is there way to have Cypress started from where it last left? so that you dont have to be started the testing from the beginning every code changes.",question
275453189,asserting the response of ajax requests,"### Is this a Feature or Bug?
bug, cant find docs on
https://docs.cypress.io/guides/guides/network-requests.html#Testing-Strategies
need to know how to assert on responses I get from the server.

Probably its me, but maybe others cant find how as well :/


#### Test code:

```js
cy.get('#contactID').type('email@gmail.com')
cy.contains('Login').click()
// I have an ajax call here, want to assert on the reponse

```

",question
275371986,"Whoops, there is no test to run.","- Operating System: Ubuntu 16.04
- Cypress Version: 1.0.3
- Browser Version: Chrome Version 61.0.3163.91 (Official Build) (64-bit)

Hi,
Why the following test gives me `Whoops, there is no test to run.` page?
```javascript
describe('Existance', function(){
  it('Nav is visible', function(){
    cy.visit('https://medium.com/m/signin')
    cy.get('[data-action=""twitter-auth""]').click()
    cy.wait(5000)
    cy.get('input[name=""session[username_or_email]""]').type(""<email>"")
    cy.get('input[name=""session[password]""""]').type(""<password>"")
    cy.get('input[type=""submit""]').click()
    cy.wait(5000)
    cy.visit('https://medium.com/me/stories/public')
    cy.get(""nav"").should('be.visible')
  });
})",question
275160179,Noob question: Why Cypress.env() instead of process.env ? ,"Is there any way of using the node process.env instead of Cypress.env so I can reuse code for custom commands?

Thanks",question
274962142,Overriding type,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: MacOS Sierra 10.12.6
- Cypress Version: 1.0.3
- Browser Version: Chrome 62

### Is this a Feature or Bug?
Bug

### Current behavior:
It throws an error whenever I'm doing

### Desired behavior:
Allow me to set a custom delay when typing. Preferably at a cypress.json configuration level.

### How to reproduce:
```js
Cypress.Commands.overwrite(""type"", (originalFn, string) => originalFn(string, { delay: 1 }))
cy.get('foo').type('bar')
```

#### Test code:
```js
cy.get('foo').type('bar')
```

### Additional Info (images, stack traces, etc)
<img width=""320"" alt=""screen shot 2017-11-17 at 18 51 49"" src=""https://user-images.githubusercontent.com/8288389/32963715-c7d1bc68-cbc8-11e7-919c-38d63c0eb0f7.png"">
",question
273814313,Installing Cypress for every project I work on takes too much space,"- Operating System: Mac OS X
- Cypress Version: 1.0.3
- Browser Version: N/A

### Is this a Feature or Bug?
Bug

### Current behavior:
`npm install cypress` installs the Electron app for every project i do it on. It's heavy: 320MB. Which means that since I have it installed on 4 projects, almost a gig of disk space is wasted on an electron app duplicated 4 times :(

### Desired behavior:
Make the primary method of installing the cypress app system or user global

### How to reproduce:
```
npm install cypress
```

#### Test code:
```js
du -hs node_modules/cypress/
```

### Additional Info (images, stack traces, etc)
",question
273023189,shouldn't cypress-cli automatically verify before install ?,"- Operating System: `Mac OS`
- Cypress Version: `1.0.3`
- Browser Version: `no matter`

### Is this a Feature or Bug?
question

### Current behavior:
when u write `npx cypress install` it always install `Cypress.app`.

### Question:
Shouldn't it verify before install: `if it's installed, and only if verify failed then install.`

### How to reproduce:
run twice `npx cypress install`


",question
272689058,How can I execute a JavaScript command,"How can I execute javascript commands within a test?
I have a scenario when I need to run an app-level javascript command in order to proceed to the next step.

Thank you",question
272583149,mocking window.print,"Had anyone tried mocking window.print?

I have a scenario where I need to click on a button that window.print's something, in order to move to the next step, and the test remains stuck in the browser print dialog box at the moment.

I tried with
```js
cy.visit(url, { onBeforeLoad: win => cy.stub(win, 'print').returns(undefined) })
```
also with
```js
cy.window(win => cy.stub(win, 'print').returns(undefined))
```
but each time I click on the printing button, I'm prompted with the browser print preview box.

Thank you!",question
271417065,Injected Chrome Extensions fail to load,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: MacOS 10.13
- Cypress Version: 1.0.3
- Browser Version: Chrome 61

### Is this a Feature or Bug?
Bug.

### Current behavior:
When I load a Chrome Extension (per the instructions [here](https://docs.cypress.io/guides/core-concepts/launching-browsers.html#Cypress-Profile)) the Chrome Extension icon is visible in the corner of the Cypress-controlled version of Chrome, however, the extension does not load itself into the page, and I get the following errors:

<pre>
[Report Only] Refused to execute inline script because it violates the following Content Security Policy directive: ""script-src 'report-sample' 'nonce-TiA4mI9l8sD4SFX78BmSxUaNCNc' 'unsafe-inline' 'strict-dynamic' https: http: 'unsafe-eval'"". Note that 'unsafe-inline' is ignored if either a hash or nonce value is present in the source list.
</pre>

<pre>
Refused to display 'https://accounts.google.com/ServiceLogin?passive=1209600&osid=1&continue=https://notifications.google.com/u/0/widget?sourceid%3D24%26hl%3Den%26origin%3Dhttps://calendar.google.com%26uc%3D1%26usegapi%3D1%26jsh%3Dm;/_/scs/abc-static/_/js/k%253Dgapi.gapi.en.-B1JI5BnpkY.O/m%253D__features__/am%253DAAQ/rt%253Dj/d%253D1/rs%253DAHpOoo-J_489p3irekFx--jdEVsS-UunRg&followup=https://notifications.google.com/u/0/widget?sourceid%3D24%26hl%3Den%26origin%3Dhttps://calendar.google.com%26uc%3D1%26usegapi%3D1%26jsh%3Dm;/_/scs/abc-static/_/js/k%253Dgapi.gapi.en.-B1JI5BnpkY.O/m%253D__features__/am%253DAAQ/rt%253Dj/d%253D1/rs%253DAHpOoo-J_489p3irekFx--jdEVsS-UunRg&hl=en&authuser=0#pid=24&_methods=onError%2ConInfo%2ChideNotificationWidget%2CpostSharedMessage%2Creauth%2CsetNotificationWidgetHeight%2CsetNotificationWidgetSize%2CswitchTo%2CnavigateTo%2CsetNotificationText%2CsetNotificationAnimation%2CgetNotificationText%2CvalidateUser%2C_ready&id=I1_1509956950239&_gfid=I1_1509956950239&parent=https%3A%2F%2Fcalendar.google.com&pfname=&rpctoken=92871221' in a frame because it set 'X-Frame-Options' to 'deny'.
</pre>

<pre>
Failed to load resource: net::ERR_BLOCKED_BY_RESPONSE
</pre>

### Desired behavior:
When I install a Chrome Extension that injects contents into the current page, I expect to be able to interact with the injected contents of the Chrome Extension

### How to reproduce:
1. Install the [Meekan Chrome Extension](https://chrome.google.com/webstore/detail/meekan-chrome-extension/kajbnblhfjgifcjcdobijephafjimpod) into your Cypress Browser
2. Open Google Calendar
3. Click ""Create Event""
4. Open the console, and you will see the errors above

#### Test code:

```js
describe('Create a new Meeting', function() {
    it('.should() - load suggestions on a new meeting', function () {
        cy.visit('https://calendar.google.com/calendar');
        cy.get('div[jsname=""EcotYb""] div[role=""button""]').click();
        
        cy.wait(3000); // Generous wait for the extension to load
        cy.get('div.timeslot').find('span.status-info').should('have.length', 4);
    })
});
```

### Additional Info (images, stack traces, etc)

If the Chrome Extension loaded successfully, this is what you would see:

![image](https://user-images.githubusercontent.com/5614571/32435617-4f7ab334-c2d9-11e7-88c0-7f677012e5e4.png)

Or if you have connected your Calendar to Meekan, this is what you would see:

![image](https://user-images.githubusercontent.com/5614571/32435693-908d45b2-c2d9-11e7-974d-ce522ac1cc33.png)

------

**UPDATE (Nov 9 2017): I removed the Google Login from the test code, it was not relevant to the problem, it was only there as a helper to anyone who might be trying to troubleshoot the problem.
",question
271209891,.click/dblclick() should support extra event properties,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Cypress Version: `1.0.2`

### Is this a Feature or Bug?

Feature

### reasoning

Currently, there's no other way to specify e.g. `shiftKey` when issuing a `.click()` command. IMO, it should work same as `.trigger()` and thus allow to supply `shiftKey` and others in `options`.

",question
270814833,Disable video recording on cypress run,"### Current behavior:

Video recorded on every `cypress run`.

### Desired behavior:

CLI and/or config option to disable video recording on `cypress run`.

### How to reproduce:

Run `cypress run`. See ""Started video recording"" message and generated video file in `cypress/videos`.

### Additional Info (images, stack traces, etc)

I'm not using the videos while developing and I'd rather save the time/processing and lower my chances of running into associated bugs by disabling this functionality altogether when I need to run all tests.
",question
268893884,handle DOM scripts,"Is there a chance to manipulate the scripts that are requested on a page?
The reason I'm asking is that, from my observations, my tests are considerably slow when scripts are requesting 3rd party images: cy.contains/ cy.get will wait for all these resources to be loaded, which are irrelevant to my test cases. A manual remove of those script files significantly increases the performance, and I was thinking maybe I can prohibit the load from within the test.

Thank you!",question
268424293,"Whitelisted cookies preserved over runs, clearCookies() does not clear whitelisted cookies","- Operating System:
OSX 10.12.5
- Cypress Version:
Cypress package version: 1.0.2
Cypress binary version: 1.0.2

- Browser Version:
Canary 64

### Is this a Feature or Bug?
Bug


### Current behavior:
Having the following test code:

```js
describe('Example', () => {

  Cypress.Cookies.defaults({
    whitelist: /SESSION_COOKIE/
  });

  before('we should log in first', () => {
    cy
      // clearCookies() does not clear whitelisted cookies
      .clearCookies()
      .visit('application_url, which sets a NEW SESSION_COOKIE to use throughout the following tests');
  });

  it('should still have SESSION_COOKIE', function() {
    cy
      .visit('application_url/subpage')
      .wait(5000); 

      // .wait() was just added so you can inspect the list of cookies.
      // Notice that SESSION_COOKIE stays the same over several runs.
  });

  it('should really still have SESSION_COOKIE', function() {
    // More tests.
    cy
      .visit('application_url/subpage')
      .wait(5000);
  });

  it('should really really still have SESSION_COOKIE', function() {
    // More and more tests.
    cy
      .visit('application_url/subpage')
      .wait(5000);
  });
});
```

In the current phase my tests keeps failing, because the first run logs in and because I preserve the cookie, it is persisted throughout every test that runs.

Technically I'm not able to clear cookies between runs/during tests.


### Desired behavior:
Few suggestions :)
- clearCookies() should be able to remove all cookies, even whitelisted cookies (to avoid a breaking change, it can be an option to clearCookies(), e.g. clearWhitelisted: true ?)
- Next to 'preserveOnce()' I'd also rather see a 'preserve' that will at least preserve the cookies throughout the test suite (test suite = 1 file). If I want to achieve what I actually want right now I have to call preserveOnce() in every single test.

### How to reproduce:
Use the above code, start coding on the test and press Save. Cypress will run the test, but preserve the whitelisted cookie even though it says 'clearCookies()'. Also when you use the 'Run all tests'. 

#### Test code:
See above :)

### Additional Info (images, stack traces, etc)

",question
266310766,"""lib/project requires a projectRoot""","<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: Windows 10
- Cypress Version: 1.0.2
- Browser Version: 61

### Is this a Feature or Bug?
Error

### Current behavior:
When I try and run  `cypress run --record --key xxxxxx-xxxxxx-xxxxxx-xxxxxx` I get the error: `Error: Instantiating lib/project requires a projectRoot!`

### Desired behavior:
I would like to record the test so I can view the results in the browser Dashboard

### How to reproduce:
Follow the installation process when downloading the zip file and try to cypress run.

#### Test code:

```js

```

### Additional Info (images, stack traces, etc)

![image](https://user-images.githubusercontent.com/17032466/31694097-2fee5aac-b357-11e7-9695-34f187034bb7.png)
",question
263712199,Change default icon,"Would it be possible to change the icon of the Chrome Browser? Right now I always get confused as to which of the two Chromes Cypress is in:

![image](https://user-images.githubusercontent.com/27538/31316512-0965dbc8-abfd-11e7-833c-7029313d5517.png)
",question
260037946,Run on AWS Lambda,"I would like to run each cypress test as a separate lambda function to 
a) Consume (and pay) resources only when I need them
b) Scale horizontally and execute tests parallely.

Can I run a Cypress test on AWS Lambda (node js runtime) and if so, what is needed to do so?",question
259163872,Cypress cannot load pages behind a corporate proxy,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: Mac OS 10.12.6
- Cypress Version: 0.20.1
- Browser Version: Chrome v61

### Is this a Feature or Bug?
Feature

### Current behavior:
When running on a machine that requires a corporate proxy, cypress does not use the proxy settings and therefore cannot access and run tests on pages behind the proxy.

### Desired behavior:
Cypress should respect the internal proxy settings of the network. From Brian Mann in Gitter: 

""right i think its something we'll have to take into account and upgrade
cypress does not respect the internal proxy settings of the network
it would just work if we took that into account though""

### Additional Info (images, stack traces, etc)

Resolving this would allow teams behind corporate proxies to adopt the software.

",question
259029172,"Non-revocable commitment to OSS (engine/cli), concerns about binding arbitration in terms of use and suggestions","I understand that you're still in beta and probably intended to ""cover your arse"" against bad actors, but the binding arbitration provision in your [terms of use](https://www.cypress.io/terms-of-use/) gives me pause (that said, thank you for making that term clear up-front instead of burying it in the legalese).

If for whatever reason there is an issue (and I certainly hope there isn't), e.g. an undisclosed data breech or other activity that causes substantial economic damage, the recourse of individuals and small firms is substantially limited by not being able to participate in class action.

Even if you choose not to alter your terms, please consider:
- Providing a link to the ""PRE-DISPUTE ARBITRATION CLAUSE"" mentioned in section 19 (Binding Arbitration)
- Write a short, **non-legalese** synopsis of agreements so folks have at least some understanding of what they're signing.
  * [Github is a reasonable example](https://help.github.com/articles/github-terms-of-service/#b-account-terms) 
- Add the ""Cypress CLI"" and other OSS components (Cypress Desktop is already mentioned), and ensure they are indeed released under the MIT licence.
  * Folks are skittish following Facebook's unilateral BSD + Patents debacle.
  * I'd feel much more comfortable if I knew the licence/right-to-use on the engine/CLI was non-revocable.
  * Certainly understand monetizing the dashboard, but without some guarantees around the engine/CLI I'm left holding the bag on a rushed-migration off my entire front-end test-suite should something happen to yal. For example, folks only had a few months to transition their entire auth-stacks off [Stormpath](https://stormpath.com/blog/stormpaths-new-path). Adding to the pain, [Okta bungled](https://hackernoon.com/authentication-as-a-service-an-honest-review-of-auth0-315277abcba1#5a8e) the transition.",question
258956835,Drag & Drop upload,"We are still looking for an option to test Drag & Drop file uploads. 
Is there anything in the plans about this?

Would be nice if I could drop a fixture onto the selected subject. Something like this maybe:

```js
// fixture reference according to: 
// https://docs.cypress.io/api/commands/fixture.html#Shortcuts
cy.get('.dnd-upload-area').dropFile('fixture:image.jpg');
```

Thanks in advance üòä",question
252688110,"Staying logged, not log out after every test","Heya,
currently after each tests I have writen the cycle refreshes and it goes back to root. 
I need to log in the site I am testing and navigate to the page that should be tested every single time, instead of simply staying logged and just start from there.

For an example: I am testing if all the links in the navbar are working properly, I find the link, click it and check if the url is the right one. Then script needs to log in again in order to test the next link (currently they are 30, so you get the point)

I assume there is a way, I just cannot find/think of it. 
If anyone has an expirience or an idea, please share it. Thanks !
",question
249681211,Does Cypress support multiple browsers instances within a single test?,"For example, if you wanted to test a chat application with 2 browsers communicating with each other.

Protractor currently supports this: https://github.com/angular/protractor/blob/master/docs/browser-setup.md#using-multiple-browsers-in-the-same-test",question
249325152,Access stub server from server side rendering,"<!-- Want a bug fixed quickly? Please provide a repository to reproduce the issue. -->

- Operating System: OSX
- Cypress Version: 0.13.1
- Browser Version: 59.0.3071.115

### Is this a Feature or Bug?
Question

### Current behavior:
We have a react app with server side rendering enabled. The underlaying node server uses the same API as the client does. As expected, starting cy.server() only mocks the client calls.

### Desired behavior:
Is there an url to the cy.server(), that we could set to our node server, to use the same mocks as the client does?

",question
249012670,"Question: Possible to .visit() once, or have multiple describes per visit?","Apologies as this a question, not a bug report.

Is there a way to create a **single** `visit` at the beginning of a spec file, and then perform the various `describes/contexts/its` off of this state. The main goal being the same organised, neatly divided GUI but without the need to load a slow page every single time? 

Can this be done by caching a `visit` and somehow passing it between `it`s?

I have some slower background async methods I have to use a `wait` a few seconds for. As I currently generate a new visit in the `beforeEach` for every test, the overall test time grows immensely. 

",question
247896124,Removing aliases which were set in before hooks,"### Current behavior:

If I set an alias in `before` hook, it will be accessible only for first test in the current context.

### Desired behavior:

Alias which is set in `before` hook should be accessible for all tests in the current context.

#### Test code:

This code produces error: `cy.get() could not find a registered alias for: '@gaStub'.` for the second test.
```js
describe('Google Analytics', () => {
  before(() => {
    cy.visit('http://localhost:8080', {
      onBeforeLoad: (contentWindow) => {
        Object.defineProperties(contentWindow, {
          'ga': {
            value: cy.stub().as('gaStub'),
            writable: false
          }
        })
      }
    })
  })

  it('should perform logging on first page load', () => {
    cy.get('@gaStub').should('have.been.called')
  })

  it('should report pageview', () => {
    cy.get('@gaStub').should('have.been.called.with', 'send', 'pageview')
  })
})
```

",question
206271657,Accessing different super domains,"![image](https://cloud.githubusercontent.com/assets/3486950/22749593/04a57b94-ee15-11e6-88ff-775ce486f7b7.png)

In our use case we have several different apps running in the same instance and we want to test the integration between then, to access the different applications we need to access localhost through a different port, however if we try to use cy.visit for this we end up getting into the limitation that we can't access two different super domains. We need to use cy.visit because we need to do act on the dom of the applications so cy.visit wouldn't do it. Is there any suggestions?",question
203530059,Integration with Solano CI,"Any chance for documentation on setting up/running Cypress on Solano?
",question
203460047,Is it possible to handle errors during `.get`? We need to put a retry process in place.,"[QUESTION] 

Is possible handler `.get` error? Because I need retry process case element not exists in DOM.",question
197247815,use cypress to test electron app,"Is it possible or planned to have cypress to test electron app? If so, how? Thanks!",question
179684880,Mock http Backend,"Hi guys,

Please, work in this feature to Cypress!

Check my example with Protractor! https://github.com/jdnichollsc/Game-of-Drones/blob/master/FrontEnd/tests/e2e-tests/mocked-backend.js

Regards, Nicholls
",question
179132244,Potentially catch global `onunhandledrejection` as errors?,"Currently Cypress taps into `window.onerror` for failing tests which have script errors.

But we don't tap into `onunhandledrejection` events. I believe we should, but enable this to be configurable.

**API Idea:**

```
Cypress.Errors.listenForUncaughtExceptions(false)
```

```
Cypress.Errors.listenForUnhandledRejections(false)
```
",question
146881812,Check for background traffic,"Is there a way to monitor and check background traffic?

For example if I enter a site and that site is supposed to issue a tracking call back to the server that does not change the UI - can I somehow check if that tracking call contained a specific string in its url?
",question
115899829,.not() command performs differently from :not() selector,"I am trying to chain the `.not()` command off of a subject with 2 elements. One of the elements will be removed from the DOM (my expected behavior). I wanted to ensure that the remaining element did not have class `empty`. An error throws on the `.not` command due to the first element being removed and the `.not` command is never run on the second element. 

**Example Code I want to write**

``` coffeescript
    it ""adds row on click of link in empty [1yo]"", ->
      cy
        .get(""[data-js='destroy-selection']:first"").click()
        .get("".empty"").find(""[data-js='new-selection-empty']"").click()
        .get("".selections-table>tbody>tr"") ## returns 2 trs
          .not("".empty"").should(""have.length"", 1) ## want to target tr without class .empty
```

**Command Log Result**
<img width=""525"" alt=""screen shot 2015-11-09 at 10 20 50 am"" src=""https://cloud.githubusercontent.com/assets/1271364/11037424/a8ba84c0-86cb-11e5-9a94-42340c95d47a.png"">

If I change my code to use a `:not()` selector, the desired behavior results. This is the behavior I was expecting with the `.not` command. 

**Code with `:not` selector**

``` coffeescript
    it ""adds row on click of link in empty [1yo]"", ->
      cy
        .get(""[data-js='destroy-selection']:first"").click()
        .get("".empty"").find(""[data-js='new-selection-empty']"").click()
        .get("".selections-table>tbody>tr:not(.empty)"") ## returns 1 tr
            .should(""have.length"", 1)
```

**Command Log Result**
<img width=""534"" alt=""screen shot 2015-11-09 at 10 26 28 am"" src=""https://cloud.githubusercontent.com/assets/1271364/11037571/60cc904e-86cc-11e5-86c0-0a954ae4e430.png"">

Am I just improperly using `.not()` or is this unexpected behavior of Cypress?
",question
64832186,allow for aliasing of things beside DOM elements,"I'd like to be able to alias things other than DOM elements, for example a url string of a request. example:

``` js
describe ""asset search"", ->
  beforeEach ->
   cy
     .route(/assets/, {}).as(""getAssets"")
     .get(""form"").submit()
     .wait(""@getAssets"").its(""url"").as(""requestUrl"")

   it ""does not search areaId"", ->
     cy.get(""@requestUrl"").should(""not.match"", /areaId/)

   it ""does not search locationId"", ->
     cy.get(""@requestUrl"").should(""not.match"", /locationId/)
```

This currently just says `Syntax error, unrecognized expression: @requestUrl`
",question
